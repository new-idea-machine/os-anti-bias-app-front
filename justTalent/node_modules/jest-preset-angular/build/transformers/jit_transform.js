"use strict";var Lv=Object.create;var Ao=Object.defineProperty;var Ov=Object.getOwnPropertyDescriptor;var Fv=Object.getOwnPropertyNames;var Bv=Object.getPrototypeOf,$v=Object.prototype.hasOwnProperty;var Uv=(t,e)=>{for(var n in e)Ao(t,n,{get:e[n],enumerable:!0})},Kp=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Fv(e))!$v.call(t,r)&&r!==n&&Ao(t,r,{get:()=>e[r],enumerable:!(s=Ov(e,r))||s.enumerable});return t};var I=(t,e,n)=>(n=t!=null?Lv(Bv(t)):{},Kp(e||!t||!t.__esModule?Ao(n,"default",{value:t,enumerable:!0}):n,t)),Vv=t=>Kp(Ao({},"__esModule",{value:!0}),t);var p0={};Uv(p0,{angularJitApplicationTransform:()=>Ap});module.exports=Vv(p0);var Ee=require("url").pathToFileURL(__filename);var Rv=require("module");var Zg=require("module");var Hg=require("module");var wg=require("module");var Xp=require("module");var zp=require("module"),fr=(0,zp.createRequire)(Ee),Yp=(t=>typeof fr<"u"?fr:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof fr<"u"?fr:e)[n]}):t)(function(t){if(typeof fr<"u")return fr.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Gv=I(require("typescript"),1),Ye=I(require("fs"),1),Jp=require("module"),dt=I(require("path"),1),Zp=require("url"),g0=(0,Xp.createRequire)(Ee);var qv=class{exists(t){throw he()}readFile(t){throw he()}readFileBuffer(t){throw he()}writeFile(t,e,n){throw he()}removeFile(t){throw he()}symlink(t,e){throw he()}readdir(t){throw he()}lstat(t){throw he()}stat(t){throw he()}pwd(){throw he()}chdir(t){throw he()}extname(t){throw he()}copyFile(t,e){throw he()}moveFile(t,e){throw he()}ensureDir(t){throw he()}removeDeep(t){throw he()}isCaseSensitive(){throw he()}resolve(...t){throw he()}dirname(t){throw he()}join(t,...e){throw he()}isRoot(t){throw he()}isRooted(t){throw he()}relative(t,e){throw he()}basename(t,e){throw he()}realpath(t){throw he()}getDefaultLibLocation(){throw he()}normalize(t){throw he()}};function he(){return new Error("FileSystem has not been configured. Please call `setFileSystem()` before calling this method.")}var Hv=new qv;function Qp(t){Hv=t}var y0=Symbol("AbsolutePath");var Wv=class{pwd(){return this.normalize(process.cwd())}chdir(t){process.chdir(t)}resolve(...t){return this.normalize(dt.resolve(...t))}dirname(t){return this.normalize(dt.dirname(t))}join(t,...e){return this.normalize(dt.join(t,...e))}isRoot(t){return this.dirname(t)===this.normalize(t)}isRooted(t){return dt.isAbsolute(t)}relative(t,e){return this.normalize(dt.relative(t,e))}basename(t,e){return dt.basename(t,e)}extname(t){return dt.extname(t)}normalize(t){return t.replace(/\\/g,"/")}},gl=typeof __filename<"u",eh=gl?null:Ee,jv=gl?__filename:(0,Zp.fileURLToPath)(eh),Kv=class extends Wv{constructor(){super(...arguments),this._caseSensitive=void 0}isCaseSensitive(){return this._caseSensitive===void 0&&(this._caseSensitive=!Ye.default.existsSync(this.normalize(zv(jv)))),this._caseSensitive}exists(t){return Ye.default.existsSync(t)}readFile(t){return Ye.default.readFileSync(t,"utf8")}readFileBuffer(t){return Ye.default.readFileSync(t)}readdir(t){return Ye.default.readdirSync(t)}lstat(t){return Ye.default.lstatSync(t)}stat(t){return Ye.default.statSync(t)}realpath(t){return this.resolve(Ye.default.realpathSync(t))}getDefaultLibLocation(){let t=gl?Yp:(0,Jp.createRequire)(eh);return this.resolve(t.resolve("typescript"),"..")}},th=class extends Kv{writeFile(t,e,n=!1){Ye.default.writeFileSync(t,e,n?{flag:"wx"}:void 0)}removeFile(t){Ye.default.unlinkSync(t)}symlink(t,e){Ye.default.symlinkSync(t,e)}copyFile(t,e){Ye.default.copyFileSync(t,e)}moveFile(t,e){Ye.default.renameSync(t,e)}ensureDir(t){Ye.default.mkdirSync(t,{recursive:!0})}removeDeep(t){Ye.default.rmdirSync(t,{recursive:!0})}};function zv(t){return t.replace(/\w/g,e=>e.toUpperCase()===e?e.toLowerCase():e.toUpperCase())}var L=I(require("typescript"),1),vo=I(require("typescript"),1),Ve=I(require("typescript"),1),rp=I(require("typescript"),1),ws=I(require("typescript"),1);var nh=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),en=class t{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){let n=[],s=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},r=new t,i,o=r,a=!1;for(nh.lastIndex=0;i=nh.exec(e);){if(i[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,r.notSelectors.push(o)}let l=i[2];if(l){let p=i[3];p==="#"?o.addAttribute("id",l.slice(1)):p==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=i[4];if(c&&o.addAttribute(o.unescapeAttribute(c),i[6]),i[7]&&(a=!1,o=r),i[8]){if(a)throw new Error("Multiple selectors in :not are not supported");s(n,r),r=o=new t}}return s(n,r),n}unescapeAttribute(e){let n="",s=!1;for(let r=0;r<e.length;r++){let i=e.charAt(r);if(i==="\\"){s=!0;continue}if(i==="$"&&!s)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);s=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let s=this.escapeAttribute(this.attrs[n]),r=this.attrs[n+1];e+=`[${s}${r?"="+r:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},is=class t{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let s=null;e.length>1&&(s=new Ul(e),this._listContexts.push(s));for(let r=0;r<e.length;r++)this._addSelectable(e[r],n,s)}_addSelectable(e,n,s){let r=this,i=e.element,o=e.classNames,a=e.attrs,l=new Vl(e,n,s);if(i&&(a.length===0&&o.length===0?this._addTerminal(r._elementMap,i,l):r=this._addPartial(r._elementPartialMap,i)),o)for(let c=0;c<o.length;c++){let p=a.length===0&&c===o.length-1,f=o[c];p?this._addTerminal(r._classMap,f,l):r=this._addPartial(r._classPartialMap,f)}if(a)for(let c=0;c<a.length;c+=2){let p=c===a.length-2,f=a[c],d=a[c+1];if(p){let y=r._attrValueMap,v=y.get(f);v||(v=new Map,y.set(f,v)),this._addTerminal(v,d,l)}else{let y=r._attrValuePartialMap,v=y.get(f);v||(v=new Map,y.set(f,v)),r=this._addPartial(v,d)}}}_addTerminal(e,n,s){let r=e.get(n);r||(r=[],e.set(n,r)),r.push(s)}_addPartial(e,n){let s=e.get(n);return s||(s=new t,e.set(n,s)),s}match(e,n){let s=!1,r=e.element,i=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(s=this._matchTerminal(this._elementMap,r,e,n)||s,s=this._matchPartial(this._elementPartialMap,r,e,n)||s,i)for(let a=0;a<i.length;a++){let l=i[a];s=this._matchTerminal(this._classMap,l,e,n)||s,s=this._matchPartial(this._classPartialMap,l,e,n)||s}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],p=this._attrValueMap.get(l);c&&(s=this._matchTerminal(p,"",e,n)||s),s=this._matchTerminal(p,c,e,n)||s;let f=this._attrValuePartialMap.get(l);c&&(s=this._matchPartial(f,"",e,n)||s),s=this._matchPartial(f,c,e,n)||s}return s}_matchTerminal(e,n,s,r){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let a,l=!1;for(let c=0;c<i.length;c++)a=i[c],l=a.finalize(s,r)||l;return l}_matchPartial(e,n,s,r){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(s,r):!1}},Ul=class{constructor(e){this.selectors=e,this.alreadyMatched=!1}},Vl=class{constructor(e,n,s){this.selector=e,this.cbContext=n,this.listContext=s,this.notSelectors=e.notSelectors}finalize(e,n){let s=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(s=!is.createNotMatcher(this.notSelectors).match(e,null)),s&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),s}};var dn;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(dn||(dn={}));var Go;(function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"})(Go||(Go={}));var Rs;(function(t){t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"})(Rs||(Rs={}));var ql={name:"custom-elements"},Hl={name:"no-errors-schema"};var J;(function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"})(J||(J={}));var sh;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"})(sh||(sh={}));function Yv(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function Xv(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function Qv(t){let e=Yv(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(s=>Xv(s)):[];return e.concat(...n)}function lo(t){return t?en.parse(t).map(Qv):[]}var Wo;function Jv(t){return ny(ty(t.nodes).join("")+`[${t.meaning}]`)}function Zv(t){return t.id||ad(t)}function ad(t){let e=new Gl,n=t.nodes.map(s=>s.visit(e,null));return ld(n.join(""),t.meaning)}var jo=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(s=>s.visit(this)).join(", ")}]`}visitIcu(e,n){let s=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${s.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}},ey=new jo;function ty(t){return t.map(e=>e.visit(ey,null))}var Gl=class extends jo{visitIcu(e,n){let s=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${s.join(", ")}}`}};function ny(t){Wo??=new TextEncoder;let e=[...Wo.encode(t)],n=iy(e,Ko.Big),s=e.length*8,r=new Uint32Array(80),i=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;n[s>>5]|=128<<24-s%32,n[(s+64>>9<<4)+15]=s;for(let p=0;p<n.length;p+=16){let f=i,d=o,y=a,v=l,T=c;for(let x=0;x<80;x++){x<16?r[x]=n[p+x]:r[x]=vl(r[x-3]^r[x-8]^r[x-14]^r[x-16],1);let D=sy(x,o,a,l),O=D[0],H=D[1],se=[vl(i,5),O,c,H,r[x]].reduce(dr);c=l,l=a,a=vl(o,30),o=i,i=se}i=dr(i,f),o=dr(o,d),a=dr(a,y),l=dr(l,v),c=dr(c,T)}return vi(i)+vi(o)+vi(a)+vi(l)+vi(c)}function vi(t){return(t>>>0).toString(16).padStart(8,"0")}function sy(t,e,n,s){return t<20?[e&n|~e&s,1518500249]:t<40?[e^n^s,1859775393]:t<60?[e&n|e&s|n&s,2400959708]:[e^n^s,3395469782]}function rh(t){Wo??=new TextEncoder;let e=Wo.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=ih(n,e.length,0),r=ih(n,e.length,102072);return s==0&&(r==0||r==1)&&(s=s^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(s))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function ld(t,e=""){let n=rh(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=rh(e)),BigInt.asUintN(63,n).toString()}function ih(t,e,n){let s=2654435769,r=2654435769,i=0,o=e-12;for(;i<=o;i+=12){s+=t.getUint32(i,!0),r+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let l=oh(s,r,n);s=l[0],r=l[1],n=l[2]}let a=e-i;return n+=e,a>=4?(s+=t.getUint32(i,!0),i+=4,a>=8?(r+=t.getUint32(i,!0),i+=4,a>=9&&(n+=t.getUint8(i++)<<8),a>=10&&(n+=t.getUint8(i++)<<16),a===11&&(n+=t.getUint8(i++)<<24)):(a>=5&&(r+=t.getUint8(i++)),a>=6&&(r+=t.getUint8(i++)<<8),a===7&&(r+=t.getUint8(i++)<<16))):(a>=1&&(s+=t.getUint8(i++)),a>=2&&(s+=t.getUint8(i++)<<8),a===3&&(s+=t.getUint8(i++)<<16)),oh(s,r,n)[2]}function oh(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var Ko;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(Ko||(Ko={}));function dr(t,e){return ry(t,e)[1]}function ry(t,e){let n=(t&65535)+(e&65535),s=(t>>>16)+(e>>>16)+(n>>>16);return[s>>>16,s<<16|n&65535]}function vl(t,e){return t<<e|t>>>32-e}function iy(t,e){let n=t.length+3>>>2,s=[];for(let r=0;r<n;r++)s[r]=oy(t,r*4,e);return s}function ah(t,e){return e>=t.length?0:t[e]}function oy(t,e,n){let s=0;if(n===Ko.Big)for(let r=0;r<4;r++)s+=ah(t,e+r)<<24-8*r;else for(let r=0;r<4;r++)s+=ah(t,e+r)<<8*r;return s}var Di;(function(t){t[t.None=0]="None",t[t.Const=1]="Const"})(Di||(Di={}));var os=class{constructor(e=Di.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Ot;(function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"})(Ot||(Ot={}));var tn=class extends os{constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},lt=class extends os{constructor(e,n,s=null){super(n),this.value=e,this.typeParams=s}visitType(e,n){return e.visitExpressionType(this,n)}},Wl=class extends os{constructor(e,n){super(n),this.of=e}visitType(e,n){return e.visitArrayType(this,n)}},jl=class extends os{constructor(e,n){super(n),this.valueType=e||null}visitType(e,n){return e.visitMapType(this,n)}},Lr=class extends os{constructor(e,n){super(n),this.type=e}visitType(e,n){return e.visitTransplantedType(this,n)}},Vt=new tn(Ot.Dynamic),Ze=new tn(Ot.Inferred),cd=new tn(Ot.Bool),ay=new tn(Ot.Int),ai=new tn(Ot.Number),qa=new tn(Ot.String),ly=new tn(Ot.Function),nn=new tn(Ot.None),Ft;(function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"})(Ft||(Ft={}));var w;(function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseOr=11]="BitwiseOr",t[t.BitwiseAnd=12]="BitwiseAnd",t[t.Lower=13]="Lower",t[t.LowerEquals=14]="LowerEquals",t[t.Bigger=15]="Bigger",t[t.BiggerEquals=16]="BiggerEquals",t[t.NullishCoalesce=17]="NullishCoalesce"})(w||(w={}));function ud(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function pd(t,e,n){let s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(!n(t[r],e[r]))return!1;return!0}function ut(t,e){return pd(t,e,(n,s)=>n.isEquivalent(s))}var te=class{constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new je(this,e,null,n)}key(e,n,s){return new sn(this,e,n,s)}callFn(e,n,s){return new We(this,e,null,n,s)}instantiate(e,n,s){return new Fr(this,e,n,s)}conditional(e,n=null,s){return new pt(this,e,n,null,s)}equals(e,n){return new X(w.Equals,this,e,null,n)}notEquals(e,n){return new X(w.NotEquals,this,e,null,n)}identical(e,n){return new X(w.Identical,this,e,null,n)}notIdentical(e,n){return new X(w.NotIdentical,this,e,null,n)}minus(e,n){return new X(w.Minus,this,e,null,n)}plus(e,n){return new X(w.Plus,this,e,null,n)}divide(e,n){return new X(w.Divide,this,e,null,n)}multiply(e,n){return new X(w.Multiply,this,e,null,n)}modulo(e,n){return new X(w.Modulo,this,e,null,n)}and(e,n){return new X(w.And,this,e,null,n)}bitwiseOr(e,n,s=!0){return new X(w.BitwiseOr,this,e,null,n,s)}bitwiseAnd(e,n,s=!0){return new X(w.BitwiseAnd,this,e,null,n,s)}or(e,n){return new X(w.Or,this,e,null,n)}lower(e,n){return new X(w.Lower,this,e,null,n)}lowerEquals(e,n){return new X(w.LowerEquals,this,e,null,n)}bigger(e,n){return new X(w.Bigger,this,e,null,n)}biggerEquals(e,n){return new X(w.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(bn,e)}nullishCoalesce(e,n){return new X(w.NullishCoalesce,this,e,null,n)}toStmt(){return new Fe(this,null)}},St=class t extends te{constructor(e,n,s){super(n,s),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new _i(this.name,e,null,this.sourceSpan)}},Bs=class t extends te{constructor(e,n,s){super(n,s),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},$=class t extends te{constructor(e,n,s){super(n,s),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},_i=class t extends te{constructor(e,n,s,r){super(s||n.type,r),this.name=e,this.value=n}isEquivalent(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteVarExpr(this,n)}clone(){return new t(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new Ke(this.name,this.value,e,n,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Ze,Ne.Final)}},Or=class t extends te{constructor(e,n,s,r,i){super(r||s.type,i),this.receiver=e,this.index=n,this.value=s}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteKeyExpr(this,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},$s=class t extends te{constructor(e,n,s,r,i){super(r||s.type,i),this.receiver=e,this.name=n,this.value=s}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWritePropExpr(this,n)}clone(){return new t(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},We=class t extends te{constructor(e,n,s,r,i=!1){super(s,r),this.fn=e,this.args=n,this.pure=i}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&ut(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Pi=class t extends te{constructor(e,n,s,r){super(s,r),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&pd(this.template.elements,e.template.elements,(n,s)=>n.text===s.text)&&ut(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Fr=class t extends te{constructor(e,n,s,r){super(s,r),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&ut(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Ce=class t extends te{constructor(e,n,s){super(n,s),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Br=class t{constructor(e,n){this.elements=e,this.expressions=n}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},$r=class t{constructor(e,n,s){this.text=e,this.sourceSpan=n,this.rawText=s??n?.toString()??Kl(Uo(e))}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},ss=class{constructor(e,n){this.text=e,this.sourceSpan=n}},Os=class{constructor(e,n,s){this.text=e,this.sourceSpan=n,this.associatedMessage=s}},cy="|",lh="@@",uy="\u241F",ki=class t extends te{constructor(e,n,s,r,i){super(qa,i),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=s,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${cy}${e}`),this.metaBlock.customId&&(e=`${e}${lh}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${uy}${n}`}),ch(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],s=this.messageParts[e],r=n.text;return n.associatedMessage?.legacyIds.length===0&&(r+=`${lh}${ld(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),ch(r,s.text,this.getMessagePartSourceSpan(e))}},Uo=t=>t.replace(/\\/g,"\\\\"),py=t=>t.replace(/^:/,"\\:"),hy=t=>t.replace(/:/g,"\\:"),Kl=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function ch(t,e,n){return t===""?{cooked:e,raw:Kl(py(Uo(e))),range:n}:{cooked:`:${t}:${e}`,raw:Kl(`:${hy(Uo(t))}:${Uo(e)}`),range:n}}var De=class t extends te{constructor(e,n,s=null,r){super(n,r),this.value=e,this.typeParams=s}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}},zo=class{constructor(e,n,s){this.moduleName=e,this.name=n,this.runtime=s}},pt=class t extends te{constructor(e,n,s=null,r,i){super(r||n.type,i),this.condition=e,this.falseCase=s,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&ud(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}},Ur=class t extends te{constructor(e,n){super(null,n),this.url=e}isEquivalent(e){return e instanceof t&&this.url===e.url}isConstant(){return!1}visitExpression(e,n){return e.visitDynamicImportExpr(this,n)}clone(){return new t(this.url,this.sourceSpan)}},En=class t extends te{constructor(e,n){super(cd,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},ue=class t{constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},On=class t extends te{constructor(e,n,s,r,i){super(s,r),this.params=e,this.statements=n,this.name=i}isEquivalent(e){return(e instanceof t||e instanceof Vr)&&ut(this.params,e.params)&&ut(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new Vr(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Fn=class t extends te{constructor(e,n,s,r){super(s,r),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!ut(this.params,e.params)?!1:this.body instanceof te&&e.body instanceof te?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?ut(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new Ke(e,this,Ze,n,this.sourceSpan)}},Bn=class t extends te{constructor(e,n,s,r,i=!0){super(s||ai,r),this.operator=e,this.expr=n,this.parens=i}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},X=class t extends te{constructor(e,n,s,r,i,o=!0){super(r||n.type,i),this.operator=e,this.rhs=s,this.parens=o,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},je=class t extends te{constructor(e,n,s,r){super(s,r),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new $s(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},sn=class t extends te{constructor(e,n,s,r){super(s,r),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new Or(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},ht=class t extends te{constructor(e,n,s){super(n,s),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&ut(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Us=class t{constructor(e,n,s){this.key=e,this.value=n,this.quoted=s}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},Bt=class t extends te{constructor(e,n,s){super(n,s),this.entries=e,this.valueType=null,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&ut(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}},zl=class t extends te{constructor(e,n){super(e[e.length-1].type,n),this.parts=e}isEquivalent(e){return e instanceof t&&ut(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,n){return e.visitCommaExpr(this,n)}clone(){return new t(this.parts.map(e=>e.clone()))}},as=new Ce(null,null,null),bn=new Ce(null,Ze,null),Ne;(function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"})(Ne||(Ne={}));var Ri=class{constructor(e,n,s){this.text=e,this.multiline=n,this.trailingNewline=s}toString(){return this.multiline?` ${this.text} `:this.text}},Mi=class extends Ri{constructor(e){super("",!0,!0),this.tags=e}toString(){return vy(this.tags)}},ls=class{constructor(e=Ne.None,n=null,s){this.modifiers=e,this.sourceSpan=n,this.leadingComments=s}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},Ke=class t extends ls{constructor(e,n,s,r,i,o){super(r,i,o),this.name=e,this.value=n,this.type=s||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},Vr=class t extends ls{constructor(e,n,s,r,i,o,a){super(i,o,a),this.name=e,this.params=n,this.statements=s,this.type=r||null}isEquivalent(e){return e instanceof t&&ut(this.params,e.params)&&ut(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},Fe=class t extends ls{constructor(e,n,s){super(Ne.None,n,s),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},Te=class t extends ls{constructor(e,n=null,s){super(Ne.None,n,s),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},Li=class t extends ls{constructor(e,n,s=[],r,i){super(Ne.None,r,i),this.condition=e,this.trueCase=n,this.falseCase=s}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&ut(this.trueCase,e.trueCase)&&ut(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}},Yl=class{visitType(e,n){return e}visitExpression(e,n){return e.type&&e.type.visitType(this,n),e}visitBuiltinType(e,n){return this.visitType(e,n)}visitExpressionType(e,n){return e.value.visitExpression(this,n),e.typeParams!==null&&e.typeParams.forEach(s=>this.visitType(s,n)),this.visitType(e,n)}visitArrayType(e,n){return this.visitType(e,n)}visitMapType(e,n){return this.visitType(e,n)}visitTransplantedType(e,n){return e}visitWrappedNodeExpr(e,n){return e}visitTypeofExpr(e,n){return this.visitExpression(e,n)}visitReadVarExpr(e,n){return this.visitExpression(e,n)}visitWriteVarExpr(e,n){return e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWriteKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWritePropExpr(e,n){return e.receiver.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitDynamicImportExpr(e,n){return this.visitExpression(e,n)}visitInvokeFunctionExpr(e,n){return e.fn.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitTaggedTemplateExpr(e,n){return e.tag.visitExpression(this,n),this.visitAllExpressions(e.template.expressions,n),this.visitExpression(e,n)}visitInstantiateExpr(e,n){return e.classExpr.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitLiteralExpr(e,n){return this.visitExpression(e,n)}visitLocalizedString(e,n){return this.visitExpression(e,n)}visitExternalExpr(e,n){return e.typeParams&&e.typeParams.forEach(s=>s.visitType(this,n)),this.visitExpression(e,n)}visitConditionalExpr(e,n){return e.condition.visitExpression(this,n),e.trueCase.visitExpression(this,n),e.falseCase.visitExpression(this,n),this.visitExpression(e,n)}visitNotExpr(e,n){return e.condition.visitExpression(this,n),this.visitExpression(e,n)}visitFunctionExpr(e,n){return this.visitAllStatements(e.statements,n),this.visitExpression(e,n)}visitArrowFunctionExpr(e,n){return Array.isArray(e.body)?this.visitAllStatements(e.body,n):this.visitExpression(e.body,n),this.visitExpression(e,n)}visitUnaryOperatorExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitBinaryOperatorExpr(e,n){return e.lhs.visitExpression(this,n),e.rhs.visitExpression(this,n),this.visitExpression(e,n)}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),this.visitExpression(e,n)}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),this.visitExpression(e,n)}visitLiteralArrayExpr(e,n){return this.visitAllExpressions(e.entries,n),this.visitExpression(e,n)}visitLiteralMapExpr(e,n){return e.entries.forEach(s=>s.value.visitExpression(this,n)),this.visitExpression(e,n)}visitCommaExpr(e,n){return this.visitAllExpressions(e.parts,n),this.visitExpression(e,n)}visitAllExpressions(e,n){e.forEach(s=>s.visitExpression(this,n))}visitDeclareVarStmt(e,n){return e.value&&e.value.visitExpression(this,n),e.type&&e.type.visitType(this,n),e}visitDeclareFunctionStmt(e,n){return this.visitAllStatements(e.statements,n),e.type&&e.type.visitType(this,n),e}visitExpressionStmt(e,n){return e.expr.visitExpression(this,n),e}visitReturnStmt(e,n){return e.value.visitExpression(this,n),e}visitIfStmt(e,n){return e.condition.visitExpression(this,n),this.visitAllStatements(e.trueCase,n),this.visitAllStatements(e.falseCase,n),e}visitAllStatements(e,n){e.forEach(s=>s.visitStatement(this,n))}};function fy(t,e=!1,n=!0){return new Ri(t,e,n)}function hd(t=[]){return new Mi(t)}function R(t,e,n){return new St(t,e,n)}function A(t,e=null,n){return new De(t,null,e,n)}function dy(t,e,n){return t!=null?Le(A(t,e,null),n):null}function Le(t,e,n){return new lt(t,e,n)}function my(t,e){return new Lr(t,e)}function li(t){return new Bs(t)}function q(t,e,n){return new ht(t,e,n)}function _e(t,e=null){return new Bt(t.map(n=>new Us(n.key,n.value,n.quoted)),e,null)}function gy(t,e,n,s){return new Bn(t,e,n,s)}function Pu(t,e){return new En(t,e)}function rn(t,e,n,s,r){return new On(t,e,n,s,r)}function Oe(t,e,n,s){return new Fn(t,e,n,s)}function ci(t,e,n,s,r){return new Li(t,e,n,s,r)}function Yo(t,e,n,s){return new Pi(t,e,n,s)}function m(t,e,n){return new Ce(t,e,n)}function fd(t,e,n,s,r){return new ki(t,e,n,s,r)}function ku(t){return t instanceof Ce&&t.value===null}function uh(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function vy(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${uh(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=uh(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Ha=Object.freeze({__proto__:null,get TypeModifier(){return Di},Type:os,get BuiltinTypeName(){return Ot},BuiltinType:tn,ExpressionType:lt,ArrayType:Wl,MapType:jl,TransplantedType:Lr,DYNAMIC_TYPE:Vt,INFERRED_TYPE:Ze,BOOL_TYPE:cd,INT_TYPE:ay,NUMBER_TYPE:ai,STRING_TYPE:qa,FUNCTION_TYPE:ly,NONE_TYPE:nn,get UnaryOperator(){return Ft},get BinaryOperator(){return w},nullSafeIsEquivalent:ud,areAllEquivalent:ut,Expression:te,ReadVarExpr:St,TypeofExpr:Bs,WrappedNodeExpr:$,WriteVarExpr:_i,WriteKeyExpr:Or,WritePropExpr:$s,InvokeFunctionExpr:We,TaggedTemplateExpr:Pi,InstantiateExpr:Fr,LiteralExpr:Ce,TemplateLiteral:Br,TemplateLiteralElement:$r,LiteralPiece:ss,PlaceholderPiece:Os,LocalizedString:ki,ExternalExpr:De,ExternalReference:zo,ConditionalExpr:pt,DynamicImportExpr:Ur,NotExpr:En,FnParam:ue,FunctionExpr:On,ArrowFunctionExpr:Fn,UnaryOperatorExpr:Bn,BinaryOperatorExpr:X,ReadPropExpr:je,ReadKeyExpr:sn,LiteralArrayExpr:ht,LiteralMapEntry:Us,LiteralMapExpr:Bt,CommaExpr:zl,NULL_EXPR:as,TYPED_NULL_EXPR:bn,get StmtModifier(){return Ne},LeadingComment:Ri,JSDocComment:Mi,Statement:ls,DeclareVarStmt:Ke,DeclareFunctionStmt:Vr,ExpressionStatement:Fe,ReturnStatement:Te,IfStmt:Li,RecursiveAstVisitor:Yl,leadingComment:fy,jsDocComment:hd,variable:R,importExpr:A,importType:dy,expressionType:Le,transplantedType:my,typeofExpr:li,literalArr:q,literalMap:_e,unary:gy,not:Pu,fn:rn,arrowFn:Oe,ifStmt:ci,taggedTemplate:Yo,literal:m,localizedString:fd,isNull:ku}),yy="_c",ph=R("<unknown>"),Ey={},Sy=50,Xo=class t extends te{constructor(e){super(e.type),this.resolved=e,this.shared=!1,this.original=e}visitExpression(e,n){return n===Ey?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Oi=class{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.sharedConstants=new Map,this._claimedNames=new Map,this.nextNameIndex=0}getConstLiteral(e,n){if(e instanceof Ce&&!hh(e)||e instanceof Xo)return e;let s=Pr.INSTANCE.keyOf(e),r=this.literals.get(s),i=!1;if(r||(r=new Xo(e),this.literals.set(s,r),i=!0),!i&&!r.shared||i&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&hh(e)?(a=R(o).set(new On([],[new Te(e)])),l=R(o).callFn([])):(a=R(o).set(e),l=R(o)),this.statements.push(a.toDeclStmt(Ze,Ne.Final)),r.fixup(l)}return r}getSharedConstant(e,n){let s=e.keyOf(n);if(!this.sharedConstants.has(s)){let r=this.freshName();this.sharedConstants.set(s,R(r)),this.statements.push(e.toSharedConstantDeclaration(r,n))}return this.sharedConstants.get(s)}getLiteralFactory(e){if(e instanceof ht){let n=e.entries.map(r=>r.isConstant()?r:ph),s=Pr.INSTANCE.keyOf(q(n));return this._getLiteralFactory(s,e.entries,r=>q(r))}else{let n=_e(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:ph,quoted:r.quoted}))),s=Pr.INSTANCE.keyOf(n);return this._getLiteralFactory(s,e.entries.map(r=>r.value),r=>_e(r.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,s=!0){let r=e instanceof Fn;for(let o of this.statements)if(r&&o instanceof Ke&&o.value?.isEquivalent(e)||!r&&o instanceof Vr&&e.isEquivalent(o))return R(o.name);let i=s?this.uniqueName(n):n;return this.statements.push(e.toDeclStmt(i,Ne.Final)),R(i)}_getLiteralFactory(e,n,s){let r=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!r){let o=n.map((p,f)=>p.isConstant()?this.getConstLiteral(p,!0):R(`a${f}`)),a=o.filter(xy).map(p=>new ue(p.name,Vt)),l=Oe(a,s(o),Ze),c=this.freshName();this.statements.push(R(c).set(l).toDeclStmt(Ze,Ne.Final)),r=R(c),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e,n=!0){let s=this._claimedNames.get(e)??0,r=s===0&&!n?`${e}`:`${e}${s}`;return this._claimedNames.set(e,s+1),r}freshName(){return this.uniqueName(yy)}},Pr=class t{static{this.INSTANCE=new t}keyOf(e){if(e instanceof Ce&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Ce)return String(e.value);if(e instanceof ht){let n=[];for(let s of e.entries)n.push(this.keyOf(s));return`[${n.join(",")}]`}else if(e instanceof Bt){let n=[];for(let s of e.entries){let r=s.key;s.quoted&&(r=`"${r}"`),n.push(r+":"+this.keyOf(s.value))}return`{${n.join(",")}}`}else{if(e instanceof De)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof St)return`read(${e.name})`;if(e instanceof Bs)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function xy(t){return t instanceof St}function hh(t){return t instanceof Ce&&typeof t.value=="string"&&t.value.length>=Sy}var g="@angular/core",u=class{static{this.NEW_METHOD="factory"}static{this.TRANSFORM_METHOD="transform"}static{this.PATCH_DEPS="patchedDeps"}static{this.core={name:null,moduleName:g}}static{this.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:g}}static{this.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:g}}static{this.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:g}}static{this.element={name:"\u0275\u0275element",moduleName:g}}static{this.elementStart={name:"\u0275\u0275elementStart",moduleName:g}}static{this.elementEnd={name:"\u0275\u0275elementEnd",moduleName:g}}static{this.advance={name:"\u0275\u0275advance",moduleName:g}}static{this.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:g}}static{this.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:g}}static{this.attribute={name:"\u0275\u0275attribute",moduleName:g}}static{this.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:g}}static{this.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:g}}static{this.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:g}}static{this.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:g}}static{this.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:g}}static{this.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:g}}static{this.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:g}}static{this.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:g}}static{this.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:g}}static{this.classProp={name:"\u0275\u0275classProp",moduleName:g}}static{this.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:g}}static{this.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:g}}static{this.elementContainer={name:"\u0275\u0275elementContainer",moduleName:g}}static{this.styleMap={name:"\u0275\u0275styleMap",moduleName:g}}static{this.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:g}}static{this.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:g}}static{this.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:g}}static{this.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:g}}static{this.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:g}}static{this.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:g}}static{this.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:g}}static{this.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:g}}static{this.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:g}}static{this.classMap={name:"\u0275\u0275classMap",moduleName:g}}static{this.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:g}}static{this.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:g}}static{this.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:g}}static{this.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:g}}static{this.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:g}}static{this.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:g}}static{this.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:g}}static{this.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:g}}static{this.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:g}}static{this.styleProp={name:"\u0275\u0275styleProp",moduleName:g}}static{this.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:g}}static{this.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:g}}static{this.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:g}}static{this.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:g}}static{this.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:g}}static{this.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:g}}static{this.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:g}}static{this.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:g}}static{this.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:g}}static{this.nextContext={name:"\u0275\u0275nextContext",moduleName:g}}static{this.resetView={name:"\u0275\u0275resetView",moduleName:g}}static{this.templateCreate={name:"\u0275\u0275template",moduleName:g}}static{this.defer={name:"\u0275\u0275defer",moduleName:g}}static{this.deferWhen={name:"\u0275\u0275deferWhen",moduleName:g}}static{this.deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:g}}static{this.deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:g}}static{this.deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:g}}static{this.deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:g}}static{this.deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:g}}static{this.deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:g}}static{this.deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:g}}static{this.deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:g}}static{this.deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:g}}static{this.deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:g}}static{this.deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:g}}static{this.deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:g}}static{this.deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:g}}static{this.deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:g}}static{this.conditional={name:"\u0275\u0275conditional",moduleName:g}}static{this.repeater={name:"\u0275\u0275repeater",moduleName:g}}static{this.repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:g}}static{this.repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:g}}static{this.repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:g}}static{this.componentInstance={name:"\u0275\u0275componentInstance",moduleName:g}}static{this.text={name:"\u0275\u0275text",moduleName:g}}static{this.enableBindings={name:"\u0275\u0275enableBindings",moduleName:g}}static{this.disableBindings={name:"\u0275\u0275disableBindings",moduleName:g}}static{this.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:g}}static{this.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:g}}static{this.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:g}}static{this.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:g}}static{this.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:g}}static{this.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:g}}static{this.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:g}}static{this.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:g}}static{this.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:g}}static{this.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:g}}static{this.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:g}}static{this.restoreView={name:"\u0275\u0275restoreView",moduleName:g}}static{this.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:g}}static{this.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:g}}static{this.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:g}}static{this.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:g}}static{this.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:g}}static{this.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:g}}static{this.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:g}}static{this.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:g}}static{this.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:g}}static{this.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:g}}static{this.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:g}}static{this.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:g}}static{this.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:g}}static{this.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:g}}static{this.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:g}}static{this.hostProperty={name:"\u0275\u0275hostProperty",moduleName:g}}static{this.property={name:"\u0275\u0275property",moduleName:g}}static{this.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:g}}static{this.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:g}}static{this.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:g}}static{this.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:g}}static{this.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:g}}static{this.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:g}}static{this.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:g}}static{this.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:g}}static{this.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:g}}static{this.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:g}}static{this.i18n={name:"\u0275\u0275i18n",moduleName:g}}static{this.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:g}}static{this.i18nExp={name:"\u0275\u0275i18nExp",moduleName:g}}static{this.i18nStart={name:"\u0275\u0275i18nStart",moduleName:g}}static{this.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:g}}static{this.i18nApply={name:"\u0275\u0275i18nApply",moduleName:g}}static{this.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:g}}static{this.pipe={name:"\u0275\u0275pipe",moduleName:g}}static{this.projection={name:"\u0275\u0275projection",moduleName:g}}static{this.projectionDef={name:"\u0275\u0275projectionDef",moduleName:g}}static{this.reference={name:"\u0275\u0275reference",moduleName:g}}static{this.inject={name:"\u0275\u0275inject",moduleName:g}}static{this.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:g}}static{this.directiveInject={name:"\u0275\u0275directiveInject",moduleName:g}}static{this.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:g}}static{this.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:g}}static{this.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:g}}static{this.forwardRef={name:"forwardRef",moduleName:g}}static{this.resolveForwardRef={name:"resolveForwardRef",moduleName:g}}static{this.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:g}}static{this.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:g}}static{this.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:g}}static{this.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:g}}static{this.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:g}}static{this.resolveBody={name:"\u0275\u0275resolveBody",moduleName:g}}static{this.getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:g}}static{this.defineComponent={name:"\u0275\u0275defineComponent",moduleName:g}}static{this.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:g}}static{this.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:g}}static{this.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:g}}static{this.ViewEncapsulation={name:"ViewEncapsulation",moduleName:g}}static{this.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:g}}static{this.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:g}}static{this.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:g}}static{this.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:g}}static{this.defineDirective={name:"\u0275\u0275defineDirective",moduleName:g}}static{this.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:g}}static{this.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:g}}static{this.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:g}}static{this.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:g}}static{this.defineInjector={name:"\u0275\u0275defineInjector",moduleName:g}}static{this.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:g}}static{this.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:g}}static{this.ModuleWithProviders={name:"ModuleWithProviders",moduleName:g}}static{this.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:g}}static{this.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:g}}static{this.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:g}}static{this.registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:g}}static{this.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:g}}static{this.definePipe={name:"\u0275\u0275definePipe",moduleName:g}}static{this.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:g}}static{this.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:g}}static{this.setClassMetadata={name:"\u0275setClassMetadata",moduleName:g}}static{this.setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:g}}static{this.setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:g}}static{this.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:g}}static{this.viewQuery={name:"\u0275\u0275viewQuery",moduleName:g}}static{this.loadQuery={name:"\u0275\u0275loadQuery",moduleName:g}}static{this.contentQuery={name:"\u0275\u0275contentQuery",moduleName:g}}static{this.viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:g}}static{this.contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:g}}static{this.queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:g}}static{this.twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:g}}static{this.twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:g}}static{this.twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:g}}static{this.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:g}}static{this.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:g}}static{this.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:g}}static{this.StandaloneFeature={name:"\u0275\u0275StandaloneFeature",moduleName:g}}static{this.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:g}}static{this.HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:g}}static{this.InputTransformsFeatureFeature={name:"\u0275\u0275InputTransformsFeature",moduleName:g}}static{this.listener={name:"\u0275\u0275listener",moduleName:g}}static{this.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:g}}static{this.InputFlags={name:"\u0275\u0275InputFlags",moduleName:g}}static{this.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:g}}static{this.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:g}}static{this.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:g}}static{this.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:g}}static{this.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:g}}static{this.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:g}}static{this.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:g}}static{this.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:g}}static{this.validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:g}}static{this.InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:g}}static{this.UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:g}}static{this.unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:g}}},wy=/-+([a-z0-9])/g;function Ty(t){return t.replace(wy,(...e)=>e[1].toUpperCase())}function Cy(t,e){return dd(t,":",e)}function Iy(t,e){return dd(t,".",e)}function dd(t,e,n){let s=t.indexOf(e);return s==-1?n:[t.slice(0,s).trim(),t.slice(s+1).trim()]}function Qo(t){throw new Error(`Internal Error: ${t}`)}function Ay(t){let e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s>=55296&&s<=56319&&t.length>n+1){let r=t.charCodeAt(n+1);r>=56320&&r<=57343&&(n++,s=(s-55296<<10)+r-56320+65536)}s<=127?e.push(s):s<=2047?e.push(s>>6&31|192,s&63|128):s<=65535?e.push(s>>12|224,s>>6&63|128,s&63|128):s<=2097151&&e.push(s>>18&7|240,s>>12&63|128,s>>6&63|128,s&63|128)}return e}function md(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(md).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}var Fi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ti=globalThis;function by(t,e){let n=[],s=[];for(let r of t)(e(r)?n:s).push(r);return[n,s]}var Ny=3,Dy="# sourceMappingURL=data:application/json;base64,",Xl=class{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,s,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(s==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:s,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],s=[];Array.from(this.sourcesContent.keys()).forEach((c,p)=>{e.set(c,p),n.push(c),s.push(this.sourcesContent.get(c)||null)});let r="",i=0,o=0,a=0,l=0;return this.lines.forEach(c=>{i=0,r+=c.map(p=>{let f=bo(p.col0-i);return i=p.col0,p.sourceUrl!=null&&(f+=bo(e.get(p.sourceUrl)-o),o=e.get(p.sourceUrl),f+=bo(p.sourceLine0-a),a=p.sourceLine0,f+=bo(p.sourceCol0-l),l=p.sourceCol0),f}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:Ny,sourceRoot:"",sources:n,sourcesContent:s,mappings:r}}toJsComment(){return this.hasMappings?"//"+Dy+_y(JSON.stringify(this,null,0)):""}};function _y(t){let e="",n=Ay(t);for(let s=0;s<n.length;){let r=n[s++],i=s<n.length?n[s++]:null,o=s<n.length?n[s++]:null;e+=Si(r>>2),e+=Si((r&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":Si((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":Si(o&63)}return e}function bo(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Si(n)}while(t>0);return e}var Py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Si(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return Py[t]}var ky=/'|\\|\n|\r|\$/g,Ry=/^[$A-Z_][0-9A-Z_$]*$/i,Ql="  ",Jo=class{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}},Jl=class t{static createRoot(){return new t(0)}constructor(e){this._indent=e,this._lines=[new Jo(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*Ql.length+this._currentLine.partsLength}print(e,n,s=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),s&&this._lines.push(new Jo(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?fh(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let s=new Xl(e),r=!1,i=()=>{r||(s.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let o=0;o<n;o++)s.addLine(),i();return this.sourceLines.forEach((o,a)=>{s.addLine();let l=o.srcSpans,c=o.parts,p=o.indent*Ql.length,f=0;for(;f<l.length&&!l[f];)p+=c[f].length,f++;for(f<l.length&&a===0&&p===0?r=!0:i();f<l.length;){let d=l[f],y=d.start.file,v=d.start.line,T=d.start.col;for(s.addSource(y.url,y.content).addMapping(p,y.url,v,T),p+=c[f].length,f++;f<l.length&&(d===l[f]||!l[f]);)p+=c[f].length,f++}}),s}spanOf(e,n){let s=this._lines[e];if(s){let r=n-fh(s.indent).length;for(let i=0;i<s.parts.length;i++){let o=s.parts[i];if(o.length>r)return s.srcSpans[i];r-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},Zl=class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let s of e.leadingComments)s instanceof Mi?n.print(e,`/*${s.toString()}*/`,s.trailingNewline):s.multiline?n.print(e,`/* ${s.text} */`,s.trailingNewline):s.text.split(`
`).forEach(r=>{n.println(e,`// ${r}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),e.condition.visitExpression(this,n),n.print(e,") {");let s=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!s?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),s&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitWriteVarExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),n.print(e,`${e.name} = `),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitWriteKeyExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"] = "),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitWritePropExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,`.${e.name} = `),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitInvokeFunctionExpr(e,n){let s=e.fn instanceof Fn;return s&&n.print(e.fn,"("),e.fn.visitExpression(this,n),s&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateExpr(e,n){e.tag.visitExpression(this,n),n.print(e,"`"+e.template.elements[0].rawText);for(let s=1;s<e.template.elements.length;s++)n.print(e,"${"),e.template.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.template.elements[s].rawText}`);return n.print(e,"`"),null}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let s=e.value;return typeof s=="string"?n.print(e,Ms(s,this._escapeDollarInStrings)):n.print(e,`${s}`),null}visitLocalizedString(e,n){let s=e.serializeI18nHead();n.print(e,"$localize `"+s.raw);for(let r=1;r<e.messageParts.length;r++)n.print(e,"${"),e.expressions[r-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let s;switch(e.operator){case Ft.Plus:s="+";break;case Ft.Minus:s="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),n.print(e,s),e.expr.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let s;switch(e.operator){case w.Equals:s="==";break;case w.Identical:s="===";break;case w.NotEquals:s="!=";break;case w.NotIdentical:s="!==";break;case w.And:s="&&";break;case w.BitwiseOr:s="|";break;case w.BitwiseAnd:s="&";break;case w.Or:s="||";break;case w.Plus:s="+";break;case w.Minus:s="-";break;case w.Divide:s="/";break;case w.Multiply:s="*";break;case w.Modulo:s="%";break;case w.Lower:s="<";break;case w.LowerEquals:s="<=";break;case w.Bigger:s=">";break;case w.BiggerEquals:s=">=";break;case w.NullishCoalesce:s="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${s} `),e.rhs.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(s=>{n.print(e,`${Ms(s.key,this._escapeDollarInStrings,s.quoted)}:`),s.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitAllExpressions(e,n,s){this.visitAllObjects(r=>r.visitExpression(this,n),e,n,s)}visitAllObjects(e,n,s,r){let i=!1;for(let o=0;o<n.length;o++)o>0&&(s.lineLength()>80?(s.print(null,r,!0),i||(s.incIndent(),s.incIndent(),i=!0)):s.print(null,r,!1)),e(n[o]);i&&(s.decIndent(),s.decIndent())}visitAllStatements(e,n){e.forEach(s=>s.visitStatement(this,n))}};function Ms(t,e,n=!0){if(t==null)return null;let s=t.replace(ky,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!Ry.test(s)?`'${s}'`:s}function fh(t){let e="";for(let n=0;n<t;n++)e+=Ql;return e}function Ga(t,e){if(e===0)return Le(t);let n=[];for(let s=0;s<e;s++)n.push(Vt);return Le(t,void 0,n)}var gd="@";function vd(t){return`${gd}${t}`}function My(t,e){return`${gd}${t}.${e}`}function yd(t,e){let n=Ms(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function Ed(t,e){return`animation_${t}_${e}`}function Ly(t){return Oy("ngJitMode",t)}function Oy(t,e){let n=new De({name:t,moduleName:null}),s=new X(w.Identical,new Bs(n),m("undefined")),r=new X(w.Or,s,n,void 0,void 0,!0);return new X(w.And,r,e)}function $e(t){let e=new $(t);return{value:e,type:e}}function Ls(t,e){let n=q(t.map(s=>s.value));return e?Oe([],n):n}function ir(t,e){return{expression:t,forwardRef:e}}function Fy({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return By(t)}}function By(t){return A(u.forwardRef).callFn([Oe([],t)])}var Bi;(function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"})(Bi||(Bi={}));var at;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(at||(at={}));function es(t){let e=R("t"),n=null,s=mh(t)?e:new X(w.Or,e,t.type.value),r=null;t.deps!==null?t.deps!=="invalid"&&(r=new Fr(s,dh(t.deps,t.target))):(n=R(`\u0275${t.name}_BaseFactory`),r=n.callFn([s]));let i=[],o=null;function a(c){let p=R("r");i.push(p.set(as).toDeclStmt());let f=r!==null?p.set(r).toStmt():A(u.invalidFactory).callFn([]).toStmt();return i.push(ci(e,[f],[p.set(c).toStmt()])),p}if(mh(t)){let c=dh(t.delegateDeps,t.target),p=new(t.delegateType===Bi.Class?Fr:We)(t.delegate,c);o=a(p)}else Hy(t)?o=a(t.expression):o=r;if(o===null)i.push(A(u.invalidFactory).callFn([]).toStmt());else if(n!==null){let c=A(u.getInheritedFactory).callFn([t.type.value]),p=new X(w.Or,n,n.set(c));i.push(new Te(p.callFn([s])))}else i.push(new Te(o));let l=rn([new ue("t",Vt)],i,Ze,void 0,`${t.name}_Factory`);return n!==null&&(l=Oe([],[new Ke(n.name),new Te(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:$y(t)}}function $y(t){let e=t.deps!==null&&t.deps!=="invalid"?Vy(t.deps):nn;return Le(A(u.FactoryDeclaration,[Ga(t.type.type,t.typeArgumentCount),e]))}function dh(t,e){return t.map((n,s)=>Uy(n,e,s))}function Uy(t,e,n){if(t.token===null)return A(u.invalidFactoryDep).callFn([m(n)]);if(t.attributeNameType===null){let s=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===at.Pipe?16:0),r=s!==0||t.optional?m(s):null,i=[t.token];r&&i.push(r);let o=Gy(e);return A(o).callFn(i)}else return A(u.injectAttribute).callFn([t.token])}function Vy(t){let e=!1,n=t.map(s=>{let r=qy(s);return r!==null?(e=!0,r):m(null)});return e?Le(q(n)):nn}function qy(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:m(!0),quoted:!1}),t.host&&e.push({key:"host",value:m(!0),quoted:!1}),t.self&&e.push({key:"self",value:m(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:m(!0),quoted:!1}),e.length>0?_e(e):null}function mh(t){return t.delegateType!==void 0}function Hy(t){return t.expression!==void 0}function Gy(t){switch(t){case at.Component:case at.Directive:case at.Pipe:return u.directiveInject;case at.NgModule:case at.Injectable:default:return u.inject}}var Kt;(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(Kt||(Kt={}));function ct(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function ec(t){return ct(t)[1]==="ng-container"}function tc(t){return ct(t)[1]==="ng-content"}function Wy(t){return ct(t)[1]==="ng-template"}function nc(t){return t===null?null:ct(t)[0]}function sc(t,e){return t?`:${t}:${e}`:e}var qr=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},Lt=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},Sn=class{constructor(e,n,s){this.value=e,this.sourceSpan=n,this.i18n=s}visit(e){return e.visitBoundText(this)}},bt=class{constructor(e,n,s,r,i,o){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},$t=class t{constructor(e,n,s,r,i,o,a,l,c){this.name=e,this.type=n,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Vs=class t{constructor(e,n,s,r,i,o,a,l){this.name=e,this.type=n,this.handler=s,this.target=r,this.phase=i,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===0?e.targetOrPhase:null,s=e.type===1?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,s,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},ne=class{constructor(e,n,s,r,i,o,a,l,c,p){this.name=e,this.attributes=n,this.inputs=s,this.outputs=r,this.children=i,this.references=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c,this.i18n=p}visit(e){return e.visitElement(this)}},$n=class{constructor(e,n,s,r){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=s,this.whenOrOnSourceSpan=r}visit(e){return e.visitDeferredTrigger(this)}},Hr=class extends $n{constructor(e,n,s,r){super(null,n,s,r),this.value=e}},rc=class extends $n{},ic=class extends $n{},Zo=class extends $n{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},oc=class extends $n{constructor(e,n,s,r,i){super(n,s,r,i),this.delay=e}},ea=class extends $n{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},ta=class extends $n{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},Ut=class{constructor(e,n,s,r){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=s,this.endSourceSpan=r}},$i=class extends Ut{constructor(e,n,s,r,i,o,a){super(s,r,i,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Ui=class extends Ut{constructor(e,n,s,r,i,o,a,l){super(r,i,o,a),this.children=e,this.afterTime=n,this.minimumTime=s,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Vi=class extends Ut{constructor(e,n,s,r,i,o){super(n,s,r,i),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},Un=class extends Ut{constructor(e,n,s,r,i,o,a,l,c,p,f,d){super(a,l,p,f),this.children=e,this.placeholder=r,this.loading=i,this.error=o,this.mainBlockSpan=c,this.i18n=d,this.triggers=n,this.prefetchTriggers=s,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(s)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Ci(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(s=>s!==null);Ci(e,n)}visitTriggers(e,n,s){Ci(s,e.map(r=>n[r]))}},Gr=class extends Ut{constructor(e,n,s,r,i,o,a){super(a,r,i,o),this.expression=e,this.cases=n,this.unknownBlocks=s}visit(e){return e.visitSwitchBlock(this)}},qi=class extends Ut{constructor(e,n,s,r,i,o,a){super(o,s,r,i),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},on=class extends Ut{constructor(e,n,s,r,i,o,a,l,c,p,f,d,y){super(d,l,p,f),this.item=e,this.expression=n,this.trackBy=s,this.trackKeywordSpan=r,this.contextVariables=i,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=y}visit(e){return e.visitForLoopBlock(this)}},Wr=class extends Ut{constructor(e,n,s,r,i,o){super(i,n,s,r),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},qs=class extends Ut{constructor(e,n,s,r,i){super(i,n,s,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},Mn=class extends Ut{constructor(e,n,s,r,i,o,a,l){super(a,r,i,o),this.expression=e,this.children=n,this.expressionAlias=s,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},na=class{constructor(e,n,s){this.name=e,this.sourceSpan=n,this.nameSpan=s}visit(e){return e.visitUnknownBlock(this)}},ie=class{constructor(e,n,s,r,i,o,a,l,c,p,f,d){this.tagName=e,this.attributes=n,this.inputs=s,this.outputs=r,this.templateAttrs=i,this.children=o,this.references=a,this.variables=l,this.sourceSpan=c,this.startSourceSpan=p,this.endSourceSpan=f,this.i18n=d}visit(e){return e.visitTemplate(this)}},sa=class{constructor(e,n,s,r){this.selector=e,this.attributes=n,this.sourceSpan=s,this.i18n=r,this.name="ng-content"}visit(e){return e.visitContent(this)}},xt=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitVariable(this)}},xn=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitReference(this)}},Hs=class{constructor(e,n,s,r){this.vars=e,this.placeholders=n,this.sourceSpan=s,this.i18n=r}visit(e){return e.visitIcu(this)}};function Ci(t,e){let n=[];if(t.visit)for(let s of e)t.visit(s)||s.visit(t);else for(let s of e){let r=s.visit(t);r&&n.push(r)}return n}var et=class{constructor(e,n,s,r,i,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=s,this.meaning=r,this.description=i,this.customId=o,this.legacyIds=[],this.id=this.customId,this.messageString=jy(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Tr=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},vn=class{constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},ra=class{constructor(e,n,s,r,i){this.expression=e,this.type=n,this.cases=s,this.sourceSpan=r,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},cs=class{constructor(e,n,s,r,i,o,a,l,c){this.tag=e,this.attrs=n,this.startName=s,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitTagPlaceholder(this,n)}},Hi=class{constructor(e,n,s){this.value=e,this.name=n,this.sourceSpan=s}visit(e,n){return e.visitPlaceholder(this,n)}},jr=class{constructor(e,n,s){this.value=e,this.name=n,this.sourceSpan=s}visit(e,n){return e.visitIcuPlaceholder(this,n)}},Vn=class{constructor(e,n,s,r,i,o,a,l){this.name=e,this.parameters=n,this.startName=s,this.closeName=r,this.children=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function jy(t){let e=new ac;return t.map(s=>s.visit(e)).join("")}var ac=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var lc=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let s=e.children.map(r=>r.visit(this));return`<${e.name}${n}>${s.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(s=>`${s}="${e[s]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},I0=new lc;function Ky(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var zy="MSG_",Yy="i18n_",Sd="i18n",cc="i18n-",Xy="VAR_",Qy="I18N_EXP_",gh="\uFFFD";function xd(t){return t===Sd||t.startsWith(cc)}function Gi(t){return t instanceof et}function xi(t){return Gi(t)&&t.nodes.length===1&&t.nodes[0]instanceof ra}function Jy(t){return!!t.i18n}function Zy(t){return t.attrs.some(e=>xd(e.name))}function Ru(t){return t.nodes[0]}function Wa(t,e=0){let n=e>0?`:${e}`:"";return`${gh}${t}${n}${gh}`}function eE(t,e=0,n=0){if(!t.length)return"";let s="",r=t.length-1;for(let i=0;i<r;i++)s+=`${t[i]}${Wa(e+i,n)}`;return s+=t[r],s}function tE(t=0){let e=t;return()=>e++}function vh(t){let e={};return t.forEach((n,s)=>{e[s]=m(n.length>1?`[${n.join("|")}]`:n[0])}),e}function wi(t,e,...n){let s=t.get(e)||[];s.push(...n),t.set(e,s)}function wd(t,e=0,n=0){let s=e,r=new Map,i=t instanceof et?t.nodes.find(o=>o instanceof vn):t;return i&&i.children.filter(o=>o instanceof Hi).forEach((o,a)=>{let l=Wa(s+a,n);wi(r,o.name,l)}),r}function co(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(s=>n[uo(s,e)]=t[s]),n}function uo(t,e=!0){let n=Ky(t);if(!e)return n;let s=n.split("_");if(s.length===1)return t.toLowerCase();let r;/^\d+$/.test(s[s.length-1])&&(r=s.pop());let i=s.shift().toLowerCase();return s.length&&(i+=s.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),r?`${i}_${r}`:i}function ia(t){return`${zy}${t}`.toUpperCase()}function Td(t){return new Ke(t.name,void 0,Ze,void 0,t.sourceSpan)}var nE=/[-.]/,Mu="_t",rt="ctx",po="rf",sE="_r",rE="$implicit",iE="ngNonBindable",Cd="restoredCtx",uc="#context",oE=500,aE=new Set([u.element,u.elementStart,u.elementEnd,u.elementContainer,u.elementContainerStart,u.elementContainerEnd,u.i18nExp,u.listener,u.classProp,u.syntheticHostListener,u.hostProperty,u.syntheticHostProperty,u.property,u.propertyInterpolate1,u.propertyInterpolate2,u.propertyInterpolate3,u.propertyInterpolate4,u.propertyInterpolate5,u.propertyInterpolate6,u.propertyInterpolate7,u.propertyInterpolate8,u.propertyInterpolateV,u.attribute,u.attributeInterpolate1,u.attributeInterpolate2,u.attributeInterpolate3,u.attributeInterpolate4,u.attributeInterpolate5,u.attributeInterpolate6,u.attributeInterpolate7,u.attributeInterpolate8,u.attributeInterpolateV,u.styleProp,u.stylePropInterpolate1,u.stylePropInterpolate2,u.stylePropInterpolate3,u.stylePropInterpolate4,u.stylePropInterpolate5,u.stylePropInterpolate6,u.stylePropInterpolate7,u.stylePropInterpolate8,u.stylePropInterpolateV,u.textInterpolate,u.textInterpolate1,u.textInterpolate2,u.textInterpolate3,u.textInterpolate4,u.textInterpolate5,u.textInterpolate6,u.textInterpolate7,u.textInterpolate8,u.textInterpolateV,u.templateCreate,u.twoWayProperty,u.twoWayListener]);function Gs(t,e,n){return A(e,null,t).callFn(n,t)}function Id(t,e){let n=null;return()=>(n||(t(new Ke(Mu,void 0,Vt)),n=R(e)),n)}function At(t){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${t.constructor.name}`)}function Yt(t){return Array.isArray(t)?q(t.map(Yt)):m(t,Ze)}function yh(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:_e(n.map(s=>{let r=t[s],i,o,a,l;if(typeof r=="string")i=s,a=s,o=r,l=Yt(o);else{a=s,i=r.classPropertyName,o=r.bindingPropertyName;let c=o!==i,p=r.transformFunction!==null,f=null;if(r.isSignal&&(f=Sh(Rs.SignalBased,f)),p&&(f=Sh(Rs.HasDecoratorInputTransform,f)),e&&(c||p||f!==null)){let y=[f??A(u.InputFlags).prop(Rs[Rs.None]),Yt(o)];(c||p)&&(y.push(Yt(i)),p&&y.push(r.transformFunction)),l=q(y)}else l=Yt(o)}return{key:a,quoted:nE.test(a),value:l}}))}function Eh(t){return A(u.InputFlags).prop(Rs[t])}function Sh(t,e){return e===null?Eh(t):Eh(t).bitwiseOr(e)}function mr(t){for(;ku(t[t.length-1]);)t.pop();return t}var us=class{constructor(){this.values=[]}set(e,n){if(n){let s=this.values.find(r=>r.key===e);s?s.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return _e(this.values)}};function Lu(t){let e=t instanceof ne?t.name:"ng-template",n=lE(t),s=new en,r=ct(e)[1];return s.setElement(r),Object.getOwnPropertyNames(n).forEach(i=>{let o=ct(i)[1],a=n[i];s.addAttribute(o,a),i.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>s.addClassName(c))}),s}function lE(t){let e={};return t instanceof ie&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{xd(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===0||n.type===5)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function or(t){let{expressions:e,strings:n}=t;return e.length===1&&n.length===2&&n[0]===""&&n[1]===""?1:e.length+n.length}function oa(t){let e=[],n=null,s=null,r=0;for(let i of t){let o=(typeof i.paramsOrFn=="function"?i.paramsOrFn():i.paramsOrFn)??[],a=Array.isArray(o)?o:[o];r<oE&&s===i.reference&&aE.has(s)?(n=n.callFn(a,n.sourceSpan),r++):(n!==null&&e.push(n.toStmt()),n=Gs(i.span,i.reference,a),s=i.reference,r=0)}return n!==null&&e.push(n.toStmt()),e}function pc(t,e){let n=null,s={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:at.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=es({...s,delegate:t.useClass.expression,delegateDeps:l,delegateType:Bi.Class}):a?n=es(s):n={statements:[],expression:xh(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=es({...s,delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:Bi.Function}):n={statements:[],expression:Oe([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=es({...s,expression:t.useValue.expression}):t.useExisting!==void 0?n=es({...s,expression:A(u.inject).callFn([t.useExisting.expression])}):n={statements:[],expression:xh(t.type.value,t.type.value,e)};let r=t.type.value,i=new us;return i.set("token",r),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",Fy(t.providedIn)),{expression:A(u.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:cE(t),statements:n.statements}}function cE(t){return new lt(A(u.InjectableDeclaration,[Ga(t.type.type,t.typeArgumentCount)]))}function xh(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return wh(e);let s=A(u.resolveForwardRef).callFn([e]);return wh(s)}function wh(t){return Oe([new ue("t",Vt)],t.prop("\u0275fac").callFn([R("t")]))}var uE=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function pE(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],s=e[1];uE.forEach(r=>{if(r.test(n)||r.test(s))throw new Error(`['${n}', '${s}'] contains unusable interpolation symbol.`)})}}var Wi=class t{static fromArray(e){return e?(pE("interpolation",e),new t(e[0],e[1])):Rt}constructor(e,n){this.start=e,this.end=n}},Rt=new Wi("{{","}}"),hE=new Set(["switch"]),it=0,fE=8,Ou=9,Fs=10,Ad=11,bd=12,Fu=13,Nd=32,hc=33,ji=34,Dd=35,_d=36,dE=37,aa=38,Ki=39,Ln=40,Xt=41,mE=42,Pd=43,Mt=44,la=45,xr=46,Dn=47,ts=58,Qt=59,Cr=60,Ir=61,Zn=62,Th=63,Bu=48,gE=55,kd=57,ui=65,vE=69,yE=70,EE=88,ja=90,kr=91,ca=92,Ar=93,SE=94,Ka=95,Ws=97,xE=98,wE=101,$u=102,Rd=110,Md=114,Ld=116,Od=117,Fd=118,Bd=120,ho=122,mn=123,Ch=124,gt=125,$d=160;var Ih=64,TE=96;function za(t){return t>=Ou&&t<=Nd||t==$d}function Nn(t){return Bu<=t&&t<=kd}function Ya(t){return t>=Ws&&t<=ho||t>=ui&&t<=ja}function CE(t){return t>=Ws&&t<=$u||t>=ui&&t<=yE||Nn(t)}function Ud(t){return t===Fs||t===Fu}function Ah(t){return Bu<=t&&t<=gE}function ua(t){return t===Ki||t===ji||t===TE}var js=class t{constructor(e,n,s,r){this.file=e,this.offset=n,this.line=s,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,s=n.length,r=this.offset,i=this.line,o=this.col;for(;r>0&&e<0;)if(r--,e++,n.charCodeAt(r)==Fs){i--;let l=n.substring(0,r-1).lastIndexOf(String.fromCharCode(Fs));o=l>0?r-l:r}else o--;for(;r<s&&e>0;){let a=n.charCodeAt(r);r++,e--,a==Fs?(i++,o=0):o++}return new t(this.file,r,i,o)}getContext(e,n){let s=this.file.content,r=this.offset;if(r!=null){r>s.length-1&&(r=s.length-1);let i=r,o=0,a=0;for(;o<e&&r>0&&(r--,o++,!(s[r]==`
`&&++a==n)););for(o=0,a=0;o<e&&i<s.length-1&&(i++,o++,!(s[i]==`
`&&++a==n)););return{before:s.substring(r,this.offset),after:s.substring(this.offset,i+1)}}return null}},Ks=class{constructor(e,n){this.content=e,this.url=n}},G=class{constructor(e,n,s=e,r=null){this.start=e,this.end=n,this.fullStart=s,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},kn;(function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"})(kn||(kn={}));var K=class{constructor(e,n,s=kn.ERROR){this.span=e,this.msg=n,this.level=s}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${kn[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function IE(t,e,n){let s=`in ${t} ${e} in ${n}`,r=new Ks("",s);return new G(new js(r,-1,-1,-1),new js(r,-1,-1,-1))}var AE=0;function bE(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=md(e);return n.indexOf("(")>=0?(n=`anonymous_${AE++}`,e.__anonymousType=n):n=yn(n),n}function yn(t){return t.replace(/\W/g,"_")}var bh='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',fc=class extends Zl{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateExpr(e,n){let s=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${bh}(`),n.print(e,`[${s.map(r=>Ms(r.text,!1)).join(", ")}], `),n.print(e,`[${s.map(r=>Ms(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{n.print(e,", "),r.visitExpression(this,n)}),n.print(e,")"),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let s=e.body instanceof Bt;s&&n.print(e,"("),e.body.visitExpression(this,n),s&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${bh}(`);let s=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)s.push(e.serializeI18nTemplatePart(r));return n.print(e,`[${s.map(r=>Ms(r.cooked,!1)).join(", ")}], `),n.print(e,`[${s.map(r=>Ms(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{n.print(e,", "),r.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(s=>n.print(null,s.name),e,n,",")}},No;function NE(){if(No===void 0){let t=Ti.trustedTypes;if(No=null,t)try{No=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return No}function DE(t){return NE()?.createScript(t)||t}function Nh(...t){if(!Ti.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],s=`(function anonymous(${e}
) { ${n}
})`,r=Ti.eval(DE(s));return r.bind===void 0?new Function(...t):(r.toString=()=>s,r.bind(Ti))}var dc=class{evaluateStatements(e,n,s,r){let i=new mc(s),o=Jl.createRoot();return n.length>0&&!_E(n[0])&&(n=[m("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),r)}evaluateCode(e,n,s,r){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in s)a.push(s[c]),o.push(c);if(r){let c=Nh(...o.concat("return null;")).toString(),p=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,p).toJsComment()}`}let l=Nh(...o.concat(i));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},mc=class extends fc{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Te(new Bt(this._evalExportedVars.map(s=>new Us(s,R(s),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(Ne.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(Ne.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,s){let r=this._evalArgValues.indexOf(n);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(n);let i=bE({reference:n})||"val";this._evalArgNames.push(`jit_${i}_${r}`)}s.print(e,this._evalArgNames[r])}};function _E(t){return t.isEquivalent(m("use strict").toStmt())}function gc(t){let e=new us;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",q(t.imports));let n=A(u.defineInjector).callFn([e.toLiteralMap()],void 0,!0),s=PE(t);return{expression:n,type:s,statements:[]}}function PE(t){return new lt(A(u.InjectorDeclaration,[new lt(t.type.type)]))}var vc=class{constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Kr;(function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"})(Kr||(Kr={}));var gn;(function(t){t[t.Global=0]="Global",t[t.Local=1]="Local"})(gn||(gn={}));function Vd(t){let e=[],n=new us;if(n.set("type",t.type.value),t.kind===gn.Global&&t.bootstrap.length>0&&n.set("bootstrap",Ls(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===Kr.Inline)t.declarations.length>0&&n.set("declarations",Ls(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Ls(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Ls(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===Kr.SideEffect){let i=ME(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",q(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push(A(u.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let s=A(u.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),r=RE(t);return{expression:s,type:r,statements:e}}function kE(t){let e=new us;return e.set("type",new $(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new $(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new $(t.declarations)),t.imports!==void 0&&e.set("imports",new $(t.imports)),t.exports!==void 0&&e.set("exports",new $(t.exports)),t.schemas!==void 0&&e.set("schemas",new $(t.schemas)),t.id!==void 0&&e.set("id",new $(t.id)),A(u.defineNgModule).callFn([e.toLiteralMap()])}function RE(t){if(t.kind===gn.Local)return new lt(t.type.value);let{type:e,declarations:n,exports:s,imports:r,includeImportTypes:i,publicDeclarationTypes:o}=t;return new lt(A(u.NgModuleDeclaration,[new lt(e.type),o===null?yl(n):LE(o),i?yl(r):nn,yl(s)]))}function ME(t){let e=new us;if(t.kind===gn.Global?t.declarations.length>0&&e.set("declarations",Ls(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===gn.Global?t.imports.length>0&&e.set("imports",Ls(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===gn.Global?t.exports.length>0&&e.set("exports",Ls(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===gn.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new We(A(u.setNgModuleScope),[t.type.value,e.toLiteralMap()]),s=Ly(n),r=new On([],[s.toStmt()]);return new We(r,[]).toStmt()}function yl(t){let e=t.map(n=>li(n.type));return t.length>0?Le(q(e)):nn}function LE(t){let e=t.map(n=>li(n));return t.length>0?Le(q(e)):nn}function yc(t){let e=[];e.push({key:"name",value:m(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:m(t.pure),quoted:!1}),t.isStandalone&&e.push({key:"standalone",value:m(!0),quoted:!1});let n=A(u.definePipe).callFn([_e(e)],void 0,!0),s=OE(t);return{expression:n,type:s,statements:[]}}function OE(t){return new lt(A(u.PipeDeclaration,[Ga(t.type.type,t.typeArgumentCount),new lt(new Ce(t.pipeName)),new lt(new Ce(t.isStandalone))]))}var zr;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(zr||(zr={}));var zi=class{constructor(e,n,s,r){this.input=n,this.errLocation=s,this.ctxLocation=r,this.message=`Parser Error: ${e} ${s} [${n}] in ${r}`}},zs=class{constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new He(e+this.start,e+this.end)}},xe=class{constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},Yr=class extends xe{constructor(e,n,s){super(e,n),this.nameSpan=s}},Ue=class extends xe{visit(e,n=null){}},de=class extends xe{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},Zt=class extends de{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},ps=class extends xe{constructor(e,n,s){super(e,n),this.expressions=s}visit(e,n=null){return e.visitChain(this,n)}},Ys=class extends xe{constructor(e,n,s,r,i){super(e,n),this.condition=s,this.trueExp=r,this.falseExp=i}visit(e,n=null){return e.visitConditional(this,n)}},le=class extends Yr{constructor(e,n,s,r,i){super(e,n,s),this.receiver=r,this.name=i}visit(e,n=null){return e.visitPropertyRead(this,n)}},an=class extends Yr{constructor(e,n,s,r,i,o){super(e,n,s),this.receiver=r,this.name=i,this.value=o}visit(e,n=null){return e.visitPropertyWrite(this,n)}},ft=class extends Yr{constructor(e,n,s,r,i){super(e,n,s),this.receiver=r,this.name=i}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},qn=class extends xe{constructor(e,n,s,r){super(e,n),this.receiver=s,this.key=r}visit(e,n=null){return e.visitKeyedRead(this,n)}},ln=class extends xe{constructor(e,n,s,r){super(e,n),this.receiver=s,this.key=r}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},Xr=class extends xe{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.key=r,this.value=i}visit(e,n=null){return e.visitKeyedWrite(this,n)}},wn=class extends Yr{constructor(e,n,s,r,i,o){super(e,n,o),this.exp=s,this.name=r,this.args=i}visit(e,n=null){return e.visitPipe(this,n)}},Je=class extends xe{constructor(e,n,s){super(e,n),this.value=s}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},Xs=class extends xe{constructor(e,n,s){super(e,n),this.expressions=s}visit(e,n=null){return e.visitLiteralArray(this,n)}},Qr=class extends xe{constructor(e,n,s,r){super(e,n),this.keys=s,this.values=r}visit(e,n=null){return e.visitLiteralMap(this,n)}},Se=class extends xe{constructor(e,n,s,r){super(e,n),this.strings=s,this.expressions=r}visit(e,n=null){return e.visitInterpolation(this,n)}},Qe=class extends xe{constructor(e,n,s,r,i){super(e,n),this.operation=s,this.left=r,this.right=i}visit(e,n=null){return e.visitBinary(this,n)}},Hn=class t extends Qe{static createMinus(e,n,s){return new t(e,n,"-",s,"-",new Je(e,n,0),s)}static createPlus(e,n,s){return new t(e,n,"+",s,"-",s,new Je(e,n,0))}constructor(e,n,s,r,i,o,a){super(e,n,i,o,a),this.operator=s,this.expr=r,this.left=null,this.right=null,this.operation=null}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},Qs=class extends xe{constructor(e,n,s){super(e,n),this.expression=s}visit(e,n=null){return e.visitPrefixNot(this,n)}},Js=class extends xe{constructor(e,n,s){super(e,n),this.expression=s}visit(e,n=null){return e.visitNonNullAssert(this,n)}},wt=class extends xe{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,n=null){return e.visitCall(this,n)}},cn=class extends xe{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,n=null){return e.visitSafeCall(this,n)}},He=class{constructor(e,n){this.start=e,this.end=n}},be=class extends xe{constructor(e,n,s,r,i){super(new zs(0,n===null?0:n.length),new He(r,n===null?r:r+n.length)),this.ast=e,this.source=n,this.location=s,this.errors=i}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},Yi=class{constructor(e,n,s){this.sourceSpan=e,this.key=n,this.value=s}},Ec=class{constructor(e,n,s){this.sourceSpan=e,this.key=n,this.value=s}},Gn=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitKeyedWrite(e,n){this.visit(e.receiver,n),this.visit(e.key,n),this.visit(e.value,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitPropertyWrite(e,n){this.visit(e.receiver,n),this.visit(e.value,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitAll(e,n){for(let s of e)this.visit(s,n)}},Sc=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){return new Se(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,n){return new Je(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,n){return new le(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,n){return new an(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,n){return new ft(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitLiteralArray(e,n){return new Xs(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,n){return new Qr(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,n){switch(e.operator){case"+":return Hn.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return Hn.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,n){return new Qe(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,n){return new Qs(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,n){return new Js(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,n){return new Ys(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,n){return new wn(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,n){return new qn(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}visitKeyedWrite(e,n){return new Xr(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this),e.value.visit(this))}visitCall(e,n){return new wt(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitSafeCall(e,n){return new cn(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitAll(e){let n=[];for(let s=0;s<e.length;++s)n[s]=e[s].visit(this);return n}visitChain(e,n){return new ps(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitSafeKeyedRead(e,n){return new ln(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}},xc=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new Se(e.span,e.sourceSpan,e.strings,s):e}visitLiteralPrimitive(e,n){return e}visitPropertyRead(e,n){let s=e.receiver.visit(this);return s!==e.receiver?new le(e.span,e.sourceSpan,e.nameSpan,s,e.name):e}visitPropertyWrite(e,n){let s=e.receiver.visit(this),r=e.value.visit(this);return s!==e.receiver||r!==e.value?new an(e.span,e.sourceSpan,e.nameSpan,s,e.name,r):e}visitSafePropertyRead(e,n){let s=e.receiver.visit(this);return s!==e.receiver?new ft(e.span,e.sourceSpan,e.nameSpan,s,e.name):e}visitLiteralArray(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new Xs(e.span,e.sourceSpan,s):e}visitLiteralMap(e,n){let s=this.visitAll(e.values);return s!==e.values?new Qr(e.span,e.sourceSpan,e.keys,s):e}visitUnary(e,n){let s=e.expr.visit(this);if(s!==e.expr)switch(e.operator){case"+":return Hn.createPlus(e.span,e.sourceSpan,s);case"-":return Hn.createMinus(e.span,e.sourceSpan,s);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,n){let s=e.left.visit(this),r=e.right.visit(this);return s!==e.left||r!==e.right?new Qe(e.span,e.sourceSpan,e.operation,s,r):e}visitPrefixNot(e,n){let s=e.expression.visit(this);return s!==e.expression?new Qs(e.span,e.sourceSpan,s):e}visitNonNullAssert(e,n){let s=e.expression.visit(this);return s!==e.expression?new Js(e.span,e.sourceSpan,s):e}visitConditional(e,n){let s=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return s!==e.condition||r!==e.trueExp||i!==e.falseExp?new Ys(e.span,e.sourceSpan,s,r,i):e}visitPipe(e,n){let s=e.exp.visit(this),r=this.visitAll(e.args);return s!==e.exp||r!==e.args?new wn(e.span,e.sourceSpan,s,e.name,r,e.nameSpan):e}visitKeyedRead(e,n){let s=e.receiver.visit(this),r=e.key.visit(this);return s!==e.receiver||r!==e.key?new qn(e.span,e.sourceSpan,s,r):e}visitKeyedWrite(e,n){let s=e.receiver.visit(this),r=e.key.visit(this),i=e.value.visit(this);return s!==e.receiver||r!==e.key||i!==e.value?new Xr(e.span,e.sourceSpan,s,r,i):e}visitAll(e){let n=[],s=!1;for(let r=0;r<e.length;++r){let i=e[r],o=i.visit(this);n[r]=o,s=s||o!==i}return s?n:e}visitChain(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new ps(e.span,e.sourceSpan,s):e}visitCall(e,n){let s=e.receiver.visit(this),r=this.visitAll(e.args);return s!==e.receiver||r!==e.args?new wt(e.span,e.sourceSpan,s,r,e.argumentSpan):e}visitSafeCall(e,n){let s=e.receiver.visit(this),r=this.visitAll(e.args);return s!==e.receiver||r!==e.args?new cn(e.span,e.sourceSpan,s,r,e.argumentSpan):e}visitSafeKeyedRead(e,n){let s=e.receiver.visit(this),r=e.key.visit(this);return s!==e.receiver||r!==e.key?new ln(e.span,e.sourceSpan,s,r):e}},Ii=class{constructor(e,n,s,r,i,o){this.name=e,this.expression=n,this.type=s,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===_n.LITERAL_ATTR,this.isAnimation=this.type===_n.ANIMATION}},_n;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION",t[t.TWO_WAY=3]="TWO_WAY"})(_n||(_n={}));var pa=class{constructor(e,n,s,r,i,o,a){this.name=e,this.targetOrPhase=n,this.type=s,this.handler=r,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}},wc=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}},ha=class{constructor(e,n,s,r,i,o,a,l){this.name=e,this.type=n,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},hs=class{static{this.event=R("$event")}};function FE(t,e,n,s,r,i,o){t??=new Xi(o);let a=new Zs(t,e,s,!1,r,i),l=[];Xa(Wd(n).visit(a,re.Statement),l),Kd(a.temporaryCount,s,l),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let c=l.length-1;if(c>=0){let p=l[c];p instanceof Fe&&(l[c]=new Te(p.expr))}return l}function BE(t,e,n,s,r,i,o){t??=new Xi(o);let a=new Zs(t,e,s,!1,r,i),l=Wd(n).visit(a,re.Statement);if(!(l instanceof Fe))throw new Error("Illegal state: unsupported expression in two-way action binding.");l=$E(l.expr).toStmt();let c=[];return Xa(l,c),Kd(a.temporaryCount,s,c),c.push(new Te(hs.event)),i?.add(hs.event.name),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),c}function Do(t){return new De(u.twoWayBindingSet).callFn([t,hs.event]).or(t.set(hs.event))}function _o(t){return t instanceof je||t instanceof sn}function $E(t){if(_o(t))return Do(t);if(t instanceof X&&_o(t.rhs))return new X(t.operator,t.lhs,Do(t.rhs));if(t instanceof pt&&_o(t.falseCase))return new pt(t.condition,t.trueCase,Do(t.falseCase));if(t instanceof En){let e=t.condition;for(;;)if(e instanceof En)e=e.condition;else{if(_o(e))return Do(e);break}}throw new Error("Illegal state: unsupported expression in two-way action binding.")}function qd(t,e){return qE(t,e)}var Tc=class{constructor(e,n){this.stmts=e,this.currValExpr=n}};function Hd(t,e,n,s){t||(t=new Xi);let r=new Zs(t,e,s,!1),i=n.visit(r,re.Expression),o=Gd(r,s);return r.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),new Tc(o,i)}function UE(t,e,n,s){let r=qd({createLiteralArrayConverter:()=>a=>q(a),createLiteralMapConverter:a=>l=>_e(a.map((c,p)=>({key:c.key,value:l[p],quoted:c.quoted}))),createPipeConverter:()=>{throw new Error("Illegal State: Pipes are not allowed in this context")}},t),i=new Zs(e,n,s,!1),o=[];return Xa(r.visit(i,re.Statement),o),o}function VE(t,e,n,s){let r=new Zs(t,e,s,!0),i=r.visitInterpolation(n,re.Expression);r.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let o=Gd(r,s),a=i.args;return{stmts:o,args:a}}function Gd(t,e){let n=[];for(let s=0;s<t.temporaryCount;s++)n.push(jd(e,s));return n}function qE(t,e){let n=new Ic(t);return e.visit(n)}function Wd(t){return qd({createLiteralArrayConverter:()=>n=>q(n),createLiteralMapConverter:n=>s=>{let r=n.map((i,o)=>({key:i.key,value:s[o],quoted:i.quoted}));return _e(r)},createPipeConverter:n=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${n}`)}},t)}function Cc(t,e){return`tmp_${t}_${e}`}function jd(t,e){return new Ke(Cc(t,e))}function Kd(t,e,n){for(let s=t-1;s>=0;s--)n.unshift(jd(e,s))}var re;(function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"})(re||(re={}));function HE(t,e){if(t!==re.Statement)throw new Error(`Expected a statement, but saw ${e}`)}function Dh(t,e){if(t!==re.Expression)throw new Error(`Expected an expression, but saw ${e}`)}function st(t,e){return t===re.Statement?e.toStmt():e}var Ic=class extends Sc{constructor(e){super(),this._converterFactory=e}visitPipe(e,n){let s=[e.exp,...e.args].map(r=>r.visit(this,n));return new rs(e.span,e.sourceSpan,s,this._converterFactory.createPipeConverter(e.name,s.length))}visitLiteralArray(e,n){let s=e.expressions.map(r=>r.visit(this,n));return new rs(e.span,e.sourceSpan,s,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,n){let s=e.values.map(r=>r.visit(this,n));return new rs(e.span,e.sourceSpan,s,this._converterFactory.createLiteralMapConverter(e.keys))}},Zs=class{constructor(e,n,s,r,i,o){this._localResolver=e,this._implicitReceiver=n,this.bindingId=s,this.supportsInterpolation=r,this.baseSourceSpan=i,this.implicitReceiverAccesses=o,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,n){let s;switch(e.operator){case"+":s=Ft.Plus;break;case"-":s=Ft.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return st(n,new Bn(s,this._visit(e.expr,re.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,n){let s;switch(e.operation){case"+":s=w.Plus;break;case"-":s=w.Minus;break;case"*":s=w.Multiply;break;case"/":s=w.Divide;break;case"%":s=w.Modulo;break;case"&&":s=w.And;break;case"||":s=w.Or;break;case"==":s=w.Equals;break;case"!=":s=w.NotEquals;break;case"===":s=w.Identical;break;case"!==":s=w.NotIdentical;break;case"<":s=w.Lower;break;case">":s=w.Bigger;break;case"<=":s=w.LowerEquals;break;case">=":s=w.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,n);default:throw new Error(`Unsupported operation ${e.operation}`)}return st(n,new X(s,this._visit(e.left,re.Expression),this._visit(e.right,re.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,n){return HE(n,e),this.visitAll(e.expressions,n)}visitConditional(e,n){let s=this._visit(e.condition,re.Expression);return st(n,s.conditional(this._visit(e.trueExp,re.Expression),this._visit(e.falseExp,re.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,n){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitImplicitReceiver(e,n){return Dh(n,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,n){return this.visitImplicitReceiver(e,n)}visitInterpolation(e,n){if(!this.supportsInterpolation)throw new Error("Unexpected interpolation");Dh(n,e);let s=[];for(let i=0;i<e.strings.length-1;i++)s.push(m(e.strings[i])),s.push(this._visit(e.expressions[i],re.Expression));s.push(m(e.strings[e.strings.length-1]));let r=e.strings;return r.length===2&&r[0]===""&&r[1]===""?s=[s[1]]:e.expressions.length>=9&&(s=[q(s)]),new Ac(s)}visitKeyedRead(e,n){let s=this.leftMostSafeNode(e);return s?this.convertSafeAccess(e,s,n):st(n,this._visit(e.receiver,re.Expression).key(this._visit(e.key,re.Expression)))}visitKeyedWrite(e,n){let s=this._visit(e.receiver,re.Expression),r=this._visit(e.key,re.Expression),i=this._visit(e.value,re.Expression);return s===this._implicitReceiver&&this._localResolver.maybeRestoreView(),st(n,s.key(r).set(i))}visitLiteralArray(e,n){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,n){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,n){let s=e.value===null||e.value===void 0||e.value===!0||e.value===!0?Ze:void 0;return st(n,m(e.value,s,this.convertSourceSpan(e.span)))}_getLocal(e,n){return this._localResolver.globals?.has(e)&&n instanceof Zt?null:this._localResolver.getLocal(e)}visitPrefixNot(e,n){return st(n,Pu(this._visit(e.expression,re.Expression)))}visitNonNullAssert(e,n){return st(n,this._visit(e.expression,re.Expression))}visitPropertyRead(e,n){let s=this.leftMostSafeNode(e);if(s)return this.convertSafeAccess(e,s,n);{let r=null,i=this.usesImplicitReceiver,o=this._visit(e.receiver,re.Expression);return o===this._implicitReceiver&&(r=this._getLocal(e.name,e.receiver),r&&(this.usesImplicitReceiver=i,this.addImplicitReceiverAccess(e.name))),r==null&&(r=o.prop(e.name,this.convertSourceSpan(e.span))),st(n,r)}}visitPropertyWrite(e,n){let s=this._visit(e.receiver,re.Expression),r=this.usesImplicitReceiver,i=null;if(s===this._implicitReceiver){let o=this._getLocal(e.name,e.receiver);if(o)if(o instanceof je)i=o,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name);else{let a=e.name,l=e.value instanceof le?e.value.name:void 0;throw new Error(`Cannot assign value "${l}" to template variable "${a}". Template variables are read-only.`)}}return i===null&&(i=s.prop(e.name,this.convertSourceSpan(e.span))),st(n,i.set(this._visit(e.value,re.Expression)))}visitSafePropertyRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitSafeKeyedRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitAll(e,n){return e.map(s=>this._visit(s,n))}visitCall(e,n){let s=this.leftMostSafeNode(e);if(s)return this.convertSafeAccess(e,s,n);let r=this.visitAll(e.args,re.Expression);if(e instanceof rs)return st(n,e.converter(r));let i=e.receiver;if(i instanceof le&&i.receiver instanceof de&&!(i.receiver instanceof Zt)&&i.name==="$any"){if(r.length!==1)throw new Error(`Invalid call to $any, expected 1 argument but received ${r.length||"none"}`);return st(n,r[0])}let o=this._visit(i,re.Expression).callFn(r,this.convertSourceSpan(e.span));return st(n,o)}visitSafeCall(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}_visit(e,n){let s=this._resultMap.get(e);return s||(this._nodeMap.get(e)||e).visit(this,n)}convertSafeAccess(e,n,s){let r=this._visit(n.receiver,re.Expression),i;this.needsTemporaryInSafeAccess(n.receiver)&&(i=this.allocateTemporary(),r=i.set(r),this._resultMap.set(n.receiver,i));let o=r.isBlank();n instanceof cn?this._nodeMap.set(n,new wt(n.span,n.sourceSpan,n.receiver,n.args,n.argumentSpan)):n instanceof ln?this._nodeMap.set(n,new qn(n.span,n.sourceSpan,n.receiver,n.key)):this._nodeMap.set(n,new le(n.span,n.sourceSpan,n.nameSpan,n.receiver,n.name));let a=this._visit(e,re.Expression);return this._nodeMap.delete(n),i&&this.releaseTemporary(i),st(s,o.conditional(as,a))}convertNullishCoalesce(e,n){let s=this._visit(e.left,re.Expression),r=this._visit(e.right,re.Expression),i=this.allocateTemporary();return this.releaseTemporary(i),st(n,i.set(s).notIdentical(as).and(i.notIdentical(m(void 0))).conditional(i,r))}leftMostSafeNode(e){let n=(s,r)=>(this._nodeMap.get(r)||r).visit(s);return e.visit({visitUnary(s){return null},visitBinary(s){return null},visitChain(s){return null},visitConditional(s){return null},visitCall(s){return n(this,s.receiver)},visitSafeCall(s){return n(this,s.receiver)||s},visitImplicitReceiver(s){return null},visitThisReceiver(s){return null},visitInterpolation(s){return null},visitKeyedRead(s){return n(this,s.receiver)},visitKeyedWrite(s){return null},visitLiteralArray(s){return null},visitLiteralMap(s){return null},visitLiteralPrimitive(s){return null},visitPipe(s){return null},visitPrefixNot(s){return null},visitNonNullAssert(s){return n(this,s.expression)},visitPropertyRead(s){return n(this,s.receiver)},visitPropertyWrite(s){return null},visitSafePropertyRead(s){return n(this,s.receiver)||s},visitSafeKeyedRead(s){return n(this,s.receiver)||s}})}needsTemporaryInSafeAccess(e){let n=(r,i)=>i&&(this._nodeMap.get(i)||i).visit(r),s=(r,i)=>i.some(o=>n(r,o));return e.visit({visitUnary(r){return n(this,r.expr)},visitBinary(r){return n(this,r.left)||n(this,r.right)},visitChain(r){return!1},visitConditional(r){return n(this,r.condition)||n(this,r.trueExp)||n(this,r.falseExp)},visitCall(r){return!0},visitSafeCall(r){return!0},visitImplicitReceiver(r){return!1},visitThisReceiver(r){return!1},visitInterpolation(r){return s(this,r.expressions)},visitKeyedRead(r){return!1},visitKeyedWrite(r){return!1},visitLiteralArray(r){return!0},visitLiteralMap(r){return!0},visitLiteralPrimitive(r){return!1},visitPipe(r){return!0},visitPrefixNot(r){return n(this,r.expression)},visitNonNullAssert(r){return n(this,r.expression)},visitPropertyRead(r){return!1},visitPropertyWrite(r){return!1},visitSafePropertyRead(r){return!1},visitSafeKeyedRead(r){return!1}})}allocateTemporary(){let e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new St(Cc(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=Cc(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){let n=this.baseSourceSpan.start.moveBy(e.start),s=this.baseSourceSpan.start.moveBy(e.end),r=this.baseSourceSpan.fullStart.moveBy(e.start);return new G(n,s,r)}else return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}};function Xa(t,e){Array.isArray(t)?t.forEach(n=>Xa(n,e)):e.push(t)}function Po(){throw new Error("Unsupported operation")}var Ac=class extends te{constructor(e){super(null,null),this.args=e,this.isConstant=Po,this.isEquivalent=Po,this.visitExpression=Po,this.clone=Po}},Xi=class{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}maybeRestoreView(){}getLocal(e){return e===hs.event.name?hs.event:null}},rs=class extends wt{constructor(e,n,s,r){super(e,n,new Ue(e,n),s,null),this.converter=r}},Vo;function _h(){return Vo||(Vo={},ko(J.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),ko(J.STYLE,["*|style"]),ko(J.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),ko(J.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Vo}function ko(t,e){for(let n of e)Vo[n.toLowerCase()]=t}var GE=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function Uu(t){return GE.has(t.toLowerCase())}var WE=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),jE=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],bc=class{constructor(){this._animationDeclarationKeyframesRe=/(^|\s+)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g}shimCssText(e,n,s=""){let r=[];e=e.replace(sS,a=>{if(a.match(rS))r.push(a);else{let l=a.match(nS);r.push((l?.join("")??"")+`
`)}return Hu}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,s),o=0;return i.replace(iS,()=>r[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let s=new Set,r=Ro(e,i=>this._scopeLocalKeyframeDeclarations(i,n,s));return Ro(r,i=>this._scopeAnimationRule(i,n,s))}_scopeLocalKeyframeDeclarations(e,n,s){return{...e,selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,i,o,a,l)=>(s.add(Mh(a,o)),`${i}${o}${n}_${a}${o}${l}`))}}_scopeAnimationKeyframe(e,n,s){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,i,o,a,l)=>(a=`${s.has(Mh(a,o))?n+"_":""}${a}`,`${i}${o}${a}${o}${l}`))}_scopeAnimationRule(e,n,s){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,p="",f,d)=>f?`${c}${this._scopeAnimationKeyframe(`${p}${f}${p}`,n,s)}`:WE.has(d)?l:`${c}${this._scopeAnimationKeyframe(d,n,s)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,s)).join(",")}`),{...e,content:r}}_insertPolyfillDirectivesInCssText(e){return e.replace(KE,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(zE,(...n)=>{let s=n[0].replace(n[1],"").replace(n[2],"");return n[4]+s})}_scopeCssText(e,n,s){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,s)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",s;for(Ph.lastIndex=0;(s=Ph.exec(e))!==null;){let r=s[0].replace(s[2],"").replace(s[1],s[4]);n+=r+`

`}return n}_convertColonHost(e){return e.replace(YE,(n,s,r)=>{if(s){let i=[],o=s.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let l=Ps+a.replace(fa,"")+r;i.push(l)}return i.join(",")}else return Ps+r})}_convertColonHostContext(e){return e.replace(XE,n=>{let s=[[]],r;for(;r=QE.exec(n);){let i=(r[1]??"").trim().split(",").map(a=>a.trim()).filter(a=>a!==""),o=s.length;gS(s,i.length);for(let a=0;a<i.length;a++)for(let l=0;l<o;l++)s[l+a*o].push(i[a]);n=r[2]}return s.map(i=>mS(i,n)).join(", ")})}_convertShadowDOMSelectors(e){return JE.reduce((n,s)=>n.replace(s," "),e)}_scopeSelectors(e,n,s){return Ro(e,r=>{let i=r.selector,o=r.content;return r.selector[0]!=="@"?i=this._scopeSelector(r.selector,n,s):jE.some(a=>r.selector.startsWith(a))?o=this._scopeSelectors(r.content,n,s):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(r.content)),new Qi(i,o)})}_stripScopingSelectors(e){return Ro(e,n=>{let s=n.selector.replace(Rh," ").replace(kh," ");return new Qi(s,n.content)})}_scopeSelector(e,n,s){return e.split(",").map(r=>r.trim().split(Rh)).map(r=>{let[i,...o]=r;return[(l=>this._selectorNeedsScoping(l,n)?this._applySelectorScope(l,n,s):l)(i),...o].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,s=/\]/g;return e=e.replace(n,"\\[").replace(s,"\\]"),new RegExp("^("+e+")"+ZE,"m")}_applySimpleSelectorScope(e,n,s){if(br.lastIndex=0,br.test(e)){let r=`[${s}]`;return e.replace(kh,(i,o)=>o.replace(/([^:]*)(:*)(.*)/,(a,l,c,p)=>l+r+c+p)).replace(br,r+" ")}return n+" "+e}_applySelectorScope(e,n,s){let r=/\[is=([^\]]*)\]/g;n=n.replace(r,(T,...x)=>x[0]);let i="["+n+"]",o=T=>{let x=T.trim();if(!x)return"";if(T.indexOf(Ps)>-1)x=this._applySimpleSelectorScope(T,n,s);else{let D=T.replace(br,"");if(D.length>0){let O=D.match(/([^:]*)(:*)(.*)/);O&&(x=O[1]+i+O[2]+O[3])}}return x},a=new Nc(e);e=a.content();let l="",c=0,p,f=/( |>|\+|~(?!=))\s*/g,y=!(e.indexOf(Ps)>-1);for(;(p=f.exec(e))!==null;){let T=p[1],x=e.slice(c,p.index).trim();if(x.match(/__esc-ph-(\d+)__/)&&e[p.index+1]?.match(/[a-fA-F\d]/))continue;y=y||x.indexOf(Ps)>-1;let D=y?o(x):x;l+=`${D} ${T} `,c=f.lastIndex}let v=e.substring(c);return y=y||v.indexOf(Ps)>-1,l+=y?o(v):v,a.restore(l)}_insertPolyfillHostInCssText(e){return e.replace(tS,Vu).replace(eS,fa)}},Nc=class{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,s)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(s),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,s+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,s)=>this.placeholders[+s])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i})}},KE=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,zE=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Ph=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,fa="-shadowcsshost",Vu="-shadowcsscontext",qu="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",YE=new RegExp(fa+qu,"gim"),XE=new RegExp(Vu+qu,"gim"),QE=new RegExp(Vu+qu,"im"),Ps=fa+"-no-combinator",kh=/-shadowcsshost-no-combinator([^\s]*)/,JE=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Rh=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,ZE="([>\\s~+[.,{:][\\s\\S]*)?$",br=/-shadowcsshost/gim,eS=/:host/gim,tS=/:host-context/gim,nS=/\r?\n/g,sS=/\/\*[\s\S]*?\*\//g,rS=/\/\*\s*#\s*source(Mapping)?URL=/g,Hu="%COMMENT%",iS=new RegExp(Hu,"g"),El="%BLOCK%",oS=new RegExp(`(\\s*(?:${Hu}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),aS=new Map([["{","}"]]),zd="%COMMA_IN_PLACEHOLDER%",Yd="%SEMI_IN_PLACEHOLDER%",Xd="%COLON_IN_PLACEHOLDER%",lS=new RegExp(zd,"g"),cS=new RegExp(Yd,"g"),uS=new RegExp(Xd,"g"),Qi=class{constructor(e,n){this.selector=e,this.content=n}};function Ro(t,e){let n=fS(t),s=pS(n,aS,El),r=0,i=s.escapedString.replace(oS,(...o)=>{let a=o[2],l="",c=o[4],p="";c&&c.startsWith("{"+El)&&(l=s.blocks[r++],c=c.substring(El.length+1),p="{");let f=e(new Qi(a,l));return`${o[1]}${f.selector}${o[3]}${p}${f.content}${c}`});return dS(i)}var Dc=class{constructor(e,n){this.escapedString=e,this.blocks=n}};function pS(t,e,n){let s=[],r=[],i=0,o=0,a=-1,l,c;for(let p=0;p<t.length;p++){let f=t[p];f==="\\"?p++:f===c?(i--,i===0&&(r.push(t.substring(a,p)),s.push(n),o=p,a=-1,l=c=void 0)):f===l?i++:i===0&&e.has(f)&&(l=f,c=e.get(f),i=1,a=p+1,s.push(t.substring(o,a)))}return a!==-1?(r.push(t.substring(a)),s.push(n)):s.push(t.substring(o)),new Dc(s.join(""),r)}var hS={";":Yd,",":zd,":":Xd};function fS(t){let e=t,n=null;for(let s=0;s<e.length;s++){let r=e[s];if(r==="\\")s++;else if(n!==null)if(r===n)n=null;else{let i=hS[r];i&&(e=`${e.substr(0,s)}${i}${e.substr(s+1)}`,s+=i.length-1)}else(r==="'"||r==='"')&&(n=r)}return e}function dS(t){let e=t.replace(lS,",");return e=e.replace(cS,";"),e=e.replace(uS,":"),e}function Mh(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function mS(t,e){let n=Ps;br.lastIndex=0;let s=br.test(e);if(t.length===0)return n+e;let r=[t.pop()||""];for(;t.length>0;){let i=r.length,o=t.pop();for(let a=0;a<i;a++){let l=r[a];r[i*2+a]=l+" "+o,r[i+a]=o+" "+l,r[a]=o+l}}return r.map(i=>s?`${i}${e}`:`${i}${n}${e}, ${i} ${n}${e}`).join(",")}function gS(t,e){let n=t.length;for(let s=1;s<e;s++)for(let r=0;r<n;r++)t[r+s*n]=t[r].slice(0)}var h;(function(t){t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.Conditional=11]="Conditional",t[t.EnableBindings=12]="EnableBindings",t[t.Text=13]="Text",t[t.Listener=14]="Listener",t[t.InterpolateText=15]="InterpolateText",t[t.Binding=16]="Binding",t[t.Property=17]="Property",t[t.StyleProp=18]="StyleProp",t[t.ClassProp=19]="ClassProp",t[t.StyleMap=20]="StyleMap",t[t.ClassMap=21]="ClassMap",t[t.Advance=22]="Advance",t[t.Pipe=23]="Pipe",t[t.Attribute=24]="Attribute",t[t.ExtractedAttribute=25]="ExtractedAttribute",t[t.Defer=26]="Defer",t[t.DeferOn=27]="DeferOn",t[t.DeferWhen=28]="DeferWhen",t[t.I18nMessage=29]="I18nMessage",t[t.HostProperty=30]="HostProperty",t[t.Namespace=31]="Namespace",t[t.ProjectionDef=32]="ProjectionDef",t[t.Projection=33]="Projection",t[t.RepeaterCreate=34]="RepeaterCreate",t[t.Repeater=35]="Repeater",t[t.TwoWayProperty=36]="TwoWayProperty",t[t.TwoWayListener=37]="TwoWayListener",t[t.I18nStart=38]="I18nStart",t[t.I18n=39]="I18n",t[t.I18nEnd=40]="I18nEnd",t[t.I18nExpression=41]="I18nExpression",t[t.I18nApply=42]="I18nApply",t[t.IcuStart=43]="IcuStart",t[t.IcuEnd=44]="IcuEnd",t[t.IcuPlaceholder=45]="IcuPlaceholder",t[t.I18nContext=46]="I18nContext",t[t.I18nAttributes=47]="I18nAttributes"})(h||(h={}));var B;(function(t){t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.GetCurrentView=6]="GetCurrentView",t[t.RestoreView=7]="RestoreView",t[t.ResetView=8]="ResetView",t[t.PureFunctionExpr=9]="PureFunctionExpr",t[t.PureFunctionParameterExpr=10]="PureFunctionParameterExpr",t[t.PipeBinding=11]="PipeBinding",t[t.PipeBindingVariadic=12]="PipeBindingVariadic",t[t.SafePropertyRead=13]="SafePropertyRead",t[t.SafeKeyedRead=14]="SafeKeyedRead",t[t.SafeInvokeFunction=15]="SafeInvokeFunction",t[t.SafeTernaryExpr=16]="SafeTernaryExpr",t[t.EmptyExpr=17]="EmptyExpr",t[t.AssignTemporaryExpr=18]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=19]="ReadTemporaryExpr",t[t.SanitizerExpr=20]="SanitizerExpr",t[t.TrustedValueFnExpr=21]="TrustedValueFnExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.DerivedRepeaterVar=24]="DerivedRepeaterVar",t[t.ConstCollected=25]="ConstCollected",t[t.TwoWayBindingSet=26]="TwoWayBindingSet"})(B||(B={}));var Jt;(function(t){t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline"})(Jt||(Jt={}));var Me;(function(t){t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias"})(Me||(Me={}));var Tt;(function(t){t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"})(Tt||(Tt={}));var Lh;(function(t){t[t.Loading=0]="Loading",t[t.Placeholder=1]="Placeholder",t[t.Error=2]="Error"})(Lh||(Lh={}));var M;(function(t){t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.Animation=6]="Animation",t[t.TwoWayProperty=7]="TwoWayProperty"})(M||(M={}));var Jr;(function(t){t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing"})(Jr||(Jr={}));var er;(function(t){t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute"})(er||(er={}));var ce;(function(t){t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex"})(ce||(ce={}));var Ge;(function(t){t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math"})(Ge||(Ge={}));var fe;(function(t){t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport"})(fe||(fe={}));var ns;(function(t){t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr"})(ns||(ns={}));var Et;(function(t){t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block"})(Et||(Et={}));var Qd=Symbol("ConsumesSlot"),Jd=Symbol("DependsOnSlotContext"),fo=Symbol("ConsumesVars"),mo=Symbol("UsesVarOffset"),Kn={[Qd]:!0,numSlotsUsed:1},qt={[Jd]:!0},Dt={[fo]:!0},A0={[mo]:!0,varOffset:null};function pi(t){return t[Qd]===!0}function Gu(t){return t[Jd]===!0}function Sl(t){return t[fo]===!0}function Oh(t){return t[mo]===!0}function Tn(t){return{kind:h.Statement,statement:t,...z}}function Nr(t,e,n,s){return{kind:h.Variable,xref:t,variable:e,initializer:n,flags:s,...z}}var z={debugListId:null,prev:null,next:null};function vS(t,e,n){return{kind:h.InterpolateText,target:t,interpolation:e,sourceSpan:n,...qt,...Dt,...z}}var Ae=class{constructor(e,n,s){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=s,s.length!==0&&s.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${s.length}`)}};function tr(t,e,n,s,r,i,o,a,l,c,p){return{kind:h.Binding,bindingKind:e,target:t,name:n,expression:s,unit:r,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:p,...z}}function yS(t,e,n,s,r,i,o,a,l,c){return{kind:h.Property,target:t,name:e,expression:n,isAnimationTrigger:s,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c,...qt,...Dt,...z}}function ES(t,e,n,s,r,i,o,a,l){return{kind:h.TwoWayProperty,target:t,name:e,expression:n,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:i,i18nContext:o,i18nMessage:a,sourceSpan:l,...qt,...Dt,...z}}function SS(t,e,n,s,r){return{kind:h.StyleProp,target:t,name:e,expression:n,unit:s,sourceSpan:r,...qt,...Dt,...z}}function xS(t,e,n,s){return{kind:h.ClassProp,target:t,name:e,expression:n,sourceSpan:s,...qt,...Dt,...z}}function wS(t,e,n){return{kind:h.StyleMap,target:t,expression:e,sourceSpan:n,...qt,...Dt,...z}}function TS(t,e,n){return{kind:h.ClassMap,target:t,expression:e,sourceSpan:n,...qt,...Dt,...z}}function CS(t,e,n,s,r,i,o,a,l,c){return{kind:h.Attribute,target:t,namespace:e,name:n,expression:s,securityContext:r,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c,...qt,...Dt,...z}}function IS(t,e){return{kind:h.Advance,delta:t,sourceSpan:e,...z}}function Zd(t,e,n,s,r){return{kind:h.Conditional,target:t,targetSlot:e,test:n,conditions:s,processed:null,sourceSpan:r,contextValue:null,...z,...qt,...Dt}}function AS(t,e,n,s){return{kind:h.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:s,...z,...qt}}function bS(t,e,n,s){return{kind:h.DeferWhen,target:t,expr:e,prefetch:n,sourceSpan:s,...z,...qt,...Dt}}function em(t,e,n,s,r,i,o,a,l,c,p){return{kind:h.I18nExpression,context:t,target:e,i18nOwner:n,handle:s,expression:r,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:p,...z,...Dt,...qt}}function NS(t,e,n){return{kind:h.I18nApply,owner:t,handle:e,sourceSpan:n,...z}}var Fh,Bh,$h,Uh,Vh,qh;function Cn(t){return t instanceof pe}var pe=class extends te{constructor(e=null){super(null,e)}},vt=class t extends pe{constructor(e){super(),this.name=e,this.kind=B.LexicalRead}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},da=class t extends pe{constructor(e,n,s){super(),this.target=e,this.targetSlot=n,this.offset=s,this.kind=B.Reference}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},Wn=class t extends pe{constructor(e){super(),this.view=e,this.kind=B.Context}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},ma=class t extends pe{constructor(e){super(),this.view=e,this.kind=B.TrackContext}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},ga=class t extends pe{constructor(){super(),this.kind=B.NextContext,this.steps=1}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},_c=class t extends pe{constructor(){super(),this.kind=B.GetCurrentView}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},va=class t extends pe{constructor(e){super(),this.view=e,this.kind=B.RestoreView}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=k(this.view,e,n))}clone(){return new t(this.view instanceof te?this.view.clone():this.view)}},Pc=class t extends pe{constructor(e){super(),this.expr=e,this.kind=B.ResetView}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=k(this.expr,e,n)}clone(){return new t(this.expr.clone())}},ya=class t extends pe{constructor(e,n){super(),this.target=e,this.value=n,this.kind=B.TwoWayBindingSet}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=k(this.target,e,n),this.value=k(this.value,e,n)}clone(){return new t(this.target,this.value)}},nr=class t extends pe{constructor(e){super(),this.xref=e,this.kind=B.ReadVariable,this.name=null}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},sr=class t extends pe{static{Fh=fo,Bh=mo}constructor(e,n){super(),this.kind=B.PureFunctionExpr,this[Fh]=!0,this[Bh]=!0,this.varOffset=null,this.fn=null,this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let s of this.args)s.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,s)=>n.isEquivalent(this.args[s]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=k(this.body,e,n|oe.InChildOperation):this.fn!==null&&(this.fn=k(this.fn,e,n));for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Zr=class t extends pe{constructor(e){super(),this.index=e,this.kind=B.PureFunctionParameterExpr}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},rr=class t extends pe{static{$h=fo,Uh=mo}constructor(e,n,s,r){super(),this.target=e,this.targetSlot=n,this.name=s,this.args=r,this.kind=B.PipeBinding,this[$h]=!0,this[Uh]=!0,this.varOffset=null}visitExpression(e,n){for(let s of this.args)s.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},Ea=class t extends pe{static{Vh=fo,qh=mo}constructor(e,n,s,r,i){super(),this.target=e,this.targetSlot=n,this.name=s,this.args=r,this.numArgs=i,this.kind=B.PipeBindingVariadic,this[Vh]=!0,this[qh]=!0,this.varOffset=null}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=k(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},ei=class t extends pe{constructor(e,n){super(),this.receiver=e,this.name=n,this.kind=B.SafePropertyRead}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=k(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},ti=class t extends pe{constructor(e,n,s){super(s),this.receiver=e,this.index=n,this.kind=B.SafeKeyedRead}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=k(this.receiver,e,n),this.index=k(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},fs=class t extends pe{constructor(e,n){super(),this.receiver=e,this.args=n,this.kind=B.SafeInvokeFunction}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let s of this.args)s.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=k(this.receiver,e,n);for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},ni=class t extends pe{constructor(e,n){super(),this.guard=e,this.expr=n,this.kind=B.SafeTernaryExpr}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=k(this.guard,e,n),this.expr=k(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},Ji=class t extends pe{constructor(){super(...arguments),this.kind=B.EmptyExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},un=class t extends pe{constructor(e,n){super(),this.expr=e,this.xref=n,this.kind=B.AssignTemporaryExpr,this.name=null}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=k(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},jn=class t extends pe{constructor(e){super(),this.xref=e,this.kind=B.ReadTemporaryExpr,this.name=null}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Sa=class t extends pe{constructor(e){super(),this.slot=e,this.kind=B.SlotLiteralExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},xa=class t extends pe{constructor(e,n,s,r=null){super(),this.expr=e,this.target=n,this.targetSlot=s,this.alias=r,this.kind=B.ConditionalCase}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=k(this.expr,e,n))}},Zi=class t extends pe{constructor(e){super(),this.expr=e,this.kind=B.ConstCollected}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function Ct(t,e){ze(t,(n,s)=>(e(n,s),n),oe.None)}var oe;(function(t){t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation"})(oe||(oe={}));function xl(t,e,n){for(let s=0;s<t.expressions.length;s++)t.expressions[s]=k(t.expressions[s],e,n)}function ze(t,e,n){switch(t.kind){case h.StyleProp:case h.StyleMap:case h.ClassProp:case h.ClassMap:case h.Binding:t.expression instanceof Ae?xl(t.expression,e,n):t.expression=k(t.expression,e,n);break;case h.Property:case h.HostProperty:case h.Attribute:t.expression instanceof Ae?xl(t.expression,e,n):t.expression=k(t.expression,e,n),t.sanitizer=t.sanitizer&&k(t.sanitizer,e,n);break;case h.TwoWayProperty:t.expression=k(t.expression,e,n),t.sanitizer=t.sanitizer&&k(t.sanitizer,e,n);break;case h.I18nExpression:t.expression=k(t.expression,e,n);break;case h.InterpolateText:xl(t.interpolation,e,n);break;case h.Statement:wa(t.statement,e,n);break;case h.Variable:t.initializer=k(t.initializer,e,n);break;case h.Conditional:for(let s of t.conditions)s.expr!==null&&(s.expr=k(s.expr,e,n));t.processed!==null&&(t.processed=k(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=k(t.contextValue,e,n));break;case h.Listener:case h.TwoWayListener:for(let s of t.handlerOps)ze(s,e,n|oe.InChildOperation);break;case h.ExtractedAttribute:t.expression=t.expression&&k(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&k(t.trustedValueFn,e,n);break;case h.RepeaterCreate:t.track=k(t.track,e,n),t.trackByFn!==null&&(t.trackByFn=k(t.trackByFn,e,n));break;case h.Repeater:t.collection=k(t.collection,e,n);break;case h.Defer:t.loadingConfig!==null&&(t.loadingConfig=k(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=k(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=k(t.resolverFn,e,n));break;case h.I18nMessage:for(let[s,r]of t.params)t.params.set(s,k(r,e,n));for(let[s,r]of t.postprocessingParams)t.postprocessingParams.set(s,k(r,e,n));break;case h.DeferWhen:t.expr=k(t.expr,e,n);break;case h.Advance:case h.Container:case h.ContainerEnd:case h.ContainerStart:case h.DeferOn:case h.DisableBindings:case h.Element:case h.ElementEnd:case h.ElementStart:case h.EnableBindings:case h.I18n:case h.I18nApply:case h.I18nContext:case h.I18nEnd:case h.I18nStart:case h.IcuEnd:case h.IcuStart:case h.Namespace:case h.Pipe:case h.Projection:case h.ProjectionDef:case h.Template:case h.Text:case h.I18nAttributes:case h.IcuPlaceholder:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${h[t.kind]}`)}}function k(t,e,n){if(t instanceof pe)t.transformInternalExpressions(e,n);else if(t instanceof X)t.lhs=k(t.lhs,e,n),t.rhs=k(t.rhs,e,n);else if(t instanceof Bn)t.expr=k(t.expr,e,n);else if(t instanceof je)t.receiver=k(t.receiver,e,n);else if(t instanceof sn)t.receiver=k(t.receiver,e,n),t.index=k(t.index,e,n);else if(t instanceof $s)t.receiver=k(t.receiver,e,n),t.value=k(t.value,e,n);else if(t instanceof Or)t.receiver=k(t.receiver,e,n),t.index=k(t.index,e,n),t.value=k(t.value,e,n);else if(t instanceof We){t.fn=k(t.fn,e,n);for(let s=0;s<t.args.length;s++)t.args[s]=k(t.args[s],e,n)}else if(t instanceof ht)for(let s=0;s<t.entries.length;s++)t.entries[s]=k(t.entries[s],e,n);else if(t instanceof Bt)for(let s=0;s<t.entries.length;s++)t.entries[s].value=k(t.entries[s].value,e,n);else if(t instanceof pt)t.condition=k(t.condition,e,n),t.trueCase=k(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=k(t.falseCase,e,n));else if(t instanceof Bs)t.expr=k(t.expr,e,n);else if(t instanceof _i)t.value=k(t.value,e,n);else if(t instanceof ki)for(let s=0;s<t.expressions.length;s++)t.expressions[s]=k(t.expressions[s],e,n);else if(t instanceof En)t.condition=k(t.condition,e,n);else if(t instanceof Pi)t.tag=k(t.tag,e,n),t.template.expressions=t.template.expressions.map(s=>k(s,e,n));else if(t instanceof Fn)if(Array.isArray(t.body))for(let s=0;s<t.body.length;s++)wa(t.body[s],e,n);else t.body=k(t.body,e,n);else if(!(t instanceof $)){if(!(t instanceof St||t instanceof De||t instanceof Ce))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function wa(t,e,n){if(t instanceof Fe)t.expr=k(t.expr,e,n);else if(t instanceof Te)t.value=k(t.value,e,n);else if(t instanceof Ke)t.value!==void 0&&(t.value=k(t.value,e,n));else if(t instanceof Li){t.condition=k(t.condition,e,n);for(let s of t.trueCase)wa(s,e,n);for(let s of t.falseCase)wa(s,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function tm(t){return t instanceof Ce&&typeof t.value=="string"}var S=class t{static{this.nextListId=0}constructor(){this.debugListId=t.nextListId++,this.head={kind:h.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.tail={kind:h.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.head.next=this.tail,this.tail.prev=this.head}push(e){if(Array.isArray(e)){for(let s of e)this.push(s);return}t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=this.debugListId;let n=this.tail.prev;e.prev=n,n.next=e,e.next=this.tail,this.tail.prev=e}prepend(e){if(e.length===0)return;for(let r of e)t.assertIsNotEnd(r),t.assertIsUnowned(r),r.debugListId=this.debugListId;let n=this.head.next,s=this.head;for(let r of e)s.next=r,r.prev=s,s=r;s.next=n,n.prev=s}*[Symbol.iterator](){let e=this.head.next;for(;e!==this.tail;){t.assertIsOwned(e,this.debugListId);let n=e.next;yield e,e=n}}*reversed(){let e=this.tail.prev;for(;e!==this.head;){t.assertIsOwned(e,this.debugListId);let n=e.prev;yield e,e=n}}static replace(e,n){t.assertIsNotEnd(e),t.assertIsNotEnd(n),t.assertIsOwned(e),t.assertIsUnowned(n),n.debugListId=e.debugListId,e.prev!==null&&(e.prev.next=n,n.prev=e.prev),e.next!==null&&(e.next.prev=n,n.next=e.next),e.debugListId=null,e.prev=null,e.next=null}static replaceWithMany(e,n){if(n.length===0){t.remove(e);return}t.assertIsNotEnd(e),t.assertIsOwned(e);let s=e.debugListId;e.debugListId=null;for(let c of n)t.assertIsNotEnd(c),t.assertIsUnowned(c);let{prev:r,next:i}=e;e.prev=null,e.next=null;let o=r;for(let c of n)this.assertIsUnowned(c),c.debugListId=s,o.next=c,c.prev=o,c.next=null,o=c;let a=n[0],l=o;r!==null&&(r.next=a,a.prev=r),i!==null&&(i.prev=l,l.next=i)}static remove(e){t.assertIsNotEnd(e),t.assertIsOwned(e),e.prev.next=e.next,e.next.prev=e.prev,e.debugListId=null,e.prev=null,e.next=null}static insertBefore(e,n){if(Array.isArray(e)){for(let s of e)this.insertBefore(s,n);return}if(t.assertIsOwned(n),n.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,e.prev=null,n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e}static insertAfter(e,n){if(t.assertIsOwned(n),n.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,n.next.prev=e,e.next=n.next,e.prev=n,n.next=e}static assertIsUnowned(e){if(e.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${h[e.kind]}`)}static assertIsOwned(e,n){if(e.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${h[e.kind]}`);if(n!==void 0&&e.debugListId!==n)throw new Error(`AssertionError: node belongs to the wrong list (expected ${n}, actual ${e.debugListId})`)}static assertIsNotEnd(e){if(e.kind===h.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}},Nt=class{constructor(){this.slot=null}},DS=new Set([h.Element,h.ElementStart,h.Container,h.ContainerStart,h.Template,h.RepeaterCreate]);function ds(t){return DS.has(t.kind)}function _S(t,e,n,s,r,i){return{kind:h.ElementStart,xref:e,tag:t,handle:new Nt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:s,startSourceSpan:r,wholeSourceSpan:i,...Kn,...z}}function Qa(t,e,n,s,r,i,o,a){return{kind:h.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new Nt,functionNameSuffix:s,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a,...Kn,...z}}function PS(t,e,n,s,r,i,o,a,l,c){return{kind:h.RepeaterCreate,attributes:null,xref:t,handle:new Nt,emptyView:e,track:s,trackByFn:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:Ge.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c,...Kn,...z,...Dt,numSlotsUsed:e===null?2:3}}function kS(t,e){return{kind:h.ElementEnd,xref:t,sourceSpan:e,...z}}function RS(t){return{kind:h.DisableBindings,xref:t,...z}}function MS(t){return{kind:h.EnableBindings,xref:t,...z}}function nm(t,e,n,s){return{kind:h.Text,xref:t,handle:new Nt,initialValue:e,icuPlaceholder:n,sourceSpan:s,...Kn,...z}}function Wu(t,e,n,s,r,i,o,a,l){let c=new S;return c.push(r),{kind:h.Listener,target:t,targetSlot:e,tag:s,hostListener:a,name:n,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:i!==null,animationPhase:i,eventTarget:o,sourceSpan:l,...z}}function sm(t,e,n,s,r,i){let o=new S;return o.push(r),{kind:h.TwoWayListener,target:t,targetSlot:e,tag:s,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i,...z}}function rm(t,e,n){return{kind:h.Pipe,xref:t,handle:e,name:n,...z,...Kn}}function LS(t){return{kind:h.Namespace,active:t,...z}}function OS(t){return{kind:h.ProjectionDef,def:t,...z}}function FS(t,e,n,s){return{kind:h.Projection,xref:t,handle:new Nt,selector:e,i18nPlaceholder:n,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:s,...z,...Kn}}function zt(t,e,n,s,r,i,o,a){return{kind:h.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:s,expression:r,i18nContext:i,i18nMessage:o,securityContext:a,trustedValueFn:null,...z}}function BS(t,e,n,s,r,i){return{kind:h.Defer,xref:t,handle:new Nt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,metadata:s,resolverFn:r,sourceSpan:i,...z,...Kn,numSlotsUsed:2}}function _s(t,e,n,s){return{kind:h.DeferOn,defer:t,trigger:e,prefetch:n,sourceSpan:s,...z}}function $S(t,e,n,s,r,i,o,a){return{kind:h.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:s,messagePlaceholder:r,params:i,postprocessingParams:o,needsPostprocessing:a,subMessages:[],...z}}function Ja(t,e,n,s){return{kind:h.I18nStart,xref:t,handle:new Nt,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:s,...z,...Kn}}function Za(t,e){return{kind:h.I18nEnd,xref:t,sourceSpan:e,...z}}function US(t,e,n,s){return{kind:h.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:s,...z}}function VS(t){return{kind:h.IcuEnd,xref:t,...z}}function qS(t,e,n){return{kind:h.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[],...z}}function wl(t,e,n,s,r){if(n===null&&t!==ns.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return{kind:h.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:s,sourceSpan:r,params:new Map,postprocessingParams:new Map,...z}}function im(t,e,n){return{kind:h.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null,...z,...Kn}}function HS(t,e,n,s,r,i){return{kind:h.HostProperty,name:t,expression:e,isAnimationTrigger:n,i18nContext:s,securityContext:r,sanitizer:null,sourceSpan:i,...Dt,...z}}var om="CTX_REF_MARKER",P;(function(t){t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both"})(P||(P={}));var Ta=class{constructor(e,n,s){this.componentName=e,this.pool=n,this.compatibility=s,this.kind=P.Both,this.nextXrefId=0}allocateXrefId(){return this.nextXrefId++}},eo=class extends Ta{constructor(e,n,s,r,i,o,a){super(e,n,s),this.relativeContextFilePath=r,this.i18nUseExternalIds=i,this.deferBlocksMeta=o,this.allDeferrableDepsFn=a,this.kind=P.Tmpl,this.fnSuffix="Template",this.views=new Map,this.contentSelectors=null,this.consts=[],this.constsInitializers=[],this.root=new ms(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(e){let n=new ms(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let s=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),s}},Ca=class{constructor(e){this.xref=e,this.create=new S,this.update=new S,this.fnName=null,this.vars=null}*ops(){for(let e of this.create)if(yield e,e.kind===h.Listener||e.kind===h.TwoWayListener)for(let n of e.handlerOps)yield n;for(let e of this.update)yield e}},ms=class extends Ca{constructor(e,n,s){super(n),this.job=e,this.parent=s,this.contextVariables=new Map,this.aliases=new Set,this.decls=null}},Ia=class extends Ta{constructor(e,n,s){super(e,n,s),this.kind=P.Host,this.fnSuffix="HostBindings",this.root=new kc(this)}get units(){return[this.root]}},kc=class extends Ca{constructor(e){super(0),this.job=e,this.attributes=null}};function GS(t){for(let e of t.units)for(let n of e.ops())ze(n,WS,oe.None)}function WS(t){if(t instanceof We&&t.fn instanceof vt&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function jS(t){let e=new Map;for(let n of t.units)for(let s of n.create)s.kind===h.I18nContext&&e.set(s.xref,s);for(let n of t.units)for(let s of n.update)s.kind===h.I18nExpression&&KS(e,s)&&S.insertAfter(NS(s.i18nOwner,s.handle,null),s)}function KS(t,e){if(e.next?.kind!==h.I18nExpression)return!0;let n=t.get(e.context),s=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(s===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==s.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function zS(t){for(let e of t.units){let n=e.update.head,s=[],r=null;for(let i of e.create){if(i.kind===h.I18nStart)r={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===h.I18nEnd){for(let o of s)o.target=r.lastSlotConsumer,S.insertBefore(o,n);s.length=0,r=null}if(pi(i))for(r!==null&&(r.lastSlotConsumer=i.xref);n.next!==null;){if(r!==null&&n.kind===h.I18nExpression&&n.usage===er.I18nText&&n.i18nOwner===r.blockXref){let o=n;n=n.next,S.remove(o),s.push(o);continue}if(Gu(n)&&n.target!==i.xref)break;n=n.next}}}}function ju(t){let e=new Map;for(let n of t.create)pi(n)&&(e.set(n.xref,n),n.kind===h.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function YS(t){for(let e of t.units){let n=ju(e);for(let s of e.ops())switch(s.kind){case h.Attribute:XS(e,s,n);break;case h.Property:if(!s.isAnimationTrigger){let r;s.i18nMessage!==null&&s.templateKind===null?r=M.I18n:s.isStructuralTemplateAttribute?r=M.Template:r=M.Property,S.insertBefore(zt(s.target,r,null,s.name,null,null,null,s.securityContext),wr(n,s.target))}break;case h.TwoWayProperty:S.insertBefore(zt(s.target,M.TwoWayProperty,null,s.name,null,null,null,s.securityContext),wr(n,s.target));break;case h.StyleProp:case h.ClassProp:e.job.compatibility===Tt.TemplateDefinitionBuilder&&s.expression instanceof Ji&&S.insertBefore(zt(s.target,M.Property,null,s.name,null,null,null,J.STYLE),wr(n,s.target));break;case h.Listener:if(!s.isAnimationListener){let r=zt(s.target,M.Property,null,s.name,null,null,null,J.NONE);if(t.kind===P.Host){if(t.compatibility)break;e.create.push(r)}else S.insertBefore(r,wr(n,s.target))}break;case h.TwoWayListener:if(t.kind!==P.Host){let r=zt(s.target,M.Property,null,s.name,null,null,null,J.NONE);S.insertBefore(r,wr(n,s.target))}break}}}function wr(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function XS(t,e,n){if(e.expression instanceof Ae)return;let s=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Tt.TemplateDefinitionBuilder&&(s&&=e.isTextAttribute),s){let r=zt(e.target,e.isStructuralTemplateAttribute?M.Template:M.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===P.Host)t.create.push(r);else{let i=wr(n,e.target);S.insertBefore(r,i)}S.remove(e)}}function QS(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function JS(t){let e=new Map;for(let n of t.units)for(let s of n.create)ds(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.ops())if(s.kind===h.Binding)switch(s.bindingKind){case M.Attribute:if(s.name==="ngNonBindable"){S.remove(s);let r=QS(e,s.target);r.nonBindable=!0}else{let[r,i]=ct(s.name);S.replace(s,CS(s.target,r,i,s.expression,s.securityContext,s.isTextAttribute,s.isStructuralTemplateAttribute,s.templateKind,s.i18nMessage,s.sourceSpan))}break;case M.Property:case M.Animation:t.kind===P.Host?S.replace(s,HS(s.name,s.expression,s.bindingKind===M.Animation,s.i18nContext,s.securityContext,s.sourceSpan)):S.replace(s,yS(s.target,s.name,s.expression,s.bindingKind===M.Animation,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case M.TwoWayProperty:if(!(s.expression instanceof te))throw new Error(`Expected value of two-way property binding "${s.name}" to be an expression`);S.replace(s,ES(s.target,s.name,s.expression,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case M.I18n:case M.ClassName:case M.StyleProperty:throw new Error(`Unhandled binding of kind ${M[s.bindingKind]}`)}}var ZS=new Set([u.attribute,u.classProp,u.element,u.elementContainer,u.elementContainerEnd,u.elementContainerStart,u.elementEnd,u.elementStart,u.hostProperty,u.i18nExp,u.listener,u.listener,u.property,u.styleProp,u.stylePropInterpolate1,u.stylePropInterpolate2,u.stylePropInterpolate3,u.stylePropInterpolate4,u.stylePropInterpolate5,u.stylePropInterpolate6,u.stylePropInterpolate7,u.stylePropInterpolate8,u.stylePropInterpolateV,u.syntheticHostListener,u.syntheticHostProperty,u.templateCreate,u.twoWayProperty,u.twoWayListener]);function ex(t){for(let e of t.units)Hh(e.create),Hh(e.update)}function Hh(t){let e=null;for(let n of t){if(n.kind!==h.Statement||!(n.statement instanceof Fe)){e=null;continue}if(!(n.statement.expr instanceof We)||!(n.statement.expr.fn instanceof De)){e=null;continue}let s=n.statement.expr.fn.value;if(!ZS.has(s)){e=null;continue}if(e!==null&&e.instruction===s){let r=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),S.remove(n)}else e={op:n,instruction:s,expression:n.statement.expr}}}function tx(t){for(let e of t.units)for(let n of e.update)n.kind===h.Attribute&&n.expression instanceof Ae&&n.expression.strings.length===2&&n.expression.strings.every(r=>r==="")&&(n.expression=n.expression.expressions[0])}function nx(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==h.Conditional)continue;let s,r=n.conditions.findIndex(o=>o.expr===null);if(r>=0){let o=n.conditions.splice(r,1)[0].targetSlot;s=new Sa(o)}else s=m(-1);let i=n.test==null?null:new un(n.test,t.allocateXrefId());for(let o=n.conditions.length-1;o>=0;o--){let a=n.conditions[o];if(a.expr!==null){if(i!==null){let l=o===0?i:new jn(i.xref);a.expr=new X(w.Identical,l,a.expr)}else if(a.alias!==null){let l=t.allocateXrefId();a.expr=new un(a.expr,l),n.contextValue=new jn(l)}s=new pt(a.expr,new Sa(a.targetSlot),s)}}n.processed=s,n.conditions=[]}}var sx=new Map([["&&",w.And],[">",w.Bigger],[">=",w.BiggerEquals],["|",w.BitwiseOr],["&",w.BitwiseAnd],["/",w.Divide],["==",w.Equals],["===",w.Identical],["<",w.Lower],["<=",w.LowerEquals],["-",w.Minus],["%",w.Modulo],["*",w.Multiply],["!=",w.NotEquals],["!==",w.NotIdentical],["??",w.NullishCoalesce],["||",w.Or],["+",w.Plus]]);function am(t){let e=new Map([["svg",Ge.SVG],["math",Ge.Math]]);return t===null?Ge.HTML:e.get(t)??Ge.HTML}function rx(t){let e=new Map([["svg",Ge.SVG],["math",Ge.Math]]);for(let[n,s]of e.entries())if(s===t)return n;return null}function ix(t,e){return e===Ge.HTML?t:`:${rx(e)}:${t}`}function si(t){return Array.isArray(t)?q(t.map(si)):m(t)}function ox(t){let e=new Map;for(let n of t.units)for(let s of n.create)if(s.kind===h.ExtractedAttribute){let r=e.get(s.target)||new Rc(t.compatibility);e.set(s.target,r),r.add(s.bindingKind,s.name,s.expression,s.namespace,s.trustedValueFn),S.remove(s)}if(t instanceof eo)for(let n of t.units)for(let s of n.create)if(s.kind==h.Projection){let r=e.get(s.xref);if(r!==void 0){let i=Mc(r);i.entries.length>0&&(s.attributes=i)}}else ds(s)&&(s.attributes=Gh(t,e,s.xref),s.kind===h.RepeaterCreate&&s.emptyView!==null&&(s.emptyAttributes=Gh(t,e,s.emptyView)));else if(t instanceof Ia)for(let[n,s]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=Mc(s);r.entries.length>0&&(t.root.attributes=r)}}function Gh(t,e,n){let s=e.get(n);if(s!==void 0){let r=Mc(s);if(r.entries.length>0)return t.addConst(r)}return null}var gr=Object.freeze([]),Rc=class{get attributes(){return this.byKind.get(M.Attribute)??gr}get classes(){return this.byKind.get(M.ClassName)??gr}get styles(){return this.byKind.get(M.StyleProperty)??gr}get bindings(){return this.propertyBindings??gr}get template(){return this.byKind.get(M.Template)??gr}get i18n(){return this.byKind.get(M.I18n)??gr}constructor(e){this.compatibility=e,this.known=new Map,this.byKind=new Map,this.propertyBindings=null,this.projectAs=null}isKnown(e,n,s){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,s,r,i){if(!(this.compatibility===Tt.TemplateDefinitionBuilder&&(e===M.Attribute||e===M.ClassName||e===M.StyleProperty))&&this.isKnown(e,n,s))return;if(n==="ngProjectAs"){if(s===null||!(s instanceof Ce)||s.value==null||typeof s.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=s.value.toString()}let a=this.arrayFor(e);if(a.push(...ax(r,n)),e===M.Attribute||e===M.StyleProperty){if(s===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!tm(s))throw Error("AssertionError: extracted attribute value should be string literal");a.push(Yo(i,new Br([new $r(s.value)],[]),void 0,s.sourceSpan))}else a.push(s)}}arrayFor(e){return e===M.Property||e===M.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function ax(t,e){let n=m(e);return t?[m(0),m(t),n]:[n]}function Mc({attributes:t,bindings:e,classes:n,i18n:s,projectAs:r,styles:i,template:o}){let a=[...t];if(r!==null){let l=lo(r)[0];a.push(m(5),si(l))}return n.length>0&&a.push(m(1),...n),i.length>0&&a.push(m(2),...i),e.length>0&&a.push(m(3),...e),o.length>0&&a.push(m(4),...o),s.length>0&&a.push(m(6),...s),q(a)}function lx(t){let e=new Map;for(let n of t.units){for(let s of n.create)s.kind===h.I18nAttributes&&e.set(s.target,s);for(let s of n.update)switch(s.kind){case h.Property:case h.Attribute:if(s.i18nContext===null||!(s.expression instanceof Ae))continue;let r=e.get(s.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==s.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<s.expression.expressions.length;o++){let a=s.expression.expressions[o];if(s.expression.i18nPlaceholders.length!==s.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${s.expression.i18nPlaceholders.length} placeholders and ${s.expression.expressions.length} expressions`);i.push(em(s.i18nContext,r.target,r.xref,r.handle,a,null,s.expression.i18nPlaceholders[o],Jr.Creation,er.I18nAttribute,s.name,s.sourceSpan))}S.replaceWithMany(s,i);break}}}function cx(t){for(let e of t.units)for(let n of e.create)if(n.kind===h.Defer){if(n.metadata.deps.length===0||n.resolverFn!==null)continue;let s=[];for(let o of n.metadata.deps)if(o.isDeferrable){let a=Oe([new ue("m",Vt)],R("m").prop(o.isDefaultImport?"default":o.symbolName)),l=new Ur(o.importPath).prop("then").callFn([a]);s.push(l)}else s.push(o.type);let r=Oe([],q(s));if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned bfore extracting defer deps functions");let i=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(r,`${i}_Defer_${n.handle.slot}_DepsFn`,!1)}}function ux(t){let e=new Map;for(let r of t.units)for(let i of r.ops())switch(i.kind){case h.Binding:case h.Property:case h.Attribute:case h.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=wl(ns.Attr,t.allocateXrefId(),null,i.i18nMessage,null);r.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case h.I18nStart:if(i.xref===i.root){let o=wl(ns.RootI18n,t.allocateXrefId(),i.xref,i.message,null);r.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let r of t.units)for(let i of r.create)if(i.kind===h.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let s=null;for(let r of t.units)for(let i of r.create)switch(i.kind){case h.I18nStart:s=i;break;case h.I18nEnd:s=null;break;case h.IcuStart:if(s===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==s.message.id){let o=wl(ns.Icu,t.allocateXrefId(),s.root,i.message,null);r.create.push(o),i.context=o.xref}else i.context=s.context,n.get(s.xref).contextKind=ns.Icu;break}}function px(t){let e=new Map;for(let n of t.units)for(let s of n.update.reversed())if(s.kind===h.Binding&&s.isTextAttribute){let r=e.get(s.target)||new Set;r.has(s.name)&&t.compatibility===Tt.TemplateDefinitionBuilder&&(s.name==="style"||s.name==="class")&&S.remove(s),r.add(s.name),e.set(s.target,r)}}function hx(t){for(let e of t.units)for(let n of e.create)n.kind===h.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new Zi(si([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new Zi(si([n.loadingMinimumTime,n.loadingAfterTime]))))}function fx(t){let e=new Map;function n(r){if(e.has(r.xref))return e.get(r.xref);let i=new Lc;for(let o of r.create)if(!(!ds(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&i.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(r.xref,i),i}function s(r,i,o){switch(i.trigger.kind){case fe.Idle:case fe.Immediate:case fe.Timer:return;case fe.Hover:case fe.Interaction:case fe.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=t.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let p of c.create)if(pi(p)&&(ds(p)||p.kind===h.Projection)){i.trigger.targetXref=p.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=p.handle;return}return}let a=o!==null?t.views.get(o):r,l=o!==null?-1:0;for(;a!==null;){let c=n(a);if(c.targets.has(i.trigger.targetName)){let{xref:p,slot:f}=c.targets.get(i.trigger.targetName);i.trigger.targetXref=p,i.trigger.targetView=a.xref,i.trigger.targetSlotViewSteps=l,i.trigger.targetSlot=f;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let r of t.units){let i=new Map;for(let o of r.create)switch(o.kind){case h.Defer:i.set(o.xref,o);break;case h.DeferOn:let a=i.get(o.defer);s(r,o,a.placeholderView);break}}}var Lc=class{constructor(){this.targets=new Map}},dx=new Map([[h.ElementEnd,[h.ElementStart,h.Element]],[h.ContainerEnd,[h.ContainerStart,h.Container]],[h.I18nEnd,[h.I18nStart,h.I18n]]]),mx=new Set([h.Pipe]);function gx(t){for(let e of t.units)for(let n of e.create){let s=dx.get(n.kind);if(s===void 0)continue;let[r,i]=s,o=n.prev;for(;o!==null&&mx.has(o.kind);)o=o.prev;o!==null&&o.kind===r&&(o.kind=i,S.remove(n))}}function vx(t){for(let e of t.units)for(let n of e.ops())ze(n,s=>Tx(s,{job:t}),oe.None),ze(n,Cx,oe.None)}var b0=[We,ht,Bt,fs,rr].map(t=>t.constructor.name);function _t(t){return t instanceof Bn?_t(t.expr):t instanceof X?_t(t.lhs)||_t(t.rhs):t instanceof pt?t.falseCase&&_t(t.falseCase)?!0:_t(t.condition)||_t(t.trueCase):t instanceof En?_t(t.condition):t instanceof un?_t(t.expr):t instanceof je?_t(t.receiver):t instanceof sn?_t(t.receiver)||_t(t.index):t instanceof We||t instanceof ht||t instanceof Bt||t instanceof fs||t instanceof rr}function yx(t){let e=new Set;return k(t,n=>(n instanceof un&&e.add(n.xref),n),oe.None),e}function Ex(t,e,n){return k(t,s=>{if(s instanceof un&&e.has(s.xref)){let r=new jn(s.xref);return n.job.compatibility===Tt.TemplateDefinitionBuilder?new un(r,r.xref):r}return s},oe.None),t}function vr(t,e,n){let s;if(_t(t)){let r=n.job.allocateXrefId();s=[new un(t,r),new jn(r)]}else s=[t,t.clone()],Ex(s[1],yx(s[0]),n);return new ni(s[0],e(s[1]))}function Sx(t){return t instanceof ei||t instanceof ti||t instanceof fs}function xx(t){return t instanceof je||t instanceof sn||t instanceof We}function lm(t){return Sx(t)||xx(t)}function wx(t){if(lm(t)&&t.receiver instanceof ni){let e=t.receiver;for(;e.expr instanceof ni;)e=e.expr;return e}return null}function Tx(t,e){if(!lm(t))return t;let n=wx(t);if(n){if(t instanceof We)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof je)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof sn)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof fs)return n.expr=vr(n.expr,s=>s.callFn(t.args),e),t.receiver;if(t instanceof ei)return n.expr=vr(n.expr,s=>s.prop(t.name),e),t.receiver;if(t instanceof ti)return n.expr=vr(n.expr,s=>s.key(t.index),e),t.receiver}else{if(t instanceof fs)return vr(t.receiver,s=>s.callFn(t.args),e);if(t instanceof ei)return vr(t.receiver,s=>s.prop(t.name),e);if(t instanceof ti)return vr(t.receiver,s=>s.key(t.index),e)}return t}function Cx(t){return t instanceof ni?new pt(new X(w.Equals,t.guard,as),as,t.expr):t}var Wh="\uFFFD",Ix="#",Ax="*",bx="/",Nx=":",Dx="[",_x="]",Px="|";function kx(t){let e=new Map,n=new Map,s=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case h.I18nContext:let a=Rx(t,o);i.create.push(a),e.set(o.xref,a),s.set(o.xref,o);break;case h.I18nStart:n.set(o.xref,o);break}let r=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case h.IcuStart:r=o,S.remove(o);let a=s.get(o.context);if(a.contextKind!==ns.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let c=n.get(l.root),p=e.get(c.context);if(p===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let f=e.get(a.xref);f.messagePlaceholder=o.messagePlaceholder,p.subMessages.push(f.xref);break;case h.IcuEnd:r=null,S.remove(o);break;case h.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(o.name,m(Mx(o))),S.remove(o);break}}function Rx(t,e,n){let s=jh(e.params),r=jh(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return $S(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,n??null,s,r,i)}function Mx(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AsserionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Dr);return t.strings.flatMap((n,s)=>[n,e[s]||""]).join("")}function jh(t){let e=new Map;for(let[n,s]of t){let r=Lx(s);r!==null&&e.set(n,m(r))}return e}function Lx(t){if(t.length===0)return null;let e=t.map(n=>Dr(n));return e.length===1?e[0]:`${Dx}${e.join(Px)}${_x}`}function Dr(t){if(t.flags&ce.ElementTag&&t.flags&ce.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=Dr({...t,value:t.value.element,flags:t.flags&~ce.TemplateTag}),i=Dr({...t,value:t.value.template,flags:t.flags&~ce.ElementTag});return t.flags&ce.OpenTag&&t.flags&ce.CloseTag?`${i}${r}${i}`:t.flags&ce.CloseTag?`${r}${i}`:`${i}${r}`}if(t.flags&ce.OpenTag&&t.flags&ce.CloseTag)return`${Dr({...t,flags:t.flags&~ce.CloseTag})}${Dr({...t,flags:t.flags&~ce.OpenTag})}`;if(t.flags===ce.None)return`${t.value}`;let e="",n="";t.flags&ce.ElementTag?e=Ix:t.flags&ce.TemplateTag&&(e=Ax),e!==""&&(n=t.flags&ce.CloseTag?bx:"");let s=t.subTemplateIndex===null?"":`${Nx}${t.subTemplateIndex}`;return`${Wh}${n}${e}${t.value}${s}${Wh}`}function Ox(t){for(let e of t.units){let n=new Map;for(let r of e.create){if(pi(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(r.xref,r.handle.slot)}let s=0;for(let r of e.update){if(Gu(r)){if(!n.has(r.target))throw new Error(`AssertionError: reference to unknown slot for target ${r.target}`)}else continue;let i=n.get(r.target);if(s!==i){let o=i-s;if(o<0)throw new Error("AssertionError: slot counter should never need to move backwards");S.insertBefore(IS(o,r.sourceSpan),r),s=i}}}}function Fx(t){let e=t.compatibility===Tt.TemplateDefinitionBuilder,n=[],s=0;for(let r of t.units)for(let i of r.create)i.kind===h.Projection&&(n.push(i.selector),i.projectionSlotIndex=s++);if(n.length>0){let r=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:lo(o));r=t.pool.getConstLiteral(si(i),e)}t.contentSelectors=t.pool.getConstLiteral(si(n),e),t.root.create.prepend([OS(r)])}}function Bx(t){qo(t.root,null)}function qo(t,e){let n=$x(t,e);for(let r of t.create)switch(r.kind){case h.Template:qo(t.job.views.get(r.xref),n);break;case h.RepeaterCreate:qo(t.job.views.get(r.xref),n),r.emptyView&&qo(t.job.views.get(r.emptyView),n);break;case h.Listener:case h.TwoWayListener:r.handlerOps.prepend(Oc(t,n));break}let s=Oc(t,n);t.update.prepend(s)}function $x(t,e){let n={view:t.xref,viewContextVariable:{kind:Me.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],parent:e};for(let s of t.contextVariables.keys())n.contextVariables.set(s,{kind:Me.Identifier,name:null,identifier:s});for(let s of t.create)switch(s.kind){case h.ElementStart:case h.Template:if(!Array.isArray(s.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<s.localRefs.length;r++)n.references.push({name:s.localRefs[r].name,targetId:s.xref,targetSlot:s.handle,offset:r,variable:{kind:Me.Identifier,name:null,identifier:s.localRefs[r].name}});break}return n}function Oc(t,e){let n=[];e.view!==t.xref&&n.push(Nr(t.job.allocateXrefId(),e.viewContextVariable,new ga,Jt.None));let s=t.job.views.get(e.view);for(let[r,i]of s.contextVariables){let o=new Wn(e.view),a=i===om?o:new je(o,i);n.push(Nr(t.job.allocateXrefId(),e.contextVariables.get(r),a,Jt.None))}for(let r of s.aliases)n.push(Nr(t.job.allocateXrefId(),r,r.expression.clone(),Jt.AlwaysInline));for(let r of e.references)n.push(Nr(t.job.allocateXrefId(),r.variable,new da(r.targetId,r.targetSlot,r.offset),Jt.None));return e.parent!==null&&n.push(...Oc(t,e.parent)),n}function Ux(t){for(let e of t.units)for(let n of e.ops())ze(n,s=>s instanceof Zi?m(t.addConst(s.expr)):s,oe.None)}var Kh="style.",zh="class.",Vx="style!",Yh="class!",Xh="!important";function qx(t){for(let e of t.root.update)if(e.kind===h.Binding&&e.bindingKind===M.Property)if(e.name.endsWith(Xh)&&(e.name=e.name.substring(0,e.name.length-Xh.length)),e.name.startsWith(Kh)){e.bindingKind=M.StyleProperty,e.name=e.name.substring(Kh.length),Hx(e.name)||(e.name=Gx(e.name));let{property:n,suffix:s}=Tl(e.name);e.name=n,e.unit=s}else e.name.startsWith(Vx)?(e.bindingKind=M.StyleProperty,e.name="style"):e.name.startsWith(zh)?(e.bindingKind=M.ClassName,e.name=Tl(e.name.substring(zh.length)).property):e.name.startsWith(Yh)&&(e.bindingKind=M.ClassName,e.name=Tl(e.name.substring(Yh.length)).property)}function Hx(t){return t.startsWith("--")}function Gx(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Tl(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,s=t,r=t.lastIndexOf(".");return r>0&&(n=t.slice(r+1),s=t.substring(0,r)),{property:s,suffix:n}}function to(t,e=!1){return _e(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var Fc=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${uo(e,!1)}}`}},Wx=new Fc;function cm(t){return t.visit(Wx)}var Y;(function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"})(Y||(Y={}));var jx=["var","let","as","null","undefined","true","false","if","else","this"],no=class{tokenize(e){let n=new Bc(e),s=[],r=n.scanToken();for(;r!=null;)s.push(r),r=n.scanToken();return s}},pn=class{constructor(e,n,s,r,i){this.index=e,this.end=n,this.type=s,this.numValue=r,this.strValue=i}isCharacter(e){return this.type==Y.Character&&this.numValue==e}isNumber(){return this.type==Y.Number}isString(){return this.type==Y.String}isOperator(e){return this.type==Y.Operator&&this.strValue==e}isIdentifier(){return this.type==Y.Identifier}isPrivateIdentifier(){return this.type==Y.PrivateIdentifier}isKeyword(){return this.type==Y.Keyword}isKeywordLet(){return this.type==Y.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==Y.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==Y.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==Y.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==Y.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==Y.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==Y.Keyword&&this.strValue=="this"}isError(){return this.type==Y.Error}toNumber(){return this.type==Y.Number?this.numValue:-1}toString(){switch(this.type){case Y.Character:case Y.Identifier:case Y.Keyword:case Y.Operator:case Y.PrivateIdentifier:case Y.String:case Y.Error:return this.strValue;case Y.Number:return this.numValue.toString();default:return null}}};function Qh(t,e,n){return new pn(t,e,Y.Character,n,String.fromCharCode(n))}function Kx(t,e,n){return new pn(t,e,Y.Identifier,0,n)}function zx(t,e,n){return new pn(t,e,Y.PrivateIdentifier,0,n)}function Yx(t,e,n){return new pn(t,e,Y.Keyword,0,n)}function Cl(t,e,n){return new pn(t,e,Y.Operator,0,n)}function Xx(t,e,n){return new pn(t,e,Y.String,0,n)}function Qx(t,e,n){return new pn(t,e,Y.Number,n,"")}function Jx(t,e,n){return new pn(t,e,Y.Error,0,n)}var Il=new pn(-1,-1,Y.Character,0,""),Bc=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?it:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,s=this.peek,r=this.index;for(;s<=Nd;)if(++r>=n){s=it;break}else s=e.charCodeAt(r);if(this.peek=s,this.index=r,r>=n)return null;if(Jh(s))return this.scanIdentifier();if(Nn(s))return this.scanNumber(r);let i=r;switch(s){case xr:return this.advance(),Nn(this.peek)?this.scanNumber(i):Qh(i,this.index,xr);case Ln:case Xt:case mn:case gt:case kr:case Ar:case Mt:case ts:case Qt:return this.scanCharacter(i,s);case Ki:case ji:return this.scanString();case Dd:return this.scanPrivateIdentifier();case Pd:case la:case mE:case Dn:case dE:case SE:return this.scanOperator(i,String.fromCharCode(s));case Th:return this.scanQuestion(i);case Cr:case Zn:return this.scanComplexOperator(i,String.fromCharCode(s),Ir,"=");case hc:case Ir:return this.scanComplexOperator(i,String.fromCharCode(s),Ir,"=",Ir,"=");case aa:return this.scanComplexOperator(i,"&",aa,"&");case Ch:return this.scanComplexOperator(i,"|",Ch,"|");case $d:for(;za(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(s)}]`,0)}scanCharacter(e,n){return this.advance(),Qh(e,this.index,n)}scanOperator(e,n){return this.advance(),Cl(e,this.index,n)}scanComplexOperator(e,n,s,r,i,o){this.advance();let a=n;return this.peek==s&&(this.advance(),a+=r),i!=null&&this.peek==i&&(this.advance(),a+=o),Cl(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();Zh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return jx.indexOf(n)>-1?Yx(e,this.index,n):Kx(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!Jh(this.peek))return this.error("Invalid character [#]",-1);for(;Zh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return zx(e,this.index,n)}scanNumber(e){let n=this.index===e,s=!1;for(this.advance();;){if(!Nn(this.peek))if(this.peek===Ka){if(!Nn(this.input.charCodeAt(this.index-1))||!Nn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);s=!0}else if(this.peek===xr)n=!1;else if(Zx(this.peek)){if(this.advance(),ew(this.peek)&&this.advance(),!Nn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let r=this.input.substring(e,this.index);s&&(r=r.replace(/_/g,""));let i=n?nw(r):parseFloat(r);return Qx(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let s="",r=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==ca){s+=i.substring(r,this.index);let a;if(this.advance(),this.peek==Od){let l=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(l))a=parseInt(l,16);else return this.error(`Invalid unicode escape [\\u${l}]`,0);for(let c=0;c<5;c++)this.advance()}else a=tw(this.peek),this.advance();s+=String.fromCharCode(a),r=this.index}else{if(this.peek==it)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(r,this.index);return this.advance(),Xx(e,this.index,s+o)}scanQuestion(e){this.advance();let n="?";return(this.peek===Th||this.peek===xr)&&(n+=this.peek===xr?".":"?",this.advance()),Cl(e,this.index,n)}error(e,n){let s=this.index+n;return Jx(s,this.index,`Lexer Error: ${e} at column ${s} in expression [${this.input}]`)}};function Jh(t){return Ws<=t&&t<=ho||ui<=t&&t<=ja||t==Ka||t==_d}function Zh(t){return Ya(t)||Nn(t)||t==Ka||t==_d}function Zx(t){return t==wE||t==vE}function ew(t){return t==la||t==Pd}function tw(t){switch(t){case Rd:return Fs;case $u:return bd;case Md:return Fu;case Ld:return Ou;case Fd:return Ad;default:return t}}function nw(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var $c=class{constructor(e,n,s){this.strings=e,this.expressions=n,this.offsets=s}},Uc=class{constructor(e,n,s){this.templateBindings=e,this.warnings=n,this.errors=s}},Aa=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,n,s,r=Rt){this._checkNoInterpolation(e,n,r);let i=this._stripComments(e),o=this._lexer.tokenize(i),a=new ks(e,n,s,o,1,this.errors,0).parseChain();return new be(a,e,n,s,this.errors)}parseBinding(e,n,s,r=Rt){let i=this._parseBindingAst(e,n,s,r);return new be(i,e,n,s,this.errors)}checkSimpleExpression(e){let n=new Vc;return e.visit(n),n.errors}parseSimpleBinding(e,n,s,r=Rt){let i=this._parseBindingAst(e,n,s,r),o=this.checkSimpleExpression(i);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,n),new be(i,e,n,s,this.errors)}_reportError(e,n,s,r){this.errors.push(new zi(e,n,s,r))}_parseBindingAst(e,n,s,r){this._checkNoInterpolation(e,n,r);let i=this._stripComments(e),o=this._lexer.tokenize(i);return new ks(e,n,s,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,n,s,r,i){let o=this._lexer.tokenize(n);return new ks(n,s,i,o,0,this.errors,0).parseTemplateBindings({source:e,span:new He(r,r+e.length)})}parseInterpolation(e,n,s,r,i=Rt){let{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,r,i);if(a.length===0)return null;let c=[];for(let p=0;p<a.length;++p){let f=a[p].text,d=this._stripComments(f),y=this._lexer.tokenize(d),v=new ks(e,n,s,y,0,this.errors,l[p]).parseChain();c.push(v)}return this.createInterpolationAst(o.map(p=>p.text),c,e,n,s)}parseInterpolationExpression(e,n,s){let r=this._stripComments(e),i=this._lexer.tokenize(r),o=new ks(e,n,s,i,0,this.errors,0).parseChain(),a=["",""];return this.createInterpolationAst(a,[o],e,n,s)}createInterpolationAst(e,n,s,r,i){let o=new zs(0,s.length),a=new Se(o,o.toAbsolute(i),e,n);return new be(a,s,r,i,this.errors)}splitInterpolation(e,n,s,r=Rt){let i=[],o=[],a=[],l=s?sw(s):null,c=0,p=!1,f=!1,{start:d,end:y}=r;for(;c<e.length;)if(p){let v=c,T=v+d.length,x=this._getInterpolationEndIndex(e,y,T);if(x===-1){p=!1,f=!0;break}let D=x+y.length,O=e.substring(T,x);O.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,n),o.push({text:O,start:v,end:D});let se=(l?.get(v)??v)+d.length;a.push(se),c=D,p=!1}else{let v=c;c=e.indexOf(d,c),c===-1&&(c=e.length);let T=e.substring(v,c);i.push({text:T,start:v,end:c}),p=!0}if(!p)if(f){let v=i[i.length-1];v.text+=e.substring(c),v.end=e.length}else i.push({text:e.substring(c),start:c,end:e.length});return new $c(i,o,a)}wrapLiteralPrimitive(e,n,s){let r=new zs(0,e==null?0:e.length);return new be(new Je(r,r.toAbsolute(s),e),e,n,s,this.errors)}_stripComments(e){let n=this._commentStart(e);return n!=null?e.substring(0,n):e}_commentStart(e){let n=null;for(let s=0;s<e.length-1;s++){let r=e.charCodeAt(s),i=e.charCodeAt(s+1);if(r===Dn&&i==Dn&&n==null)return s;n===r?n=null:n==null&&ua(r)&&(n=r)}return null}_checkNoInterpolation(e,n,{start:s,end:r}){let i=-1,o=-1;for(let a of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(s)&&(i=a);else if(o=this._getInterpolationEndIndex(e,r,a),o>-1)break;i>-1&&o>-1&&this._reportError(`Got interpolation (${s}${r}) where expression was expected`,e,`at column ${i} in`,n)}_getInterpolationEndIndex(e,n,s){for(let r of this._forEachUnquotedChar(e,s)){if(e.startsWith(n,r))return r;if(e.startsWith("//",r))return e.indexOf(n,r)}return-1}*_forEachUnquotedChar(e,n){let s=null,r=0;for(let i=n;i<e.length;i++){let o=e[i];ua(e.charCodeAt(i))&&(s===null||s===o)&&r%2===0?s=s===null?o:null:s===null&&(yield i),r=o==="\\"?r+1:0}}},_r;(function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"})(_r||(_r={}));var ks=class{constructor(e,n,s,r,i,o,a){this.input=e,this.location=n,this.absoluteOffset=s,this.tokens=r,this.parseFlags=i,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=_r.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Il}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let s=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(s=n),e>s){let r=s;s=e,e=r}return new zs(e,s)}sourceSpan(e,n){let s=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(s)||this.sourceSpanCache.set(s,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(s)}advance(){this.index++}withContext(e,n){this.context|=e;let s=n();return this.context^=e,s}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Il?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let s=this.parsePipe();if(e.push(s),this.consumeOptionalCharacter(Qt))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Qt););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let s=this.offset,r=this.offset+this.input.length;return new Ue(this.span(s,r),this.sourceSpan(s,r))}return e.length==1?e[0]:new ps(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let s=this.inputIndex,r=this.expectIdentifierOrKeyword(),i,o;r!==null?i=this.sourceSpan(s):(r="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new zs(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(ts);)a.push(this.parseExpression());n=new wn(this.span(e),this.sourceSpan(e,o),n,r,a,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let s=this.parsePipe(),r;if(this.consumeOptionalCharacter(ts))r=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),r=new Ue(this.span(e),this.sourceSpan(e))}return new Ys(this.span(e),this.sourceSpan(e),n,s,r)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let s=this.parseLogicalAnd();n=new Qe(this.span(e),this.sourceSpan(e),"||",n,s)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let s=this.parseNullishCoalescing();n=new Qe(this.span(e),this.sourceSpan(e),"&&",n,s)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let s=this.parseEquality();n=new Qe(this.span(e),this.sourceSpan(e),"??",n,s)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==Y.Operator;){let s=this.next.strValue;switch(s){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();n=new Qe(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==Y.Operator;){let s=this.next.strValue;switch(s){case"<":case">":case"<=":case">=":this.advance();let r=this.parseAdditive();n=new Qe(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==Y.Operator;){let s=this.next.strValue;switch(s){case"+":case"-":this.advance();let r=this.parseMultiplicative();n=new Qe(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==Y.Operator;){let s=this.next.strValue;switch(s){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();n=new Qe(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parsePrefix(){if(this.next.type==Y.Operator){let e=this.inputIndex,n=this.next.strValue,s;switch(n){case"+":return this.advance(),s=this.parsePrefix(),Hn.createPlus(this.span(e),this.sourceSpan(e),s);case"-":return this.advance(),s=this.parsePrefix(),Hn.createMinus(this.span(e),this.sourceSpan(e),s);case"!":return this.advance(),s=this.parsePrefix(),new Qs(this.span(e),this.sourceSpan(e),s)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(xr))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Ln)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(kr)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(kr))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Ln))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Js(this.span(e),this.sourceSpan(e),n);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Ln)){this.rparensExpected++;let n=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Xt),n}else{if(this.next.isKeywordNull())return this.advance(),new Je(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Je(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Je(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Je(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Zt(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(kr)){this.rbracketsExpected++;let n=this.parseExpressionList(Ar);return this.rbracketsExpected--,this.expectCharacter(Ar),new Xs(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(mn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new de(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new Je(this.span(e),this.sourceSpan(e),n)}else if(this.next.isString()){let n=this.next.toString();return this.advance(),new Je(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Ue(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Ue(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Ue(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Mt));return n}parseLiteralMap(){let e=[],n=[],s=this.inputIndex;if(this.expectCharacter(mn),!this.consumeOptionalCharacter(gt)){this.rbracesExpected++;do{let r=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString();if(e.push({key:o,quoted:i}),i)this.expectCharacter(ts),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(ts))n.push(this.parsePipe());else{let a=this.span(r),l=this.sourceSpan(r);n.push(new le(a,l,l,new de(a,l),o))}}while(this.consumeOptionalCharacter(Mt)&&!this.next.isCharacter(gt));this.rbracesExpected--,this.expectCharacter(gt)}return new Qr(this.span(s),this.sourceSpan(s),e,n)}parseAccessMember(e,n,s){let r=this.inputIndex,i=this.withContext(_r.Writable,()=>{let l=this.expectIdentifierOrKeyword()??"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(r),a;if(s)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),a=new Ue(this.span(n),this.sourceSpan(n))):a=new ft(this.span(n),this.sourceSpan(n),o,e,i);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Ue(this.span(n),this.sourceSpan(n));let l=this.parseConditional();a=new an(this.span(n),this.sourceSpan(n),o,e,i,l)}else a=new le(this.span(n),this.sourceSpan(n),o,e,i);return a}parseCall(e,n,s){let r=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Xt),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return s?new cn(a,l,e,i,o):new wt(a,l,e,i,o)}parseCallArguments(){if(this.next.isCharacter(Xt))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(Mt));return e}expectTemplateBindingKey(){let e="",n=!1,s=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new He(s,s+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let s=this.parseLetBinding();if(s)n.push(s);else{let r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?n.push(i):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new Uc(n,[],this.errors)}parseKeyedReadOrWrite(e,n,s){return this.withContext(_r.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof Ue&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Ar),this.consumeOptionalOperator("="))if(s)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new Xr(this.span(n),this.sourceSpan(n),e,r,i)}else return s?new ln(this.span(n),this.sourceSpan(n),e,r):new qn(this.span(n),this.sourceSpan(n),e,r);return new Ue(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(ts);let s=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let o=new He(e.span.start,r);return n.push(new Ec(o,e,s)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===Il||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:s}=e.span,r=this.input.substring(n,s);return new be(e,r,this.location,this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let s=new He(e.span.start,this.currentAbsoluteOffset);return new Yi(s,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),s=null;this.consumeOptionalOperator("=")&&(s=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new He(e,this.currentAbsoluteOffset);return new Yi(r,n,s)}consumeStatementTerminator(){this.consumeOptionalCharacter(Qt)||this.consumeOptionalCharacter(Mt)}error(e,n=null){this.errors.push(new zi(e,this.input,this.locationText(n),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let s=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(s+=`, ${n}`),this.error(s)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Qt)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Xt))&&(this.rbracesExpected<=0||!e.isCharacter(gt))&&(this.rbracketsExpected<=0||!e.isCharacter(Ar))&&(!(this.context&_r.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new zi(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},Vc=class extends Gn{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function sw(t){let e=new Map,n=0,s=0,r=0;for(;r<t.length;){let i=t[r];if(i.type===9){let[o,a]=i.parts;n+=a.length,s+=o.length}else{let o=i.parts.reduce((a,l)=>a+l.length,0);s+=o,n+=o}e.set(s,n),r++}return e}var gs=class{constructor(e,n){this.sourceSpan=e,this.i18n=n}},vs=class extends gs{constructor(e,n,s,r){super(n,r),this.value=e,this.tokens=s}visit(e,n){return e.visitText(this,n)}},ri=class extends gs{constructor(e,n,s,r,i,o){super(r,o),this.switchValue=e,this.type=n,this.cases=s,this.switchValueSourceSpan=i}visit(e,n){return e.visitExpansion(this,n)}},qc=class{constructor(e,n,s,r,i){this.value=e,this.expression=n,this.sourceSpan=s,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},Hc=class extends gs{constructor(e,n,s,r,i,o,a){super(s,a),this.name=e,this.value=n,this.keySpan=r,this.valueSpan=i,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},Pt=class extends gs{constructor(e,n,s,r,i,o=null,a){super(r,a),this.name=e,this.attrs=n,this.children=s,this.startSourceSpan=i,this.endSourceSpan=o}visit(e,n){return e.visitElement(this,n)}},so=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},kt=class extends gs{constructor(e,n,s,r,i,o,a=null,l){super(r,l),this.name=e,this.parameters=n,this.children=s,this.nameSpan=i,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},ba=class{constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}};function ye(t,e,n=null){let s=[],r=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=r(i);o&&s.push(o)}),s}var Gc=class{},rw="boolean",iw="number",ow="string",aw="object",lw=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],um=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),cw=Array.from(um).reduce((t,[e,n])=>(t.set(e,n),t),new Map),hn=class extends Gc{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,lw.forEach(e=>{let n=new Map,s=new Set,[r,i]=e.split("|"),o=i.split(","),[a,l]=r.split("^");a.split(",").forEach(p=>{this._schema.set(p.toLowerCase(),n),this._eventSchema.set(p.toLowerCase(),s)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[p,f]of c)n.set(p,f);for(let p of this._eventSchema.get(l.toLowerCase()))s.add(p)}o.forEach(p=>{if(p.length>0)switch(p[0]){case"*":s.add(p.substring(1));break;case"!":n.set(p.substring(1),rw);break;case"#":n.set(p.substring(1),iw);break;case"%":n.set(p.substring(1),aw);break;default:n.set(p,ow)}})})}hasProperty(e,n,s){if(s.some(i=>i.name===Hl.name))return!0;if(e.indexOf("-")>-1){if(ec(e)||tc(e))return!1;if(s.some(i=>i.name===ql.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(s=>s.name===Hl.name)||e.indexOf("-")>-1&&(ec(e)||tc(e)||n.some(s=>s.name===ql.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,s){s&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let r=_h()[e+"|"+n];return r||(r=_h()["*|"+n],r||J.NONE)}getMappedPropName(e){return um.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(s=>cw.get(s)??s)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return Ty(e)}normalizeAnimationStyleValue(e,n,s){let r="",i=s.toString().trim(),o=null;if(uw(e)&&s!==0&&s!=="0")if(typeof s=="number")r="px";else{let a=s.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${s}`)}return{error:o,value:i+r}}};function uw(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var W=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:s=Kt.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){this.closedByChildren={},this.closedByParent=!1,e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=n||null,this.contentType=s,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},ef,yr;function pm(t){return yr||(ef=new W({canSelfClose:!0}),yr=Object.assign(Object.create(null),{base:new W({isVoid:!0}),meta:new W({isVoid:!0}),area:new W({isVoid:!0}),embed:new W({isVoid:!0}),link:new W({isVoid:!0}),img:new W({isVoid:!0}),input:new W({isVoid:!0}),param:new W({isVoid:!0}),hr:new W({isVoid:!0}),br:new W({isVoid:!0}),source:new W({isVoid:!0}),track:new W({isVoid:!0}),wbr:new W({isVoid:!0}),p:new W({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new W({closedByChildren:["tbody","tfoot"]}),tbody:new W({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new W({closedByChildren:["tbody"],closedByParent:!0}),tr:new W({closedByChildren:["tr"],closedByParent:!0}),td:new W({closedByChildren:["td","th"],closedByParent:!0}),th:new W({closedByChildren:["td","th"],closedByParent:!0}),col:new W({isVoid:!0}),svg:new W({implicitNamespacePrefix:"svg"}),foreignObject:new W({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new W({implicitNamespacePrefix:"math"}),li:new W({closedByChildren:["li"],closedByParent:!0}),dt:new W({closedByChildren:["dt","dd"]}),dd:new W({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new W({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new W({closedByChildren:["optgroup"],closedByParent:!0}),option:new W({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new W({ignoreFirstLf:!0}),listing:new W({ignoreFirstLf:!0}),style:new W({contentType:Kt.RAW_TEXT}),script:new W({contentType:Kt.RAW_TEXT}),title:new W({contentType:{default:Kt.ESCAPABLE_RAW_TEXT,svg:Kt.PARSABLE_DATA}}),textarea:new W({contentType:Kt.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new hn().allKnownElementNames().forEach(e=>{!yr[e]&&nc(e)===null&&(yr[e]=new W({canSelfClose:!1}))})),yr[t]??yr[t.toLowerCase()]??ef}var tf={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Wc=class{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,n,s){let r=this._hashTag(e,n,s);if(this._signatureToName[r])return this._signatureToName[r];let i=e.toUpperCase(),o=tf[i]||`TAG_${i}`,a=this._generateUniqueName(s?o:`START_${o}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let s=e.toUpperCase(),r=tf[s]||`TAG_${s}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let s=e.toUpperCase(),r=`PH: ${s}=${n}`;if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(s);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let s=this._hashBlock(e,n);if(this._signatureToName[s])return this._signatureToName[s];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[s]=r,r}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let s=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=s,s}_hashTag(e,n,s){let r=`<${e}`,i=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=s?"/>":`></${e}>`;return r+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let s=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${s} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let s=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=s+1,`${e}_${s}`}},pw=new Aa(new no);function hw(t,e){let n=new jc(pw,t,e);return(s,r,i,o,a)=>n.toI18nMessage(s,r,i,o,a)}function fw(t,e){return e}var jc=class{constructor(e,n,s){this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=s}toI18nMessage(e,n="",s="",r="",i){let o={isIcu:e.length==1&&e[0]instanceof ri,icuDepth:0,placeholderRegistry:new Wc,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||fw},a=ye(this,e,o);return new et(a,o.placeholderToContent,o.placeholderToMessage,n,s,r)}visitElement(e,n){let s=ye(this,e.children,n),r={};e.attrs.forEach(c=>{r[c.name]=c.value});let i=pm(e.name).isVoid,o=n.placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";i||(a=n.placeholderRegistry.getCloseTagPlaceholderName(e.name),n.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let l=new cs(e.name,r,o,a,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,l)}visitAttribute(e,n){let s=e.valueTokens===void 0||e.valueTokens.length===1?new Tr(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,s)}visitText(e,n){let s=e.tokens.length===1?new Tr(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,s)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let s={},r=new ra(e.switchValue,e.type,s,e.sourceSpan);if(e.cases.forEach(a=>{s[a.value]=new vn(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,r)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new jr(r,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let s=ye(this,e.children,n);if(this._containerBlocks.has(e.name))return new vn(s,e.sourceSpan);let r=e.parameters.map(l=>l.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new Vn(e.name,r,i,o,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,n,s,r){let i=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let l=a.parts[1],c=yw(l)||"INTERPOLATION",p=s.placeholderRegistry.getPlaceholderName(c,l);s.placeholderToContent[p]={text:a.parts.join(""),sourceSpan:a.sourceSpan},i.push(new Hi(l,p,a.sourceSpan));break;default:if(a.parts[0].length>0){let f=i[i.length-1];f instanceof Tr?(f.value+=a.parts[0],f.sourceSpan=new G(f.sourceSpan.start,a.sourceSpan.end,f.sourceSpan.fullStart,f.sourceSpan.details)):i.push(new Tr(a.parts[0],a.sourceSpan))}break}return o?(dw(i,r),new vn(i,n)):i[0]}};function dw(t,e){if(e instanceof et&&(mw(e),e=e.nodes[0]),e instanceof vn){gw(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function mw(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof vn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function gw(t,e){if(t.length!==e.length)throw new Error("The number of i18n message children changed between first and second pass.");if(t.some((n,s)=>e[s].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var vw=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function yw(t){return t.split(vw)[2]}var Kc=class extends K{constructor(e,n){super(e,n)}},Na={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},hm="\uE500";Na.ngsp=hm;var Ai=class extends K{constructor(e,n,s){super(s,e),this.tokenType=n}},zc=class{constructor(e,n,s){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=s}};function Ew(t,e,n,s={}){let r=new Yc(new Ks(t,e),n,s);return r.tokenize(),new zc(Nw(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var Sw=/\r\n?/g;function yi(t){return`Unexpected character "${t===it?"EOF":String.fromCharCode(t)}"`}function nf(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function xw(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var Da;(function(t){t.HEX="hexadecimal",t.DEC="decimal"})(Da||(Da={}));var bi=class{constructor(e){this.error=e}},Yc=class{constructor(e,n,s){this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=s.tokenizeExpansionForms||!1,this._interpolationConfig=s.interpolationConfig||Rt,this._leadingTriviaCodePoints=s.leadingTriviaChars&&s.leadingTriviaChars.map(i=>i.codePointAt(0)||0);let r=s.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=s.escapedString?new Xc(e,r):new _a(e,r),this._preserveLineEndings=s.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=s.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=s.tokenizeBlocks??!0;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(Sw,`
`)}tokenize(){for(;this._cursor.peek()!==it;){let e=this._cursor.clone();try{this._attemptCharCode(Cr)?this._attemptCharCode(hc)?this._attemptCharCode(kr)?this._consumeCdata(e):this._attemptCharCode(la)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Dn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeBlocks&&this._attemptCharCode(Ih)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(gt)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(29),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(s=>za(s)?!e:bw(s)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Ln)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Xe),this._attemptCharCode(Xt))this._attemptCharCodeUntilFn(Xe);else{n.type=28;return}this._attemptCharCode(mn)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(of);this._cursor.peek()!==Xt&&this._cursor.peek()!==it;){this._beginToken(27);let e=this._cursor.clone(),n=null,s=0;for(;this._cursor.peek()!==Qt&&this._cursor.peek()!==it||n!==null;){let r=this._cursor.peek();if(r===ca)this._cursor.advance();else if(r===n)n=null;else if(n===null&&ua(r))n=r;else if(r===Ln&&n===null)s++;else if(r===Xt&&n===null){if(s===0)break;s>0&&s--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(of)}}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(Iw(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===gt){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new Ai("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(n));if(this._currentTokenType===null)throw new Ai("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let s={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(s),this._currentTokenStart=null,this._currentTokenType=null,s}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let s=new Ai(e,this._currentTokenType,n);return this._currentTokenStart=null,this._currentTokenType=null,new bi(s)}handleError(e){if(e instanceof ro&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof bi)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return Aw(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(yi(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let s=this._cursor.clone();for(let r=0;r<n;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=s,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(yi(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(s)<n)throw this._createError(yi(this._cursor.peek()),this._cursor.getSpan(s))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Dd)){let s=this._attemptCharCode(Bd)||this._attemptCharCode(EE),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Tw),this._cursor.peek()!=Qt){this._cursor.advance();let o=s?Da.HEX:Da.DEC;throw this._createError(xw(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(r);this._cursor.advance();try{let o=parseInt(i,s?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch{throw this._createError(nf(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(Cw),this._cursor.peek()!=Qt)this._beginToken(e,n),this._cursor=s,this._endToken(["&"]);else{let r=this._cursor.getChars(s);this._cursor.advance();let i=Na[r];if(!i)throw this._createError(nf(r),this._cursor.getSpan(n));this._endToken([i,`&${r};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let s=[];for(;;){let r=this._cursor.clone(),i=n();if(this._cursor=r,i)break;e&&this._cursor.peek()===aa?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(6),this._beginToken(6)):s.push(this._readChar())}this._endToken([this._processCarriageReturns(s.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(la),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Zn);let s=this._cursor.getChars(n);this._cursor.advance(),this._endToken([s])}_consumePrefixAndName(){let e=this._cursor.clone(),n="";for(;this._cursor.peek()!==ts&&!ww(this._cursor.peek());)this._cursor.advance();let s;this._cursor.peek()===ts?(n=this._cursor.getChars(e),this._cursor.advance(),s=this._cursor.clone()):s=e,this._requireCharCodeUntilFn(sf,n===""?0:1);let r=this._cursor.getChars(s);return[n,r]}_consumeTagOpen(e){let n,s,r;try{if(!Ya(this._cursor.peek()))throw this._createError(yi(this._cursor.peek()),this._cursor.getSpan(e));for(r=this._consumeTagOpenStart(e),s=r.parts[0],n=r.parts[1],this._attemptCharCodeUntilFn(Xe);this._cursor.peek()!==Dn&&this._cursor.peek()!==Zn&&this._cursor.peek()!==Cr&&this._cursor.peek()!==it;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Xe),this._attemptCharCode(Ir)&&(this._attemptCharCodeUntilFn(Xe),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Xe);this._consumeTagOpenEnd()}catch(o){if(o instanceof bi){r?r.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let i=this._getTagDefinition(n).getContentType(s);i===Kt.RAW_TEXT?this._consumeRawTextWithTagClose(s,n,!1):i===Kt.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,n,!0)}_consumeRawTextWithTagClose(e,n,s){this._consumeRawText(s,()=>!this._attemptCharCode(Cr)||!this._attemptCharCode(Dn)||(this._attemptCharCodeUntilFn(Xe),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(Xe),this._attemptCharCode(Zn))),this._beginToken(3),this._requireCharCodeUntilFn(r=>r===Zn,3),this._cursor.advance(),this._endToken([e,n])}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName();return this._endToken(n)}_consumeAttributeName(){let e=this._cursor.peek();if(e===Ki||e===ji)throw this._createError(yi(e),this._cursor.getSpan());this._beginToken(14);let n=this._consumePrefixAndName();this._endToken(n)}_consumeAttributeValue(){if(this._cursor.peek()===Ki||this._cursor.peek()===ji){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>sf(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Dn)?2:1;this._beginToken(e),this._requireCharCode(Zn),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(Xe);let n=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Xe),this._requireCharCode(Zn),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(mn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Mt),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let r=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(Mt),this._attemptCharCodeUntilFn(Xe),this._beginToken(7);let s=this._readUntil(Mt);this._endToken([s]),this._requireCharCode(Mt),this._attemptCharCodeUntilFn(Xe)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(mn).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Xe),this._beginToken(21),this._requireCharCode(mn),this._endToken([]),this._attemptCharCodeUntilFn(Xe),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(gt),this._endToken([]),this._attemptCharCodeUntilFn(Xe),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(gt),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,s,r){this._beginToken(e);let i=[];for(;!s();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,r),this._beginToken(e)):this._cursor.peek()===aa?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,s){let r=[];this._beginToken(e,n),r.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==it&&(s===null||!s());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(i,l)),this._endToken(r);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(i,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===ca?this._cursor.advance():c===o?o=null:!a&&o===null&&ua(c)&&(o=c)}r.push(this._getProcessedChars(i,this._cursor)),this._endToken(r)}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===it||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===gt&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Ih||this._cursor.peek()===gt))}_isTagStart(){if(this._cursor.peek()===Cr){let e=this._cursor.clone();e.advance();let n=e.peek();if(Ws<=n&&n<=ho||ui<=n&&n<=ja||n===Dn||n===hc)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==mn)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function Xe(t){return!za(t)||t===it}function sf(t){return za(t)||t===Zn||t===Cr||t===Dn||t===Ki||t===ji||t===Ir||t===it}function ww(t){return(t<Ws||ho<t)&&(t<ui||ja<t)&&(t<Bu||t>kd)}function Tw(t){return t===Qt||t===it||!CE(t)}function Cw(t){return t===Qt||t===it||!Ya(t)}function Iw(t){return t!==gt}function Aw(t,e){return rf(t)===rf(e)}function rf(t){return t>=Ws&&t<=ho?t-Ws+ui:t}function bw(t){return Ya(t)||Nn(t)||t===Ka}function of(t){return t!==Qt&&Xe(t)}function Nw(t){let e=[],n;for(let s=0;s<t.length;s++){let r=t[s];n&&n.type===5&&r.type===5||n&&n.type===16&&r.type===16?(n.parts[0]+=r.parts[0],n.sourceSpan.end=r.sourceSpan.end):(n=r,e.push(n))}return e}var _a=class t{constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let s=e.state;this.state={peek:s.peek,offset:s.offset,line:s.line,column:s.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let s=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)s===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),i=this.locationFromCursor(this),o=s!==e?this.locationFromCursor(s):r;return new G(r,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new ro('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Fs?(e.line++,e.column=0):Ud(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?it:this.charAt(e.offset)}locationFromCursor(e){return new js(e.file,e.state.offset,e.state.line,e.state.column)}},Xc=class t extends _a{constructor(e,n){e instanceof t?(super(e),this.internalState={...e.internalState}):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),s="";for(;n.internalState.offset<this.internalState.offset;)s+=String.fromCodePoint(n.peek()),n.advance();return s}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===ca)if(this.internalState={...this.state},this.advanceState(this.internalState),e()===Rd)this.state.peek=Fs;else if(e()===Md)this.state.peek=Fu;else if(e()===Fd)this.state.peek=Ad;else if(e()===Ld)this.state.peek=Ou;else if(e()===xE)this.state.peek=fE;else if(e()===$u)this.state.peek=bd;else if(e()===Od)if(this.advanceState(this.internalState),e()===mn){this.advanceState(this.internalState);let n=this.clone(),s=0;for(;e()!==gt;)this.advanceState(this.internalState),s++;this.state.peek=this.decodeHexDigits(n,s)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===Bd){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(Ah(e())){let n="",s=0,r=this.clone();for(;Ah(e())&&s<3;)r=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(n,8),this.internalState=r.internalState}else Ud(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let s=this.input.slice(e.internalState.offset,e.internalState.offset+n),r=parseInt(s,16);if(isNaN(r))throw e.state=e.internalState,new ro("Invalid hexadecimal escape sequence",e);return r}},ro=class{constructor(e,n){this.msg=e,this.cursor=n}},mt=class t extends K{static create(e,n,s){return new t(e,n,s)}constructor(e,n,s){super(n,s),this.elementName=e}},Pa=class{constructor(e,n){this.rootNodes=e,this.errors=n}},Qc=class{constructor(e){this.getTagDefinition=e}parse(e,n,s){let r=Ew(e,n,this.getTagDefinition,s),i=new Jc(r.tokens,this.getTagDefinition);return i.build(),new Pa(i.rootNodes,r.errors.concat(i.errors))}},Jc=class t{constructor(e,n){this.tokens=e,this.getTagDefinition=n,this._index=-1,this._containerStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==29;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._advance();for(let e of this._containerStack)e instanceof kt&&this.errors.push(mt.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),s=this._advanceIf(11),r=n!=null?n.parts[0].trim():null,i=s==null?e.sourceSpan:new G(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new so(r,i))}_consumeExpansion(e){let n=this._advance(),s=this._advance(),r=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;r.push(o)}if(this._peek.type!==23){this.errors.push(mt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new G(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new ri(n.parts[0],s.parts[0],r,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(mt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),s=this._collectExpansionExpTokens(n);if(!s)return null;let r=this._advance();s.push({type:29,parts:[],sourceSpan:r.sourceSpan});let i=new t(s,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new G(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new G(n.sourceSpan.start,r.sourceSpan.end,n.sourceSpan.fullStart);return new qc(e.parts[0],i.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],s=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&s.push(this._peek.type),this._peek.type===22)if(af(s,21)){if(s.pop(),s.length===0)return n}else return this.errors.push(mt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(af(s,19))s.pop();else return this.errors.push(mt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===29)return this.errors.push(mt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],s=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(r=r.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,lf):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let i=e.sourceSpan;this._addToParent(new vs(r,new G(s.start,i.end,s.fullStart,s.details),n))}}_closeVoidElement(){let e=this._getContainer();e instanceof Pt&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[n,s]=e.parts,r=[];for(;this._peek.type===14;)r.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(n,s,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let d=this.getTagDefinition(i);d.canSelfClose||nc(i)!==null||d.isVoid||this.errors.push(mt.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new G(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new G(e.sourceSpan.start,a,e.sourceSpan.fullStart),p=new Pt(i,r,[],l,c,void 0),f=this._getContainer();this._pushContainer(p,f instanceof Pt&&this.getTagDefinition(f.name).isClosedByChild(p.name)),o?this._popContainer(i,Pt,l):e.type===4&&(this._popContainer(i,Pt,null),this.errors.push(mt.create(i,l,`Opening tag "${i}" not terminated.`)))}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let n=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(n).isVoid)this.errors.push(mt.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,Pt,e.sourceSpan)){let s=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(mt.create(n,e.sourceSpan,s))}}_popContainer(e,n,s){let r=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if((o.name===e||e===null)&&o instanceof n)return o.endSourceSpan=s,o.sourceSpan.end=s!==null?s.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!r;(o instanceof kt||o instanceof Pt&&!this.getTagDefinition(o.name).closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let n=sc(e.parts[0],e.parts[1]),s=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",i=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let p=this._advance();i.push(p),p.type===17?r+=p.parts.join("").replace(/&([^;]+);/g,lf):p.type===9?r+=p.parts[0]:r+=p.parts.join(""),a=s=p.sourceSpan.end}this._peek.type===15&&(s=this._advance().sourceSpan.end);let c=o&&a&&new G(o.start,a,o.fullStart);return new Hc(n,r,new G(e.sourceSpan.start,s,e.sourceSpan.fullStart),e.sourceSpan,c,i.length>0?i:void 0,void 0)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new ba(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let s=this._peek.sourceSpan.fullStart,r=new G(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new G(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new kt(e.parts[0],n,[],r,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,kt,e.sourceSpan)||this.errors.push(mt.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new ba(a.parts[0],a.sourceSpan))}let s=this._peek.sourceSpan.fullStart,r=new G(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new G(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new kt(e.parts[0],n,[],r,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,kt,null),this.errors.push(mt.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof Pt)return this._containerStack[e];return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n,s){if(e===""&&(e=this.getTagDefinition(n).implicitNamespacePrefix||"",e===""&&s!=null)){let r=ct(s.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=nc(s.name))}return sc(e,n)}};function af(t,e){return t.length>0&&t[t.length-1]===e}function lf(t,e){return Na[e]!==void 0?Na[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var cf=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function fm(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),cf.has(t+"|"+e)||cf.has("*|"+e)}var Dw=(t,e)=>(t instanceof gs&&(e instanceof jr&&t.i18n instanceof et&&(e.previousMessage=t.i18n),t.i18n=e),e),ka=class{constructor(e=Rt,n=!1,s=!1,r=hE){this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=s,this.containerBlocks=r,this.hasI18nMeta=!1,this._errors=[]}_generateI18nMessage(e,n="",s){let{meaning:r,description:i,customId:o}=this._parseMetadata(n),l=hw(this.interpolationConfig,this.containerBlocks)(e,r,i,o,s);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(s=>s.visit(this,null));return new Pa(n,this._errors)}visitElement(e){let n;if(Zy(e)){this.hasI18nMeta=!0;let s=[],r={};for(let i of e.attrs)if(i.name===Sd){let o=e.i18n||i.value;n=this._generateI18nMessage(e.children,o,Dw),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(cc)){let o=i.name.slice(cc.length);fm(e.name,o)?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):r[o]=i.value}else s.push(i);if(Object.keys(r).length)for(let i of s){let o=r[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=s)}return ye(this,e.children,n),e}visitExpansion(e,n){let s,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof jr){let i=r.name;s=this._generateI18nMessage([e],r);let o=Ru(s);o.name=i,n!==null&&(n.placeholderToMessage[i]=s)}else s=this._generateI18nMessage([e],n||r);return e.i18n=s,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return ye(this,e.children,n),e}visitBlockParameter(e,n){return e}_parseMetadata(e){return typeof e=="string"?kw(e):e instanceof et?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof et&&n.id||Zv(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[Jv(e),ad(e)];else if(typeof n!="string"){let s=n instanceof et?n:n instanceof jr?n.previousMessage:void 0;e.legacyIds=s?s.legacyIds:[]}}_reportError(e,n){this._errors.push(new Kc(e.sourceSpan,n))}},_w="|",Pw="@@";function kw(t=""){let e,n,s;if(t=t.trim(),t){let r=t.indexOf(Pw),i=t.indexOf(_w),o;[o,e]=r>-1?[t.slice(0,r),t.slice(r+2)]:[t,""],[n,s]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:s}}function Rw(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),hd(e)}var Mw="goog.getMsg";function dm(t,e,n,s){let r=Ow(e),i=[m(r)];Object.keys(s).length&&(i.push(to(co(s,!0),!0)),i.push(to({original_code:_e(Object.keys(s).map(l=>({key:uo(l),quoted:!0,value:e.placeholders[l]?m(e.placeholders[l].sourceSpan.toString()):m(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=n.set(R(Mw).callFn(i)).toConstDecl();o.addLeadingComment(Rw(e));let a=new Fe(t.set(n));return[o,a]}var Zc=class{formatPh(e){return`{$${uo(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return cm(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},Lw=new Zc;function Ow(t){return t.nodes.map(e=>e.visit(Lw,null)).join("")}function mm(t,e,n){let{messageParts:s,placeHolders:r}=Fw(e),i=Bw(e),o=r.map(c=>n[c.text]),a=fd(e,s,r,o,i),l=t.set(a);return[new Fe(l)]}var eu=class{constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof ss)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new G(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new ss(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new ss(cm(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,s){return new Os(uo(e,!1),n,s)}};function Fw(t){let e=[],n=new eu(t.placeholderToMessage,e);return t.nodes.forEach(s=>s.visit(n)),$w(e)}function Bw(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new G(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function $w(t){let e=[],n=[];t[0]instanceof Os&&e.push(Al(t[0].sourceSpan.start));for(let s=0;s<t.length;s++){let r=t[s];r instanceof ss?e.push(r):(n.push(r),t[s-1]instanceof Os&&e.push(Al(t[s-1].sourceSpan.end)))}return t[t.length-1]instanceof Os&&e.push(Al(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function Al(t){return new ss("",new G(t,t))}var uf="ngI18nClosureMode",Uw="i18n_",Vw="I18N_EXP_",pf="\uFFFD";function qw(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,s=new Map,r=new Map,i=new Map;for(let l of t.units)for(let c of l.ops())if(c.kind===h.ExtractedAttribute&&c.i18nContext!==null){let p=n.get(c.i18nContext)??[];p.push(c),n.set(c.i18nContext,p)}else if(c.kind===h.I18nAttributes)s.set(c.target,c);else if(c.kind===h.I18nExpression&&c.usage===er.I18nAttribute){let p=r.get(c.target)??[];p.push(c),r.set(c.target,p)}else c.kind===h.I18nMessage&&i.set(c.xref,c);let o=new Map,a=new Map;for(let l of t.units)for(let c of l.create)if(c.kind===h.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:p,statements:f}=gm(t,e,i,c);if(c.i18nBlock!==null){let d=t.addConst(p,f);a.set(c.i18nBlock,d)}else{t.constsInitializers.push(...f),o.set(c.i18nContext,p);let d=n.get(c.i18nContext);if(d!==void 0)for(let y of d)y.expression=p.clone()}}S.remove(c)}for(let l of t.units)for(let c of l.create)if(ds(c)){let p=s.get(c.xref);if(p===void 0)continue;let f=r.get(c.xref);if(f===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let d=new Set;f=f.filter(v=>{let T=d.has(v.name);return d.add(v.name),!T});let y=f.flatMap(v=>{let T=o.get(v.context);if(T===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[m(v.name),T]});p.i18nAttributesConfig=t.addConst(new ht(y))}for(let l of t.units)for(let c of l.create)if(c.kind===h.I18nStart){let p=a.get(c.root);if(p===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=p}}function gm(t,e,n,s){let r=[],i=new Map;for(let c of s.subMessages){let p=n.get(c),{mainVar:f,statements:d}=gm(t,e,n,p);r.push(...d);let y=i.get(p.messagePlaceholder)??[];y.push(f),i.set(p.messagePlaceholder,y)}Hw(s,i),s.params=new Map([...s.params.entries()].sort());let o=R(t.pool.uniqueName(Uw)),a=jw(t.pool,s.message.id,e,t.i18nUseExternalIds),l;if(s.needsPostprocessing||s.postprocessingParams.size>0){let c=Object.fromEntries([...s.postprocessingParams.entries()].sort()),p=co(c,!1),f=[];s.postprocessingParams.size>0&&f.push(to(p,!0)),l=d=>A(u.i18nPostprocess).callFn([d,...f])}return r.push(...Gw(s.message,o,a,s.params,l)),{mainVar:o,statements:r}}function Hw(t,e){for(let[n,s]of e)s.length===1?t.params.set(n,s[0]):(t.params.set(n,m(`${pf}${Vw}${n}${pf}`)),t.postprocessingParams.set(n,q(s)))}function Gw(t,e,n,s,r){let i=Object.fromEntries(s),o=[Td(e),ci(Ww(),dm(e,t,n,i),mm(e,t,co(i,!1)))];return r&&o.push(new Fe(e.set(r(e)))),o}function Ww(){return li(R(uf)).notIdentical(m("undefined",qa)).and(R(uf))}function jw(t,e,n,s){let r,i=n;if(s){let o=ia("EXTERNAL_"),a=t.uniqueName(i);r=`${o}${yn(e)}$$${a}`}else{let o=ia(i);r=t.uniqueName(o)}return R(r)}function Kw(t){for(let e of t.units){let n=null,s=null,r=new Map,i=new Map,o=new Map;for(let a of e.create)switch(a.kind){case h.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case h.I18nEnd:n=null;break;case h.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");s=a;break;case h.IcuEnd:s=null;break;case h.Text:if(n!==null)if(r.set(a.xref,n),i.set(a.xref,s),a.icuPlaceholder!==null){let l=qS(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);S.replace(a,l),o.set(a.xref,l)}else S.remove(a);break}for(let a of e.update)switch(a.kind){case h.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),c=i.get(a.target),p=o.get(a.target),f=c?c.context:l.context,d=c?Jr.Postproccessing:Jr.Creation,y=[];for(let v=0;v<a.interpolation.expressions.length;v++){let T=a.interpolation.expressions[v];y.push(em(f,l.xref,l.xref,l.handle,T,p?.xref??null,a.interpolation.i18nPlaceholders[v]??null,d,er.I18nText,"",T.sourceSpan??a.sourceSpan))}S.replaceWithMany(a,y),p!==void 0&&(p.strings=a.interpolation.strings);break}}}function zw(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case h.ElementStart:case h.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let s=Yw(n.localRefs);n.localRefs=t.addConst(s)}else n.localRefs=null;break}}function Yw(t){let e=[];for(let n of t)e.push(m(n.name),m(n.target));return q(e)}function Xw(t){for(let e of t.units){let n=Ge.HTML;for(let s of e.create)s.kind===h.ElementStart&&s.namespace!==n&&(S.insertBefore(LS(s.namespace),s),n=s.namespace)}}function vm(t){let e=[],n=0,s=0,r=0,i=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:s++;break;case 41:s--;break;case 39:r===0?r=39:r===39&&t.charCodeAt(n-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&t.charCodeAt(n-1)!==92&&(r=0);break;case 58:!a&&s===0&&r===0&&(a=Ku(t.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&s===0&&r===0){let c=t.substring(i,n-1).trim();e.push(a,c),o=n,i=0,a=null}break}if(a&&i){let l=t.slice(i).trim();e.push(a,l)}return e}function Ku(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Qw(t){Ho(t.root,t.componentName,{index:0},t.compatibility===Tt.TemplateDefinitionBuilder)}function Ho(t,e,n,s){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(yn(`${e}_${t.job.fnSuffix}`),!1));let r=new Map;for(let i of t.ops())switch(i.kind){case h.Property:case h.HostProperty:i.isAnimationTrigger&&(i.name="@"+i.name);break;case h.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isAnimationListener&&(i.name=`@${i.name}.${i.animationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=yn(i.handlerFnName);break;case h.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=yn(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case h.Variable:r.set(i.xref,Jw(t,i.variable,n));break;case h.RepeaterCreate:if(!(t instanceof ms))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let c=t.job.views.get(i.emptyView);Ho(c,`${e}_${`${i.functionNameSuffix}Empty`}_${i.handle.slot+2}`,n,s)}Ho(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,s);break;case h.Template:if(!(t instanceof ms))throw new Error("AssertionError: must be compiling a component");let a=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let l=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;Ho(a,`${e}${l}_${i.handle.slot}`,n,s);break;case h.StyleProp:i.name=Zw(i.name),s&&(i.name=hf(i.name));break;case h.ClassProp:s&&(i.name=hf(i.name));break}for(let i of t.ops())Ct(i,o=>{if(!(!(o instanceof nr)||o.name!==null)){if(!r.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=r.get(o.xref)}})}function Jw(t,e,n){if(e.name===null)switch(e.kind){case Me.Context:e.name=`ctx_r${n.index++}`;break;case Me.Identifier:if(t.job.compatibility===Tt.TemplateDefinitionBuilder){let s=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${s}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function Zw(t){return t.startsWith("--")?t:Ku(t)}function hf(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function eT(t){for(let e of t.units){for(let n of e.create)(n.kind===h.Listener||n.kind===h.TwoWayListener)&&ff(n.handlerOps);ff(e.update)}}function ff(t){for(let e of t){if(e.kind!==h.Statement||!(e.statement instanceof Fe)||!(e.statement.expr instanceof ga))continue;let n=e.statement.expr.steps,s=!0;for(let r=e.next;r.kind!==h.ListEnd&&s;r=r.next)Ct(r,(i,o)=>{if(!Cn(i))return i;if(s&&!(o&oe.InChildOperation))switch(i.kind){case B.NextContext:i.steps+=n,S.remove(e),s=!1;break;case B.GetCurrentView:case B.Reference:s=!1;break}})}}var tT="ng-container";function nT(t){for(let e of t.units){let n=new Set;for(let s of e.create)s.kind===h.ElementStart&&s.tag===tT&&(s.kind=h.ContainerStart,n.add(s.xref)),s.kind===h.ElementEnd&&n.has(s.xref)&&(s.kind=h.ContainerEnd)}}function sT(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function rT(t){let e=new Map;for(let n of t.units)for(let s of n.create)ds(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.create)(s.kind===h.ElementStart||s.kind===h.ContainerStart)&&s.nonBindable&&S.insertAfter(RS(s.xref),s),(s.kind===h.ElementEnd||s.kind===h.ContainerEnd)&&sT(e,s.xref).nonBindable&&S.insertBefore(MS(s.xref),s)}function iT(t){for(let e of t.units)for(let n of e.ops())ze(n,s=>{if(!(s instanceof X)||s.operator!==w.NullishCoalesce)return s;let r=new un(s.lhs.clone(),t.allocateXrefId()),i=new jn(r.xref);return new pt(new X(w.And,new X(w.NotIdentical,r,as),new X(w.NotIdentical,i,new Ce(void 0))),i.clone(),s.rhs)},oe.None)}function Pn(t){return e=>e.kind===t}function Ni(t,e){return n=>n.kind===t&&e===n.expression instanceof Ae}function oT(t){return t.kind===h.Listener&&!(t.hostListener&&t.isAnimationListener)||t.kind===h.TwoWayListener}function aT(t){return(t.kind===h.Property||t.kind===h.TwoWayProperty)&&!(t.expression instanceof Ae)}var lT=[{test:t=>t.kind===h.Listener&&t.hostListener&&t.isAnimationListener},{test:oT}],cT=[{test:Pn(h.StyleMap),transform:Ra},{test:Pn(h.ClassMap),transform:Ra},{test:Pn(h.StyleProp)},{test:Pn(h.ClassProp)},{test:Ni(h.Attribute,!0)},{test:Ni(h.Property,!0)},{test:aT},{test:Ni(h.Attribute,!1)}],uT=[{test:Ni(h.HostProperty,!0)},{test:Ni(h.HostProperty,!1)},{test:Pn(h.Attribute)},{test:Pn(h.StyleMap),transform:Ra},{test:Pn(h.ClassMap),transform:Ra},{test:Pn(h.StyleProp)},{test:Pn(h.ClassProp)}],df=new Set([h.Listener,h.TwoWayListener,h.StyleMap,h.ClassMap,h.StyleProp,h.ClassProp,h.Property,h.TwoWayProperty,h.HostProperty,h.Attribute]);function pT(t){for(let e of t.units){mf(e.create,lT);let n=e.job.kind===P.Host?uT:cT;mf(e.update,n)}}function mf(t,e){let n=[],s=null;for(let r of t){let i=Gu(r)?r.target:null;(!df.has(r.kind)||i!==s&&s!==null&&i!==null)&&(S.insertBefore(gf(n,e),r),n=[],s=null),df.has(r.kind)&&(n.push(r),S.remove(r),s=i??s)}t.push(gf(n,e))}function gf(t,e){let n=Array.from(e,()=>new Array);for(let s of t){let r=e.findIndex(i=>i.test(s));n[r].push(s)}return n.flatMap((s,r)=>{let i=e[r].transform;return i?i(s):s})}function Ra(t){return t.slice(t.length-1)}function hT(t){let e=new Map;for(let n of t.units)for(let s of n.create)ds(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.create)if(s.kind===h.ExtractedAttribute&&s.bindingKind===M.Attribute&&tm(s.expression)){let r=e.get(s.target);if(r!==void 0&&r.kind===h.Template&&r.templateKind===Et.Structural)continue;if(s.name==="style"){let i=vm(s.expression.value);for(let o=0;o<i.length-1;o+=2)S.insertBefore(zt(s.target,M.StyleProperty,null,i[o],m(i[o+1]),null,null,J.STYLE),s);S.remove(s)}else if(s.name==="class"){let i=s.expression.value.trim().split(/\s+/g);for(let o of i)S.insertBefore(zt(s.target,M.ClassName,null,o,null,null,null,J.NONE),s);S.remove(s)}}}function fT(t){for(let e of t.units){let n=ju(e);for(let s of e.ops())switch(s.kind){case h.Binding:let r=mT(n,s.target);dT(s.name)&&r.kind===h.Projection&&S.remove(s);break}}}function dT(t){return t.toLowerCase()==="select"}function mT(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function gT(t){for(let e of t.units)vT(e)}function vT(t){for(let e of t.update)Ct(e,(n,s)=>{if(Cn(n)&&n.kind===B.PipeBinding){if(s&oe.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");yT(t,e.target,n)}else t.create.push(rm(n.target,n.targetSlot,n.name))}})}function yT(t,e,n){for(let s=t.create.head.next;s.kind!==h.ListEnd;s=s.next){if(!pi(s)||s.xref!==e)continue;for(;s.next.kind===h.Pipe;)s=s.next;let r=rm(n.target,n.targetSlot,n.name);S.insertBefore(r,s.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function ET(t){for(let e of t.units)for(let n of e.update)ze(n,s=>!(s instanceof rr)||s.args.length<=4?s:new Ea(s.target,s.targetSlot,s.name,q(s.args),s.args.length),oe.None)}function ST(t){ym(t.root,0)}function ym(t,e){let n=null;for(let s of t.create)switch(s.kind){case h.I18nStart:s.subTemplateIndex=e===0?null:e,n=s;break;case h.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case h.Template:e=bl(t.job.views.get(s.xref),n,s.i18nPlaceholder,e);break;case h.RepeaterCreate:let r=t.job.views.get(s.xref);e=bl(t.job.views.get(s.xref),n,s.i18nPlaceholder,e),s.emptyView!==null&&(e=bl(t.job.views.get(s.emptyView),n,s.emptyI18nPlaceholder,e));break}return e}function bl(t,e,n,s){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");s++,xT(t,e)}return ym(t,s)}function xT(t,e){if(t.create.head.next?.kind!==h.I18nStart){let n=t.job.allocateXrefId();S.insertAfter(Ja(n,e.message,e.root,null),t.create.head),S.insertBefore(Za(n,null),t.create.tail)}}function wT(t){for(let e of t.units)for(let n of e.ops())Ct(n,s=>{if(!(s instanceof sr)||s.body===null)return;let r=new tu(s.args.length);s.fn=t.pool.getSharedConstant(r,s.body),s.body=null})}var tu=class extends Pr{constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Zr?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let s=[];for(let i=0;i<this.numArgs;i++)s.push(new ue("a"+i));let r=k(n,i=>i instanceof Zr?R("a"+i.index):i,oe.None);return new Ke(e,new Fn(s,r),void 0,Ne.Final)}};function TT(t){for(let e of t.units)for(let n of e.update)ze(n,(s,r)=>r&oe.InChildOperation?s:s instanceof ht?CT(s):s instanceof Bt?IT(s):s,oe.None)}function CT(t){let e=[],n=[];for(let s of t.entries)if(s.isConstant())e.push(s);else{let r=n.length;n.push(s),e.push(new Zr(r))}return new sr(q(e),n)}function IT(t){let e=[],n=[];for(let s of t.entries)if(s.value.isConstant())e.push(s);else{let r=n.length;n.push(s.value),e.push(new Us(s.key,new Zr(r),s.quoted))}return new sr(_e(e),n)}function AT(t,e,n,s,r){return el(u.element,t,e,n,s,r)}function bT(t,e,n,s,r){return el(u.elementStart,t,e,n,s,r)}function el(t,e,n,s,r,i){let o=[m(e)];return n!==null&&o.push(m(n)),r!==null?o.push(m(s),m(r)):s!==null&&o.push(m(s)),Z(t,o,i)}function NT(t){return Z(u.elementEnd,[],t)}function DT(t,e,n,s){return el(u.elementContainerStart,t,null,e,n,s)}function _T(t,e,n,s){return el(u.elementContainer,t,null,e,n,s)}function PT(){return Z(u.elementContainerEnd,[],null)}function kT(t,e,n,s,r,i,o,a){let l=[m(t),e,m(n),m(s),m(r),m(i)];for(o!==null&&(l.push(m(o)),l.push(A(u.templateRefExtractor)));l[l.length-1].isEquivalent(as);)l.pop();return Z(u.templateCreate,l,a)}function RT(){return Z(u.disableBindings,[],null)}function MT(){return Z(u.enableBindings,[],null)}function LT(t,e,n,s,r){let i=[m(t),e];return n!==null&&(i.push(m(!1)),i.push(A(n))),Z(s?u.syntheticHostListener:u.listener,i,r)}function OT(t,e){return A(u.twoWayBindingSet).callFn([t,e])}function FT(t,e,n){return Z(u.twoWayListener,[m(t),e],n)}function BT(t,e){return Z(u.pipe,[m(t),m(e)],null)}function $T(){return Z(u.namespaceHTML,[],null)}function UT(){return Z(u.namespaceSVG,[],null)}function VT(){return Z(u.namespaceMathML,[],null)}function qT(t,e){return Z(u.advance,t>1?[m(t)]:[],e)}function HT(t){return A(u.reference).callFn([m(t)])}function GT(t){return A(u.nextContext).callFn(t===1?[]:[m(t)])}function WT(){return A(u.getCurrentView).callFn([])}function jT(t){return A(u.restoreView).callFn([t])}function KT(t){return A(u.resetView).callFn([t])}function zT(t,e,n){let s=[m(t,null)];return e!==""&&s.push(m(e)),Z(u.text,s,n)}function YT(t,e,n,s,r,i,o,a,l,c){let p=[m(t),m(e),n??m(null),m(s),m(r),m(i),o??m(null),a??m(null),l?A(u.deferEnableTimerScheduling):m(null)],f;for(;(f=p[p.length-1])!==null&&f instanceof Ce&&f.value===null;)p.pop();return Z(u.defer,p,c)}var XT=new Map([[fe.Idle,[u.deferOnIdle,u.deferPrefetchOnIdle]],[fe.Immediate,[u.deferOnImmediate,u.deferPrefetchOnImmediate]],[fe.Timer,[u.deferOnTimer,u.deferPrefetchOnTimer]],[fe.Hover,[u.deferOnHover,u.deferPrefetchOnHover]],[fe.Interaction,[u.deferOnInteraction,u.deferPrefetchOnInteraction]],[fe.Viewport,[u.deferOnViewport,u.deferPrefetchOnViewport]]]);function QT(t,e,n,s){let r=XT.get(t);if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);let i=n?r[1]:r[0];return Z(i,e.map(o=>m(o)),s)}function JT(t){return Z(u.projectionDef,t?[t]:[],null)}function ZT(t,e,n,s){let r=[m(t)];return(e!==0||n!==null)&&(r.push(m(e)),n!==null&&r.push(n)),Z(u.projection,r,s)}function eC(t,e,n,s){let r=[m(t),m(e)];return n!==null&&r.push(m(n)),Z(u.i18nStart,r,s)}function tC(t,e,n,s,r,i,o,a,l,c,p,f,d,y){let v=[m(t),R(e),m(n),m(s),m(r),m(i),o];return(a||l!==null)&&(v.push(m(a)),l!==null&&(v.push(R(l),m(c),m(p)),(f!==null||d!==null)&&v.push(m(f)),d!==null&&v.push(m(d)))),Z(u.repeaterCreate,v,y)}function nC(t,e){return Z(u.repeater,[t],e)}function sC(t,e,n){return Z(t?u.deferPrefetchWhen:u.deferWhen,[e],n)}function rC(t,e,n,s){let r=[m(t),m(e)];return n&&r.push(m(n)),Z(u.i18n,r,s)}function iC(t){return Z(u.i18nEnd,[],t)}function oC(t,e){let n=[m(t),m(e)];return Z(u.i18nAttributes,n,null)}function aC(t,e,n,s){let r=[m(t),e];return n!==null&&r.push(n),Z(u.property,r,s)}function lC(t,e,n,s){let r=[m(t),e];return n!==null&&r.push(n),Z(u.twoWayProperty,r,s)}function cC(t,e,n,s){let r=[m(t),e];return(n!==null||s!==null)&&r.push(n??m(null)),s!==null&&r.push(m(s)),Z(u.attribute,r,null)}function uC(t,e,n,s){let r=[m(t),e];return n!==null&&r.push(m(n)),Z(u.styleProp,r,s)}function pC(t,e,n){return Z(u.classProp,[m(t),e],n)}function hC(t,e){return Z(u.styleMap,[t],e)}function fC(t,e){return Z(u.classMap,[t],e)}var vf=[u.pipeBind1,u.pipeBind2,u.pipeBind3,u.pipeBind4];function dC(t,e,n){if(n.length<1||n.length>vf.length)throw new Error("pipeBind() argument count out of bounds");let s=vf[n.length-1];return A(s).callFn([m(t),m(e),...n])}function mC(t,e,n){return A(u.pipeBindV).callFn([m(t),m(e),n])}function gC(t,e,n){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let s=[];if(e.length===1&&t[0]===""&&t[1]==="")s.push(e[0]);else{let r;for(r=0;r<e.length;r++)s.push(m(t[r]),e[r]);s.push(m(t[r]))}return hi(NC,[],s,[],n)}function vC(t,e){return Z(u.i18nExp,[t],e)}function yC(t,e){return Z(u.i18nApply,[m(t)],e)}function EC(t,e,n,s,r){let i=go(e,n),o=[];return s!==null&&o.push(s),hi(DC,[m(t)],i,o,r)}function SC(t,e,n,s,r){let i=go(e,n),o=[];return s!==null&&o.push(s),hi(PC,[m(t)],i,o,r)}function xC(t,e,n,s,r){let i=go(e,n),o=[];return s!==null&&o.push(m(s)),hi(_C,[m(t)],i,o,r)}function wC(t,e,n){let s=go(t,e);return hi(kC,[],s,[],n)}function TC(t,e,n){let s=go(t,e);return hi(RC,[],s,[],n)}function CC(t,e,n,s){let r=[m(t),e];return n!==null&&r.push(n),Z(u.hostProperty,r,s)}function IC(t,e,n){return Z(u.syntheticHostProperty,[m(t),e],n)}function AC(t,e,n){return Em(MC,[m(t),e],n,[],null)}function go(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let s;for(s=0;s<e.length;s++)n.push(m(t[s]),e[s]);n.push(m(t[s]))}return n}function Z(t,e,n){let s=A(t).callFn(e,n);return Tn(new Fe(s,n))}function bC(t,e,n,s){let r=[m(t),e];return n!==null&&r.push(n),Z(u.conditional,r,s)}var NC={constant:[u.textInterpolate,u.textInterpolate1,u.textInterpolate2,u.textInterpolate3,u.textInterpolate4,u.textInterpolate5,u.textInterpolate6,u.textInterpolate7,u.textInterpolate8],variable:u.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},DC={constant:[u.propertyInterpolate,u.propertyInterpolate1,u.propertyInterpolate2,u.propertyInterpolate3,u.propertyInterpolate4,u.propertyInterpolate5,u.propertyInterpolate6,u.propertyInterpolate7,u.propertyInterpolate8],variable:u.propertyInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},_C={constant:[u.styleProp,u.stylePropInterpolate1,u.stylePropInterpolate2,u.stylePropInterpolate3,u.stylePropInterpolate4,u.stylePropInterpolate5,u.stylePropInterpolate6,u.stylePropInterpolate7,u.stylePropInterpolate8],variable:u.stylePropInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},PC={constant:[u.attribute,u.attributeInterpolate1,u.attributeInterpolate2,u.attributeInterpolate3,u.attributeInterpolate4,u.attributeInterpolate5,u.attributeInterpolate6,u.attributeInterpolate7,u.attributeInterpolate8],variable:u.attributeInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},kC={constant:[u.styleMap,u.styleMapInterpolate1,u.styleMapInterpolate2,u.styleMapInterpolate3,u.styleMapInterpolate4,u.styleMapInterpolate5,u.styleMapInterpolate6,u.styleMapInterpolate7,u.styleMapInterpolate8],variable:u.styleMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},RC={constant:[u.classMap,u.classMapInterpolate1,u.classMapInterpolate2,u.classMapInterpolate3,u.classMapInterpolate4,u.classMapInterpolate5,u.classMapInterpolate6,u.classMapInterpolate7,u.classMapInterpolate8],variable:u.classMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},MC={constant:[u.pureFunction0,u.pureFunction1,u.pureFunction2,u.pureFunction3,u.pureFunction4,u.pureFunction5,u.pureFunction6,u.pureFunction7,u.pureFunction8],variable:u.pureFunctionV,mapping:t=>t};function Em(t,e,n,s,r){let i=t.mapping(n.length);if(i<t.constant.length)return A(t.constant[i]).callFn([...e,...n,...s],r);if(t.variable!==null)return A(t.variable).callFn([...e,q(n),...s],r);throw new Error("AssertionError: unable to call variadic function")}function hi(t,e,n,s,r){return Tn(Em(t,e,n,s,r).toStmt())}var LC=new Map([["window",u.resolveWindow],["document",u.resolveDocument],["body",u.resolveBody]]);function OC(t){for(let e of t.units)FC(e,e.create),Sm(e,e.update)}function FC(t,e){for(let n of e)switch(ze(n,xm,oe.None),n.kind){case h.Text:S.replace(n,zT(n.handle.slot,n.initialValue,n.sourceSpan));break;case h.ElementStart:S.replace(n,bT(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case h.Element:S.replace(n,AT(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case h.ElementEnd:S.replace(n,NT(n.sourceSpan));break;case h.ContainerStart:S.replace(n,DT(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case h.Container:S.replace(n,_T(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case h.ContainerEnd:S.replace(n,PT());break;case h.I18nStart:S.replace(n,eC(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case h.I18nEnd:S.replace(n,iC(n.sourceSpan));break;case h.I18n:S.replace(n,rC(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case h.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");S.replace(n,oC(n.handle.slot,n.i18nAttributesConfig));break;case h.Template:if(!(t instanceof ms))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let s=t.job.views.get(n.xref);S.replace(n,kT(n.handle.slot,R(s.fnName),s.decls,s.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case h.DisableBindings:S.replace(n,RT());break;case h.EnableBindings:S.replace(n,MT());break;case h.Pipe:S.replace(n,BT(n.handle.slot,n.name));break;case h.Listener:let r=yf(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),i=n.eventTarget?LC.get(n.eventTarget):null;if(i===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);S.replace(n,LT(n.name,r,i,n.hostListener&&n.isAnimationListener,n.sourceSpan));break;case h.TwoWayListener:S.replace(n,FT(n.name,yf(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case h.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);S.replace(n,Tn(new Ke(n.variable.name,n.initializer,void 0,Ne.Final)));break;case h.Namespace:switch(n.active){case Ge.HTML:S.replace(n,$T());break;case Ge.SVG:S.replace(n,UT());break;case Ge.Math:S.replace(n,VT());break}break;case h.Defer:let o=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;S.replace(n,YT(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,o,n.sourceSpan));break;case h.DeferOn:let a=[];switch(n.trigger.kind){case fe.Idle:case fe.Immediate:break;case fe.Timer:a=[n.trigger.delay];break;case fe.Interaction:case fe.Hover:case fe.Viewport:if(n.trigger.targetSlot?.slot==null||n.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${n.trigger.kind}`);a=[n.trigger.targetSlot.slot],n.trigger.targetSlotViewSteps!==0&&a.push(n.trigger.targetSlotViewSteps);break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}S.replace(n,QT(n.trigger.kind,a,n.prefetch,n.sourceSpan));break;case h.ProjectionDef:S.replace(n,JT(n.def));break;case h.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");S.replace(n,ZT(n.handle.slot,n.projectionSlotIndex,n.attributes,n.sourceSpan));break;case h.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof ms))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(n.xref);if(l.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let c=null,p=null,f=null;if(n.emptyView!==null){let d=t.job.views.get(n.emptyView);if(d===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(d.fnName===null||d.decls===null||d.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");c=d.fnName,p=d.decls,f=d.vars}S.replace(n,tC(n.handle.slot,l.fnName,n.decls,n.vars,n.tag,n.attributes,n.trackByFn,n.usesComponentInstance,c,p,f,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case h.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${h[n.kind]}`)}}function Sm(t,e){for(let n of e)switch(ze(n,xm,oe.None),n.kind){case h.Advance:S.replace(n,qT(n.delta,n.sourceSpan));break;case h.Property:n.expression instanceof Ae?S.replace(n,EC(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):S.replace(n,aC(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case h.TwoWayProperty:S.replace(n,lC(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case h.StyleProp:n.expression instanceof Ae?S.replace(n,xC(n.name,n.expression.strings,n.expression.expressions,n.unit,n.sourceSpan)):S.replace(n,uC(n.name,n.expression,n.unit,n.sourceSpan));break;case h.ClassProp:S.replace(n,pC(n.name,n.expression,n.sourceSpan));break;case h.StyleMap:n.expression instanceof Ae?S.replace(n,wC(n.expression.strings,n.expression.expressions,n.sourceSpan)):S.replace(n,hC(n.expression,n.sourceSpan));break;case h.ClassMap:n.expression instanceof Ae?S.replace(n,TC(n.expression.strings,n.expression.expressions,n.sourceSpan)):S.replace(n,fC(n.expression,n.sourceSpan));break;case h.I18nExpression:S.replace(n,vC(n.expression,n.sourceSpan));break;case h.I18nApply:S.replace(n,yC(n.handle.slot,n.sourceSpan));break;case h.InterpolateText:S.replace(n,gC(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case h.Attribute:n.expression instanceof Ae?S.replace(n,SC(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):S.replace(n,cC(n.name,n.expression,n.sanitizer,n.namespace));break;case h.HostProperty:if(n.expression instanceof Ae)throw new Error("not yet handled");n.isAnimationTrigger?S.replace(n,IC(n.name,n.expression,n.sourceSpan)):S.replace(n,CC(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case h.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);S.replace(n,Tn(new Ke(n.variable.name,n.initializer,void 0,Ne.Final)));break;case h.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");if(n.targetSlot.slot===null)throw new Error("Conditional slot was not set.");S.replace(n,bC(n.targetSlot.slot,n.processed,n.contextValue,n.sourceSpan));break;case h.Repeater:S.replace(n,nC(n.collection,n.sourceSpan));break;case h.DeferWhen:S.replace(n,sC(n.prefetch,n.expr,n.sourceSpan));break;case h.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${h[n.kind]}`)}}function xm(t){if(!Cn(t))return t;switch(t.kind){case B.NextContext:return GT(t.steps);case B.Reference:return HT(t.targetSlot.slot+1+t.offset);case B.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case B.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case B.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return jT(t.view);case B.ResetView:return KT(t.expr);case B.GetCurrentView:return WT();case B.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return R(t.name);case B.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return R(t.name);case B.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return R(t.name).set(t.expr);case B.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return AC(t.varOffset,t.fn,t.args);case B.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case B.PipeBinding:return dC(t.targetSlot.slot,t.varOffset,t.args);case B.PipeBindingVariadic:return mC(t.targetSlot.slot,t.varOffset,t.args);case B.SlotLiteralExpr:return m(t.slot.slot);default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${B[t.kind]}`)}}function yf(t,e,n,s){Sm(t,n);let r=[];for(let o of n){if(o.kind!==h.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${h[o.kind]}`);r.push(o.statement)}let i=[];return s&&i.push(new ue("$event")),rn(i,r,void 0,void 0,e)}function BC(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case h.Attribute:case h.Binding:case h.ClassProp:case h.ClassMap:case h.Property:case h.StyleProp:case h.StyleMap:n.expression instanceof Ji&&S.remove(n);break}}function $C(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case h.I18nContext:S.remove(n);break;case h.I18nStart:n.context=null;break}}function UC(t){for(let e of t.units){let n=new Set;for(let s of e.update)switch(s.kind){case h.I18nExpression:n.add(s.i18nOwner)}for(let s of e.create)switch(s.kind){case h.I18nAttributes:if(n.has(s.xref))continue;S.remove(s)}}}function VC(t){for(let e of t.units)nu(e,e.create),nu(e,e.update)}function nu(t,e){let n=new Map;n.set(t.xref,R("ctx"));for(let s of e)switch(s.kind){case h.Variable:switch(s.variable.kind){case Me.Context:n.set(s.variable.view,new nr(s.xref));break}break;case h.Listener:case h.TwoWayListener:nu(t,s.handlerOps);break}t===t.job.root&&n.set(t.xref,R("ctx"));for(let s of e)ze(s,r=>{if(r instanceof Wn){if(!n.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${t.xref}`);return n.get(r.view)}else return r},oe.None)}function qC(t){for(let e of t.units)Ef(e,e.create),Ef(e,e.update)}function Ef(t,e){for(let n of e)(n.kind===h.Listener||n.kind===h.TwoWayListener)&&ze(n,s=>s instanceof vt&&s.name==="$event"?(n.kind===h.Listener&&(n.consumesDollarEvent=!0),new St(s.name)):s,oe.InChildOperation)}function HC(t){let e=new Map,n=new Map;for(let s of t.units)for(let r of s.create)switch(r.kind){case h.I18nContext:e.set(r.xref,r);break;case h.ElementStart:n.set(r.xref,r);break}Jn(t,t.root,e,n)}function Jn(t,e,n,s,r){let i=null,o=new Map;for(let a of e.create)switch(a.kind){case h.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:a,i18nContext:n.get(a.context)};break;case h.I18nEnd:i=null;break;case h.ElementStart:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Sf(a,i.i18nContext,i.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&o.set(a.xref,r),r=void 0}break;case h.ElementEnd:let l=s.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");xf(l,i.i18nContext,i.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case h.Projection:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Sf(a,i.i18nContext,i.i18nBlock,r),xf(a,i.i18nContext,i.i18nBlock,r),r=void 0}break;case h.Template:let c=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Jn(t,c,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Et.Structural?Jn(t,c,n,s,a):(Nl(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),Jn(t,c,n,s),Dl(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0)}break;case h.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let p=a.handle.slot+1,f=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Jn(t,f,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Nl(t,f,p,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),Jn(t,f,n,s),Dl(t,f,p,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}if(a.emptyView!==null){let d=a.handle.slot+2,y=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Jn(t,y,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Nl(t,y,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),Jn(t,y,n,s),Dl(t,y,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}}break}}function Sf(t,e,n,s){let{startName:r,closeName:i}=t.i18nPlaceholder,o=ce.ElementTag|ce.OpenTag,a=t.handle.slot;s!==void 0&&(o|=ce.TemplateTag,a={element:a,template:s.handle.slot}),i||(o|=ce.CloseTag),ii(e.params,r,a,n.subTemplateIndex,o)}function xf(t,e,n,s){let{closeName:r}=t.i18nPlaceholder;if(r){let i=ce.ElementTag|ce.CloseTag,o=t.handle.slot;s!==void 0&&(i|=ce.TemplateTag,o={element:o,template:s.handle.slot}),ii(e.params,r,o,n.subTemplateIndex,i)}}function Nl(t,e,n,s,r,i,o){let{startName:a,closeName:l}=s,c=ce.TemplateTag|ce.OpenTag;l||(c|=ce.CloseTag),o!==void 0&&ii(r.params,a,o.handle.slot,i.subTemplateIndex,c),ii(r.params,a,n,wm(t,i,e),c)}function Dl(t,e,n,s,r,i,o){let{startName:a,closeName:l}=s,c=ce.TemplateTag|ce.CloseTag;l&&(ii(r.params,l,n,wm(t,i,e),c),o!==void 0&&ii(r.params,l,o.handle.slot,i.subTemplateIndex,c))}function wm(t,e,n){for(let s of n.create)if(s.kind===h.I18nStart)return s.subTemplateIndex;return e.subTemplateIndex}function ii(t,e,n,s,r){let i=t.get(e)??[];i.push({value:n,subTemplateIndex:s,flags:r}),t.set(e,i)}function GC(t){let e=new Map,n=new Map,s=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case h.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case h.I18nContext:n.set(a.xref,a);break;case h.IcuPlaceholder:s.set(a.xref,a);break}let r=new Map,i=o=>o.usage===er.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===h.I18nExpression){let l=r.get(i(a))||0,c=e.get(a.i18nOwner)??null,p={value:l,subTemplateIndex:c,flags:ce.ExpressionIndex};WC(a,p,n,s),r.set(i(a),l+1)}}function WC(t,e,n,s){if(t.i18nPlaceholder!==null){let r=n.get(t.context),i=t.resolutionTime===Jr.Creation?r.params:r.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&s.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function jC(t){for(let e of t.units)su(e,e.create,null),su(e,e.update,null)}function su(t,e,n){let s=new Map;for(let r of e)switch(r.kind){case h.Variable:switch(r.variable.kind){case Me.Identifier:case Me.Alias:if(s.has(r.variable.identifier))continue;s.set(r.variable.identifier,r.xref);break;case Me.SavedView:n={view:r.variable.view,variable:r.xref};break}break;case h.Listener:case h.TwoWayListener:su(t,r.handlerOps,n);break}for(let r of e)r.kind==h.Listener||r.kind===h.TwoWayListener||ze(r,(i,o)=>{if(i instanceof vt)return s.has(i.name)?new nr(s.get(i.name)):new je(new Wn(t.job.root.xref),i.name);if(i instanceof va&&typeof i.view=="number"){if(n===null||n.view!==i.view)throw new Error(`AssertionError: no saved view ${i.view} from view ${t.xref}`);return i.view=new nr(n.variable),i}else return i},oe.None);for(let r of e)Ct(r,i=>{if(i instanceof vt)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${i.name}`)})}var KC=new Map([[J.HTML,u.sanitizeHtml],[J.RESOURCE_URL,u.sanitizeResourceUrl],[J.SCRIPT,u.sanitizeScript],[J.STYLE,u.sanitizeStyle],[J.URL,u.sanitizeUrl]]),zC=new Map([[J.HTML,u.trustConstantHtml],[J.RESOURCE_URL,u.trustConstantResourceUrl]]);function YC(t){for(let e of t.units){let n=ju(e);if(t.kind!==P.Host){for(let s of e.create)if(s.kind===h.ExtractedAttribute){let r=zC.get(wf(s.securityContext))??null;s.trustedValueFn=r!==null?A(r):null}}for(let s of e.update)switch(s.kind){case h.Property:case h.Attribute:case h.HostProperty:let r=null;if(Array.isArray(s.securityContext)&&s.securityContext.length===2&&s.securityContext.indexOf(J.URL)>-1&&s.securityContext.indexOf(J.RESOURCE_URL)>-1?r=u.sanitizeUrlOrResourceUrl:r=KC.get(wf(s.securityContext))??null,s.sanitizer=r!==null?A(r):null,s.sanitizer===null){let i=!1;if(t.kind===P.Host||s.kind===h.HostProperty)i=!0;else{let o=n.get(s.target);if(o===void 0||!ds(o))throw Error("Property should have an element-like owner");i=XC(o)}i&&Uu(s.name)&&(s.sanitizer=A(u.validateIframeAttribute))}break}}}function XC(t){return t.kind===h.ElementStart&&t.tag?.toLowerCase()==="iframe"}function wf(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||J.NONE}return t}function QC(t){for(let e of t.units)for(let n of e.create)n.kind===h.TwoWayListener&&ze(n,s=>s instanceof ya?JC(s.target,s.value):s,oe.InChildOperation)}function Mo(t,e){return OT(t,e).or(t.set(e))}function Lo(t){return t instanceof je||t instanceof sn}function JC(t,e){if(Lo(t))return Mo(t,e);if(t instanceof X&&Lo(t.rhs))return new X(t.operator,t.lhs,Mo(t.rhs,e));if(t instanceof pt&&Lo(t.falseCase))return new pt(t.condition,t.trueCase,Mo(t.falseCase,e));if(t instanceof En){let n=t.condition;for(;;)if(n instanceof En)n=n.condition;else{if(Lo(n))return Mo(n,e);break}}throw new Error("Unsupported expression in two-way action binding.")}function ZC(t){for(let e of t.units){e.create.prepend([Nr(e.job.allocateXrefId(),{kind:Me.SavedView,name:null,view:e.xref},new _c,Jt.None)]);for(let n of e.create){if(n.kind!==h.Listener&&n.kind!==h.TwoWayListener)continue;let s=e!==t.root;if(!s)for(let r of n.handlerOps)Ct(r,i=>{i instanceof da&&(s=!0)});s&&eI(e,n)}}}function eI(t,e){e.handlerOps.prepend([Nr(t.job.allocateXrefId(),{kind:Me.Context,name:null,view:t.xref},new va(t.xref),Jt.None)]);for(let n of e.handlerOps)n.kind===h.Statement&&n.statement instanceof Te&&(n.statement.value=new Pc(n.statement.value))}function tI(t){let e=new Map;for(let n of t.units){let s=0;for(let r of n.create)pi(r)&&(r.handle.slot=s,e.set(r.xref,r.handle.slot),s+=r.numSlotsUsed);n.decls=s}for(let n of t.units)for(let s of n.ops())if(s.kind===h.Template||s.kind===h.RepeaterCreate){let r=t.views.get(s.xref);s.decls=r.decls}}function nI(t){for(let e of t.units)for(let n of e.update)if(n.kind===h.Binding)switch(n.bindingKind){case M.ClassName:if(n.expression instanceof Ae)throw new Error("Unexpected interpolation in ClassName binding");S.replace(n,xS(n.target,n.name,n.expression,n.sourceSpan));break;case M.StyleProperty:S.replace(n,SS(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case M.Property:case M.Template:n.name==="style"?S.replace(n,wS(n.target,n.expression,n.sourceSpan)):n.name==="class"&&S.replace(n,TS(n.target,n.expression,n.sourceSpan));break}}function sI(t){for(let e of t.units)e.create.prepend(ru(e.create)),e.update.prepend(ru(e.update))}function ru(t){let e=0,n=[];for(let s of t){let r=new Map;Ct(s,(c,p)=>{p&oe.InChildOperation||c instanceof jn&&r.set(c.xref,c)});let i=0,o=new Set,a=new Set,l=new Map;Ct(s,(c,p)=>{p&oe.InChildOperation||(c instanceof un?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${i++}`)),Tf(l,c)):c instanceof jn&&(r.get(c.xref)===c&&(a.add(c.xref),i--),Tf(l,c)))}),n.push(...Array.from(new Set(l.values())).map(c=>Tn(new Ke(c)))),e++,(s.kind===h.Listener||s.kind===h.TwoWayListener)&&s.handlerOps.prepend(ru(s.handlerOps))}return n}function Tf(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function rI(t){for(let e of t.units)for(let n of e.create){if(n.kind!==h.RepeaterCreate||n.trackByFn!==null)continue;let s=!1;n.track=k(n.track,o=>{if(o instanceof rr||o instanceof Ea)throw new Error("Illegal State: Pipes are not allowed in this context");return o instanceof ma?(s=!0,R("this")):o},oe.None);let r,i=[new ue("$index"),new ue("$item")];s?r=new On(i,[new Te(n.track)]):r=Oe(i,n.track),n.trackByFn=t.pool.getSharedFunctionReference(r,"_forTrack")}}function iI(t){for(let e of t.units)for(let n of e.create)n.kind===h.RepeaterCreate&&(n.track instanceof St&&n.track.name==="$index"?n.trackByFn=A(u.repeaterTrackByIndex):n.track instanceof St&&n.track.name==="$item"?n.trackByFn=A(u.repeaterTrackByIdentity):oI(t.root.xref,n.track)?n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=A(u.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn):n.track=k(n.track,s=>s instanceof Wn?(n.usesComponentInstance=!0,new ma(s.view)):s,oe.None))}function oI(t,e){if(!(e instanceof We)||e.args.length!==2||!(e.receiver instanceof je&&e.receiver.receiver instanceof Wn)||e.receiver.receiver.view!==t)return!1;let[n,s]=e.args;return!(!(n instanceof St)||n.name!=="$index"||!(s instanceof St)||s.name!=="$item")}function aI(t){for(let e of t.units)for(let n of e.create)n.kind===h.RepeaterCreate&&(n.track=k(n.track,s=>{if(s instanceof vt){if(s.name===n.varNames.$index)return R("$index");if(s.name===n.varNames.$implicit)return R("$item")}return s},oe.None))}function lI(t){for(let e of t.units){let n=0;for(let s of e.ops())Sl(s)&&(n+=cI(s));for(let s of e.ops())Ct(s,r=>{Cn(r)&&(t.compatibility===Tt.TemplateDefinitionBuilder&&r instanceof sr||(Oh(r)&&(r.varOffset=n),Sl(r)&&(n+=Cf(r))))});if(t.compatibility===Tt.TemplateDefinitionBuilder)for(let s of e.ops())Ct(s,r=>{!Cn(r)||!(r instanceof sr)||(Oh(r)&&(r.varOffset=n),Sl(r)&&(n+=Cf(r)))});e.vars=n}if(t instanceof eo)for(let e of t.units)for(let n of e.create){if(n.kind!==h.Template&&n.kind!==h.RepeaterCreate)continue;let s=t.views.get(n.xref);n.vars=s.vars}}function cI(t){let e;switch(t.kind){case h.Property:case h.HostProperty:case h.Attribute:return e=1,t.expression instanceof Ae&&!uI(t.expression)&&(e+=t.expression.expressions.length),e;case h.TwoWayProperty:return 1;case h.StyleProp:case h.ClassProp:case h.StyleMap:case h.ClassMap:return e=2,t.expression instanceof Ae&&(e+=t.expression.expressions.length),e;case h.InterpolateText:return t.interpolation.expressions.length;case h.I18nExpression:case h.Conditional:case h.DeferWhen:return 1;case h.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${h[t.kind]}`)}}function Cf(t){switch(t.kind){case B.PureFunctionExpr:return 1+t.args.length;case B.PipeBinding:return 1+t.args.length;case B.PipeBindingVariadic:return 1+t.numArgs;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function uI(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function pI(t){for(let e of t.units){_l(e.create),_l(e.update);for(let n of e.create)(n.kind===h.Listener||n.kind===h.TwoWayListener)&&_l(n.handlerOps);Pl(e.create,t.compatibility),Pl(e.update,t.compatibility);for(let n of e.create)(n.kind===h.Listener||n.kind===h.TwoWayListener)&&Pl(n.handlerOps,t.compatibility)}}var Re;(function(t){t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful"})(Re||(Re={}));function _l(t){let e=new Map;for(let n of t)n.kind===h.Variable&&n.flags&Jt.AlwaysInline&&(Ct(n,s=>{if(Cn(s)&&zu(s)!==Re.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),ze(n,s=>s instanceof nr&&e.has(s.xref)?e.get(s.xref).initializer.clone():s,oe.None);for(let n of e.values())S.remove(n)}function Pl(t,e){let n=new Map,s=new Map,r=new Set,i=new Map;for(let c of t){if(c.kind===h.Variable){if(n.has(c.xref)||s.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);n.set(c.xref,c),s.set(c.xref,0)}i.set(c,hI(c)),fI(c,s,r)}let o=!1;for(let c of t.reversed()){let p=i.get(c);if(c.kind===h.Variable&&s.get(c.xref)===0){if(o&&p.fences&Re.ViewContextWrite||p.fences&Re.SideEffectful){let f=Tn(c.initializer.toStmt());i.set(f,p),S.replace(c,f)}else dI(c,s),S.remove(c);i.delete(c),n.delete(c.xref),s.delete(c.xref);continue}p.fences&Re.ViewContextRead&&(o=!0)}let a=[];for(let[c,p]of s){let f=n.get(c),d=i.get(f),y=!!(f.flags&Jt.AlwaysInline);p!==1||y||r.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=n.get(l),p=i.get(c);if(!!(c.flags&Jt.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let d=c.next;d.kind!==h.ListEnd;d=d.next){let y=i.get(d);if(y.variablesUsed.has(l)){if(e===Tt.TemplateDefinitionBuilder&&!gI(c,d))break;if(mI(l,c.initializer,d,p.fences)){y.variablesUsed.delete(l);for(let v of p.variablesUsed)y.variablesUsed.add(v);y.fences|=p.fences,n.delete(l),s.delete(l),i.delete(c),S.remove(c)}break}if(!Tm(y.fences,p.fences))break}}}function zu(t){switch(t.kind){case B.NextContext:return Re.ViewContextRead|Re.ViewContextWrite;case B.RestoreView:return Re.ViewContextRead|Re.ViewContextWrite|Re.SideEffectful;case B.Reference:return Re.ViewContextRead;default:return Re.None}}function hI(t){let e=Re.None,n=new Set;return Ct(t,s=>{if(Cn(s))switch(s.kind){case B.ReadVariable:n.add(s.xref);break;default:e|=zu(s)}}),{fences:e,variablesUsed:n}}function fI(t,e,n){Ct(t,(s,r)=>{if(!Cn(s)||s.kind!==B.ReadVariable)return;let i=e.get(s.xref);i!==void 0&&(e.set(s.xref,i+1),r&oe.InChildOperation&&n.add(s.xref))})}function dI(t,e){Ct(t,n=>{if(!Cn(n)||n.kind!==B.ReadVariable)return;let s=e.get(n.xref);if(s!==void 0){if(s===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,s-1)}})}function Tm(t,e){if(t&Re.ViewContextWrite){if(e&Re.ViewContextRead)return!1}else if(t&Re.ViewContextRead&&e&Re.ViewContextWrite)return!1;return!0}function mI(t,e,n,s){let r=!1,i=!0;return ze(n,(o,a)=>{if(!Cn(o)||r||!i)return o;if(a&oe.InChildOperation&&s&Re.ViewContextRead)return o;switch(o.kind){case B.ReadVariable:if(o.xref===t)return r=!0,e;break;default:let l=zu(o);i=i&&Tm(l,s);break}return o},oe.None),r}function gI(t,e){switch(t.variable.kind){case Me.Identifier:return t.initializer instanceof St&&t.initializer.name==="ctx";case Me.Context:return e.kind===h.Variable;default:return!0}}function vI(t){for(let e of t.units){let n=null,s=null;for(let r of e.create)switch(r.kind){case h.I18nStart:n=r;break;case h.I18nEnd:n=null;break;case h.IcuStart:n===null&&(s=t.allocateXrefId(),S.insertBefore(Ja(s,r.message,void 0,null),r));break;case h.IcuEnd:s!==null&&(S.insertAfter(Za(s,null),r),s=null);break}}}var yI=[{kind:P.Tmpl,fn:fT},{kind:P.Host,fn:qx},{kind:P.Tmpl,fn:Xw},{kind:P.Tmpl,fn:ST},{kind:P.Tmpl,fn:vI},{kind:P.Both,fn:px},{kind:P.Both,fn:nI},{kind:P.Both,fn:JS},{kind:P.Both,fn:YS},{kind:P.Tmpl,fn:ux},{kind:P.Both,fn:hT},{kind:P.Tmpl,fn:BC},{kind:P.Both,fn:tx},{kind:P.Both,fn:pT},{kind:P.Tmpl,fn:nx},{kind:P.Tmpl,fn:gT},{kind:P.Tmpl,fn:hx},{kind:P.Tmpl,fn:Kw},{kind:P.Tmpl,fn:lx},{kind:P.Tmpl,fn:UC},{kind:P.Tmpl,fn:zS},{kind:P.Tmpl,fn:jS},{kind:P.Tmpl,fn:ET},{kind:P.Both,fn:TT},{kind:P.Tmpl,fn:Fx},{kind:P.Tmpl,fn:Bx},{kind:P.Tmpl,fn:ZC},{kind:P.Both,fn:GS},{kind:P.Both,fn:qC},{kind:P.Tmpl,fn:aI},{kind:P.Both,fn:jC},{kind:P.Tmpl,fn:fx},{kind:P.Tmpl,fn:QC},{kind:P.Tmpl,fn:iI},{kind:P.Both,fn:VC},{kind:P.Both,fn:YC},{kind:P.Tmpl,fn:zw},{kind:P.Both,fn:iT},{kind:P.Both,fn:vx},{kind:P.Both,fn:sI},{kind:P.Tmpl,fn:tI},{kind:P.Tmpl,fn:HC},{kind:P.Tmpl,fn:GC},{kind:P.Tmpl,fn:kx},{kind:P.Tmpl,fn:rI},{kind:P.Tmpl,fn:qw},{kind:P.Tmpl,fn:Ux},{kind:P.Both,fn:ox},{kind:P.Tmpl,fn:$C},{kind:P.Both,fn:lI},{kind:P.Tmpl,fn:Ox},{kind:P.Both,fn:pI},{kind:P.Both,fn:Qw},{kind:P.Tmpl,fn:cx},{kind:P.Tmpl,fn:eT},{kind:P.Tmpl,fn:nT},{kind:P.Tmpl,fn:gx},{kind:P.Tmpl,fn:rT},{kind:P.Both,fn:wT},{kind:P.Both,fn:OC},{kind:P.Both,fn:ex}];function Cm(t,e){for(let n of yI)(n.kind===e||n.kind===P.Both)&&n.fn(t)}function EI(t,e){let n=Am(t.root);return Im(t.root,e),n}function Im(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;Im(n,e);let s=Am(n);e.statements.push(s.toDeclStmt(s.name))}}function Am(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${h[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${h[i.kind]}`);n.push(i.statement)}let s=Ma(1,e),r=Ma(2,n);return rn([new ue("rf"),new ue("ctx")],[...s,...r],void 0,void 0,t.fnName)}function Ma(t,e){return e.length===0?[]:[ci(new X(w.BitwiseAnd,R("rf"),m(t)),e)]}function SI(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${h[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${h[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let s=Ma(1,e),r=Ma(2,n);return rn([new ue("rf"),new ue("ctx")],[...s,...r],void 0,void 0,t.root.fnName)}var bm=Tt.TemplateDefinitionBuilder,Rr=new hn,Mr="ng-template";function xI(t,e,n,s,r,i,o){let a=new eo(t,n,bm,s,r,i,o);return ys(a.root,e),a}function wI(t,e,n){let s=new Ia(t.componentName,n,bm);for(let r of t.properties??[]){let i=M.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),i=M.Attribute),r.isAnimation&&(i=M.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,r.name,i===M.Attribute).filter(a=>a!==J.NONE);TI(s,r,i,o)}for(let[r,i]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,r,!0).filter(a=>a!==J.NONE);CI(s,r,i,o)}for(let r of t.events??[])II(s,r);return s}function TI(t,e,n,s){let r,i=e.expression.ast;i instanceof Se?r=new Ae(i.strings,i.expressions.map(o=>j(o,t,e.sourceSpan)),[]):r=j(i,t,e.sourceSpan),t.root.update.push(tr(t.root.xref,n,e.name,r,null,s,!1,!1,null,null,e.sourceSpan))}function CI(t,e,n,s){let r=tr(t.root.xref,M.Attribute,e,n,null,s,!0,!1,null,null,n.sourceSpan);t.root.update.push(r)}function II(t,e){let[n,s]=e.type!==1?[null,e.targetOrPhase]:[e.targetOrPhase,null],r=Wu(t.root.xref,new Nt,e.name,null,Yu(t.root,e.handler,e.handlerSpan),n,s,!0,e.sourceSpan);t.root.create.push(r)}function ys(t,e){for(let n of e)if(n instanceof ne)AI(t,n);else if(n instanceof ie)bI(t,n);else if(n instanceof sa)NI(t,n);else if(n instanceof Lt)Nm(t,n,null);else if(n instanceof Sn)Dm(t,n,null);else if(n instanceof qs)DI(t,n);else if(n instanceof Gr)_I(t,n);else if(n instanceof Un)PI(t,n);else if(n instanceof Hs)kI(t,n);else if(n instanceof on)RI(t,n);else throw new Error(`Unsupported template node: ${n.constructor.name}`)}function AI(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof et||e.i18n instanceof cs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[s,r]=ct(e.name),i=_S(r,n,am(s),e.i18n instanceof cs?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),LI(t,i,e),km(i,e);let o=null;e.i18n instanceof et&&(o=t.job.allocateXrefId(),t.create.push(Ja(o,e.i18n,void 0,e.startSourceSpan))),ys(t,e.children);let a=kS(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a),o!==null&&S.insertBefore(Za(o,e.endSourceSpan??e.startSourceSpan),a)}function bI(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof et||e.i18n instanceof cs))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),s=e.tagName,r="";e.tagName&&([r,s]=ct(e.tagName));let i=e.i18n instanceof cs?e.i18n:void 0,o=am(r),a=s===null?"":ix(s,o),l=MI(e)?Et.NgTemplate:Et.Structural,c=Qa(n.xref,l,s,a,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(c),OI(t,c,e,l),km(c,e),ys(n,e.children);for(let{name:p,value:f}of e.variables)n.contextVariables.set(p,f!==""?f:"$implicit");if(l===Et.NgTemplate&&e.i18n instanceof et){let p=t.job.allocateXrefId();S.insertAfter(Ja(p,e.i18n,void 0,e.startSourceSpan),n.create.head),S.insertBefore(Za(p,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function NI(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof cs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=FS(t.job.allocateXrefId(),e.selector,e.i18n,e.sourceSpan);for(let s of e.attributes){let r=Rr.securityContext(e.name,s.name,!0);t.update.push(tr(n.xref,M.Attribute,s.name,m(s.value),null,r,!0,!1,null,Rn(s.i18n),s.sourceSpan))}t.create.push(n)}function Nm(t,e,n){t.create.push(nm(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function Dm(t,e,n){let s=e.value;if(s instanceof be&&(s=s.ast),!(s instanceof Se))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${s.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof vn))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof vn?e.i18n.children.filter(a=>a instanceof Hi).map(a=>a.name):[];if(r.length>0&&r.length!==s.expressions.length)throw Error(`Unexpected number of i18n placeholders (${s.expressions.length}) for BoundText with ${s.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(nm(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(vS(i,new Ae(s.strings,s.expressions.map(a=>j(a,t.job,o)),r),e.sourceSpan))}function DI(t,e){let n=null,s=null,r=[];for(let o=0;o<e.branches.length;o++){let a=e.branches[o],l=t.job.allocateView(t.xref),c=null;o===0&&(c=ou(t,l.xref,a)),a.expressionAlias!==null&&l.contextVariables.set(a.expressionAlias.name,om);let p;if(a.i18n!==void 0){if(!(a.i18n instanceof Vn))throw Error(`Unhandled i18n metadata type for if block: ${a.i18n?.constructor.name}`);p=a.i18n}let f=Qa(l.xref,Et.Block,c,"Conditional",Ge.HTML,p,a.startSourceSpan,a.sourceSpan);t.create.push(f),n===null&&(n=l.xref,s=f.handle);let d=a.expression?j(a.expression,t.job,null):null,y=new xa(d,f.xref,f.handle,a.expressionAlias);r.push(y),ys(l,a.children)}let i=Zd(n,s,null,r,e.sourceSpan);t.update.push(i)}function _I(t,e){if(e.cases.length===0)return;let n=null,s=null,r=[];for(let o of e.cases){let a=t.job.allocateView(t.xref),l;if(o.i18n!==void 0){if(!(o.i18n instanceof Vn))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let c=Qa(a.xref,Et.Block,null,"Case",Ge.HTML,l,o.startSourceSpan,o.sourceSpan);t.create.push(c),n===null&&(n=a.xref,s=c.handle);let p=o.expression?j(o.expression,t.job,e.startSourceSpan):null,f=new xa(p,c.xref,c.handle);r.push(f),ys(a,o.children)}let i=Zd(n,s,j(e.expression,t.job,null),r,e.sourceSpan);t.update.push(i)}function Oo(t,e,n,s,r){if(n!==void 0&&!(n instanceof Vn))throw Error("Unhandled i18n metadata type for defer block");if(s===void 0)return null;let i=t.job.allocateView(t.xref);ys(i,s);let o=Qa(i.xref,Et.Block,null,`Defer${e}`,Ge.HTML,n,r,r);return t.create.push(o),o}function PI(t,e){let n=t.job.deferBlocksMeta.get(e);if(n===void 0)throw new Error("AssertionError: unable to find metadata for deferred block");let s=Oo(t,"",e.i18n,e.children,e.sourceSpan),r=Oo(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),i=Oo(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=Oo(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=BS(a,s.xref,s.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=i?.xref??null,l.placeholderSlot=i?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,t.create.push(l);let c=!1,p=[],f=[];for(let d of[e.triggers,e.prefetchTriggers]){if(d.idle!==void 0){let y=_s(a,{kind:fe.Idle},c,d.idle.sourceSpan);p.push(y)}if(d.immediate!==void 0){let y=_s(a,{kind:fe.Immediate},c,d.immediate.sourceSpan);p.push(y)}if(d.timer!==void 0){let y=_s(a,{kind:fe.Timer,delay:d.timer.delay},c,d.timer.sourceSpan);p.push(y)}if(d.hover!==void 0){let y=_s(a,{kind:fe.Hover,targetName:d.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.hover.sourceSpan);p.push(y)}if(d.interaction!==void 0){let y=_s(a,{kind:fe.Interaction,targetName:d.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.interaction.sourceSpan);p.push(y)}if(d.viewport!==void 0){let y=_s(a,{kind:fe.Viewport,targetName:d.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.viewport.sourceSpan);p.push(y)}if(d.when!==void 0){if(d.when.value instanceof Se)throw new Error("Unexpected interpolation in defer block when trigger");let y=bS(a,j(d.when.value,t.job,d.when.sourceSpan),c,d.when.sourceSpan);f.push(y)}p.length===0&&f.length===0&&p.push(_s(a,{kind:fe.Idle},!1,null)),c=!0}t.create.push(p),t.update.push(f)}function kI(t,e){if(e.i18n instanceof et&&xi(e.i18n)){let n=t.job.allocateXrefId(),s=e.i18n.nodes[0];t.create.push(US(n,e.i18n,Ru(e.i18n).name,null));for(let[r,i]of Object.entries({...e.vars,...e.placeholders}))i instanceof Sn?Dm(t,i,r):Nm(t,i,r);t.create.push(VS(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function RI(t,e){let n=t.job.allocateView(t.xref);n.contextVariables.set(e.item.name,e.item.value),n.contextVariables.set(e.contextVariables.$index.name,e.contextVariables.$index.value),n.contextVariables.set(e.contextVariables.$count.name,e.contextVariables.$count.value);let s=`\u0275${e.contextVariables.$index.name}_${n.xref}`,r=`\u0275${e.contextVariables.$count.name}_${n.xref}`;n.contextVariables.set(s,e.contextVariables.$index.value),n.contextVariables.set(r,e.contextVariables.$count.value),n.aliases.add({kind:Me.Alias,name:null,identifier:e.contextVariables.$first.name,expression:new vt(s).identical(m(0))}),n.aliases.add({kind:Me.Alias,name:null,identifier:e.contextVariables.$last.name,expression:new vt(s).identical(new vt(r).minus(m(1)))}),n.aliases.add({kind:Me.Alias,name:null,identifier:e.contextVariables.$even.name,expression:new vt(s).modulo(m(2)).identical(m(0))}),n.aliases.add({kind:Me.Alias,name:null,identifier:e.contextVariables.$odd.name,expression:new vt(s).modulo(m(2)).notIdentical(m(0))});let i=qe(e.trackBy.span,e.sourceSpan),o=j(e.trackBy,t.job,i);ys(n,e.children);let a=null,l=null;e.empty!==null&&(a=t.job.allocateView(t.xref),ys(a,e.empty.children),l=ou(t,a.xref,e.empty));let c={$index:e.contextVariables.$index.name,$count:e.contextVariables.$count.name,$first:e.contextVariables.$first.name,$last:e.contextVariables.$last.name,$even:e.contextVariables.$even.name,$odd:e.contextVariables.$odd.name,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Vn))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Vn))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let p=e.i18n,f=e.empty?.i18n,d=ou(t,n.xref,e),y=PS(n.xref,a?.xref??null,d,o,c,l,p,f,e.startSourceSpan,e.sourceSpan);t.create.push(y);let v=j(e.expression,t.job,qe(e.expression.span,e.sourceSpan)),T=AS(y.xref,y.handle,v,e.sourceSpan);t.update.push(T)}function j(t,e,n){if(t instanceof be)return j(t.ast,e,n);if(t instanceof le){let s=t.receiver instanceof Zt,r=t.receiver instanceof de&&!(t.receiver instanceof Zt),i=t.name==="$any"||t.name==="$event";return r||s&&!i?new vt(t.name):new je(j(t.receiver,e,n),t.name,null,qe(t.span,n))}else{if(t instanceof an)return t.receiver instanceof de?new $s(new Wn(e.root.xref),t.name,j(t.value,e,n),null,qe(t.span,n)):new $s(j(t.receiver,e,n),t.name,j(t.value,e,n),void 0,qe(t.span,n));if(t instanceof Xr)return new Or(j(t.receiver,e,n),j(t.key,e,n),j(t.value,e,n),void 0,qe(t.span,n));if(t instanceof wt){if(t.receiver instanceof de)throw new Error("Unexpected ImplicitReceiver");return new We(j(t.receiver,e,n),t.args.map(s=>j(s,e,n)),void 0,qe(t.span,n))}else{if(t instanceof Je)return m(t.value,void 0,qe(t.span,n));if(t instanceof Hn)switch(t.operator){case"+":return new Bn(Ft.Plus,j(t.expr,e,n),void 0,qe(t.span,n));case"-":return new Bn(Ft.Minus,j(t.expr,e,n),void 0,qe(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof Qe){let s=sx.get(t.operation);if(s===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new X(s,j(t.left,e,n),j(t.right,e,n),void 0,qe(t.span,n))}else{if(t instanceof Zt)return new Wn(e.root.xref);if(t instanceof qn)return new sn(j(t.receiver,e,n),j(t.key,e,n),void 0,qe(t.span,n));if(t instanceof ps)throw new Error("AssertionError: Chain in unknown context");if(t instanceof Qr){let s=t.keys.map((r,i)=>{let o=t.values[i];return new Us(r.key,j(o,e,n),r.quoted)});return new Bt(s,void 0,qe(t.span,n))}else{if(t instanceof Xs)return new ht(t.expressions.map(s=>j(s,e,n)));if(t instanceof Ys)return new pt(j(t.condition,e,n),j(t.trueExp,e,n),j(t.falseExp,e,n),void 0,qe(t.span,n));if(t instanceof Js)return j(t.expression,e,n);if(t instanceof wn)return new rr(e.allocateXrefId(),new Nt,t.name,[j(t.exp,e,n),...t.args.map(s=>j(s,e,n))]);if(t instanceof ln)return new ti(j(t.receiver,e,n),j(t.key,e,n),qe(t.span,n));if(t instanceof ft)return new ei(j(t.receiver,e,n),t.name);if(t instanceof cn)return new fs(j(t.receiver,e,n),t.args.map(s=>j(s,e,n)));if(t instanceof Ue)return new Ji(qe(t.span,n));if(t instanceof Qs)return Pu(j(t.expression,e,n),qe(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}}function iu(t,e,n,s){let r;return e instanceof Se?r=new Ae(e.strings,e.expressions.map(i=>j(i,t,s??null)),Object.keys(Rn(n)?.placeholders??{})):e instanceof xe?r=j(e,t,s??null):r=m(e),r}var _m=new Map([[0,M.Property],[5,M.TwoWayProperty],[1,M.Attribute],[2,M.ClassName],[3,M.StyleProperty],[4,M.Animation]]);function MI(t){return ct(t.tagName??"")[1]===Mr}function Rn(t){if(t==null)return null;if(!(t instanceof et))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function LI(t,e,n){let s=new Array,r=new Set;for(let i of n.attributes){let o=Rr.securityContext(n.name,i.name,!0);s.push(tr(e.xref,M.Attribute,i.name,iu(t.job,i.value,i.i18n),null,o,!0,!1,null,Rn(i.i18n),i.sourceSpan)),i.i18n&&r.add(i.name)}for(let i of n.inputs)r.has(i.name)&&console.error(`On component ${t.job.componentName}, the binding ${i.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),s.push(tr(e.xref,_m.get(i.type),i.name,iu(t.job,io(i.value),i.i18n),i.unit,i.securityContext,!1,!1,null,Rn(i.i18n)??null,i.sourceSpan));t.create.push(s.filter(i=>i?.kind===h.ExtractedAttribute)),t.update.push(s.filter(i=>i?.kind===h.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");i.type===2?t.create.push(sm(e.xref,e.handle,i.name,e.tag,Pm(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Wu(e.xref,e.handle,i.name,e.tag,Yu(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))}s.some(i=>i?.i18nMessage)!==null&&t.create.push(im(t.job.allocateXrefId(),new Nt,e.xref))}function OI(t,e,n,s){let r=new Array;for(let i of n.templateAttrs)if(i instanceof bt){let o=Rr.securityContext(Mr,i.name,!0);r.push(Fo(t,e.xref,1,i.name,i.value,null,o,!0,s,Rn(i.i18n),i.sourceSpan))}else r.push(Fo(t,e.xref,i.type,i.name,io(i.value),i.unit,i.securityContext,!0,s,Rn(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=Rr.securityContext(Mr,i.name,!0);r.push(Fo(t,e.xref,1,i.name,i.value,null,o,!1,s,Rn(i.i18n),i.sourceSpan))}for(let i of n.inputs)r.push(Fo(t,e.xref,i.type,i.name,io(i.value),i.unit,i.securityContext,!1,s,Rn(i.i18n),i.sourceSpan));t.create.push(r.filter(i=>i?.kind===h.ExtractedAttribute)),t.update.push(r.filter(i=>i?.kind===h.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");if(s===Et.NgTemplate&&(i.type===2?t.create.push(sm(e.xref,e.handle,i.name,e.tag,Pm(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Wu(e.xref,e.handle,i.name,e.tag,Yu(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),s===Et.Structural&&i.type!==1){let o=Rr.securityContext(Mr,i.name,!1);t.create.push(zt(e.xref,M.Property,null,i.name,null,null,null,o))}}r.some(i=>i?.i18nMessage)!==null&&t.create.push(im(t.job.allocateXrefId(),new Nt,e.xref))}function Fo(t,e,n,s,r,i,o,a,l,c,p){let f=typeof r=="string";if(l===Et.Structural){if(!a)switch(n){case 0:case 2:case 3:return zt(e,M.Property,null,s,null,null,c,o);case 5:return zt(e,M.TwoWayProperty,null,s,null,null,c,o)}if(!f&&(n===1||n===4))return null}let d=_m.get(n);return l===Et.NgTemplate&&(n===2||n===3||n===1&&!f)&&(d=M.Property),tr(e,d,s,iu(t.job,r,c),i,o,f,a,l,c,p)}function Yu(t,e,n){e=io(e);let s=new Array,r=e instanceof ps?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=r.map(a=>j(a,t.job,n)),o=i.pop();return s.push(...i.map(a=>Tn(new Fe(a,a.sourceSpan)))),s.push(Tn(new Te(o,o.sourceSpan))),s}function Pm(t,e,n){e=io(e);let s=new Array;if(e instanceof ps)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=j(e,t.job,n),i=new vt("$event"),o=new ya(r,i);return s.push(Tn(new Fe(o))),s.push(Tn(new Te(i))),s}function io(t){return t instanceof be?t.ast:t}function km(t,e){FI(t.localRefs);for(let{name:n,value:s}of e.references)t.localRefs.push({name:n,target:s})}function FI(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function qe(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),s=e.start.moveBy(t.end),r=e.fullStart.moveBy(t.start);return new G(n,s,r)}function ou(t,e,n){let s=null;for(let r of n.children)if(!(r instanceof qr)){if(s!==null)return null;(r instanceof ne||r instanceof ie&&r.tagName!==null)&&(s=r)}if(s!==null){for(let i of s.attributes){let o=Rr.securityContext(Mr,i.name,!0);t.update.push(tr(e,M.Attribute,i.name,m(i.value),null,o,!0,!1,null,Rn(i.i18n),i.sourceSpan))}let r=s instanceof ne?s.name:s.tagName;return r===Mr?null:r}return null}var Rm=!1,La=class extends Qc{constructor(){super(pm)}parse(e,n,s){return super.parse(e,n,s)}},Mm="ngPreserveWhitespaces",BI=new Set(["pre","template","textarea","script","style"]),Lm=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,$I=new RegExp(`[^${Lm}]`),UI=new RegExp(`[${Lm}]{2,}`,"g");function VI(t){return t.some(e=>e.name===Mm)}function Om(t){return t.replace(new RegExp(hm,"g")," ")}var au=class{visitElement(e,n){return BI.has(e.name)||VI(e.attrs)?new Pt(e.name,ye(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new Pt(e.name,e.attrs,If(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,n){return e.name!==Mm?e:null}visitText(e,n){let s=e.value.match($I),r=n&&(n.prev instanceof ri||n.next instanceof ri);if(s||r){let i=e.tokens.map(a=>a.type===5?qI(a):a),o=Fm(e.value);return new vs(o,e.sourceSpan,i,e.i18n)}return null}visitComment(e,n){return e}visitExpansion(e,n){return e}visitExpansionCase(e,n){return e}visitBlock(e,n){return new kt(e.name,e.parameters,If(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan)}visitBlockParameter(e,n){return e}};function qI({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[Fm(e[0])],sourceSpan:n}}function Fm(t){return Om(t).replace(UI," ")}function If(t,e){let n=[];return e.forEach((s,r)=>{let i={prev:e[r-1],next:e[r+1]},o=s.visit(t,i);o&&n.push(o)}),n}var Af=".",HI="attr",GI="class",WI="style",jI="*",kl="animate-",lu=class{constructor(e,n,s,r){this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=s,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parsePropertyBinding(r,i,!0,!1,n,n.start.offset,void 0,[],s,n):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return s}createDirectiveHostEventAsts(e,n){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parseEvent(r,i,!1,n,n,[],s,n):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return s}parseInterpolation(e,n,s){let r=n.start.toString(),i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,r,i,s,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}parseInterpolationExpression(e,n){let s=n.start.toString(),r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,s,r);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}parseInlineTemplateBinding(e,n,s,r,i,o,a,l){let c=s.start.offset+jI.length,p=this._parseTemplateBindings(e,n,s,c,r);for(let f of p){let d=Xn(s,f.sourceSpan),y=f.key.source,v=Xn(s,f.key.span);if(f instanceof Yi){let T=f.value?f.value.source:"$implicit",x=f.value?Xn(s,f.value.span):void 0;a.push(new wc(y,T,d,v,x))}else if(f.value){let T=l?d:s,x=Xn(s,f.value.ast.sourceSpan);this._parsePropertyAst(y,f.value,!1,T,v,x,i,o)}else i.push([y,""]),this.parseLiteralAttr(y,null,v,r,void 0,i,o,v)}}_parseTemplateBindings(e,n,s,r,i){let o=s.start.toString();try{let a=this._exprParser.parseTemplateBindings(e,n,o,r,i);return this._reportExpressionParserErrors(a.errors,s),a.warnings.forEach(l=>{this._reportError(l,s,kn.WARNING)}),a.templateBindings}catch(a){return this._reportError(`${a}`,s),[]}}parseLiteralAttr(e,n,s,r,i,o,a,l){Rl(e)?(e=e.substring(1),l!==void 0&&(l=Xn(l,new He(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',s,kn.ERROR),this._parseAnimation(e,n,s,r,l,i,o,a)):a.push(new Ii(e,this._exprParser.wrapLiteralPrimitive(n,"",r),_n.LITERAL_ATTR,s,l,i))}parsePropertyBinding(e,n,s,r,i,o,a,l,c,p){e.length===0&&this._reportError("Property name is missing in binding",i);let f=!1;e.startsWith(kl)?(f=!0,e=e.substring(kl.length),p!==void 0&&(p=Xn(p,new He(p.start.offset+kl.length,p.end.offset)))):Rl(e)&&(f=!0,e=e.substring(1),p!==void 0&&(p=Xn(p,new He(p.start.offset+1,p.end.offset)))),f?this._parseAnimation(e,n,i,o,p,a,l,c):this._parsePropertyAst(e,this.parseBinding(n,s,a||i,o),r,i,p,a,l,c)}parsePropertyInterpolation(e,n,s,r,i,o,a,l){let c=this.parseInterpolation(n,r||s,l);return c?(this._parsePropertyAst(e,c,!1,s,a,r,i,o),!0):!1}_parsePropertyAst(e,n,s,r,i,o,a,l){a.push([e,n.source]),l.push(new Ii(e,n,s?_n.TWO_WAY:_n.DEFAULT,r,i,o))}_parseAnimation(e,n,s,r,i,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",s);let c=this.parseBinding(n||"undefined",!1,o||s,r);a.push([e,c.source]),l.push(new Ii(e,c,_n.ANIMATION,s,i,o))}parseBinding(e,n,s,r){let i=(s&&s.start||"(unknown)").toString();try{let o=n?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,s),o}catch(o){return this._reportError(`${o}`,s),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,n,s=!1,r=!0){if(n.isAnimation)return new ha(n.name,4,J.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,a=null,l=n.name.split(Af),c;if(l.length>1)if(l[0]==HI){a=l.slice(1).join(Af),s||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),c=Ml(this._schemaRegistry,e,a,!0);let p=a.indexOf(":");if(p>-1){let f=a.substring(0,p),d=a.substring(p+1);a=sc(f,d)}o=1}else l[0]==GI?(a=l[1],o=2,c=[J.NONE]):l[0]==WI&&(i=l.length>2?l[2]:null,a=l[1],o=3,c=[J.STYLE]);if(a===null){let p=this._schemaRegistry.getMappedPropName(n.name);a=r?p:n.name,c=Ml(this._schemaRegistry,e,p,!1),o=n.type===_n.TWO_WAY?5:0,s||this._validatePropertyOrAttributeName(p,n.sourceSpan,!1)}return new ha(a,o,c[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,s,r,i,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),Rl(e)?(e=e.slice(1),l!==void 0&&(l=Xn(l,new He(l.start.offset+1,l.end.offset))),this._parseAnimationEvent(e,n,r,i,a,l)):this._parseRegularEvent(e,n,s,r,i,o,a,l)}calcPossibleSecurityContexts(e,n,s){let r=this._schemaRegistry.getMappedPropName(n);return Ml(this._schemaRegistry,e,r,s)}_parseAnimationEvent(e,n,s,r,i,o){let a=Iy(e,[e,""]),l=a[0],c=a[1].toLowerCase(),p=this._parseAction(n,r);i.push(new pa(l,c,1,p,s,r,o)),l.length===0&&this._reportError("Animation event name is missing in binding",s),c?c!=="start"&&c!=="done"&&this._reportError(`The provided animation output phase value "${c}" for "@${l}" is not supported (use start or done)`,s):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,s)}_parseRegularEvent(e,n,s,r,i,o,a,l){let[c,p]=Cy(e,[null,e]),f=this.errors.length,d=this._parseAction(n,i),y=this.errors.length===f;o.push([e,d.source]),s&&y&&!this._isAllowedAssignmentEvent(d)&&this._reportError("Unsupported expression in a two-way binding",r),a.push(new pa(p,c,s?2:0,d,r,i,l))}_parseAction(e,n){let s=(n&&n.start||"(unknown").toString(),r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,s,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof Ue?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}_reportError(e,n,s=kn.ERROR){this.errors.push(new K(n,e,s))}_reportExpressionParserErrors(e,n){for(let s of e)this._reportError(s.message,n)}_validatePropertyOrAttributeName(e,n,s){let r=s?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,n,kn.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof be?this._isAllowedAssignmentEvent(e.ast):e instanceof Js?this._isAllowedAssignmentEvent(e.expression):e instanceof le||e instanceof qn?!0:e instanceof Qe?(e.operation==="&&"||e.operation==="||"||e.operation==="??")&&(e.right instanceof le||e.right instanceof qn):e instanceof Ys||e instanceof Qs}};function Rl(t){return t[0]=="@"}function Ml(t,e,n,s){let r=[];return en.parse(e).forEach(i=>{let o=i.element?[i.element]:t.allKnownElementNames(),a=new Set(i.notSelectors.filter(c=>c.isElementSelector()).map(c=>c.element)),l=o.filter(c=>!a.has(c));r.push(...l.map(c=>t.securityContext(c,n,s)))}),r.length===0?[J.NONE]:Array.from(new Set(r)).sort()}function Xn(t,e){let n=e.start-t.start.offset,s=e.end-t.end.offset;return new G(t.start.moveBy(n),t.end.moveBy(s),t.fullStart.moveBy(n),t.details)}function KI(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(zI);return e===null||e[1]=="package"||e[1]=="asset"}var zI=/^([^:/?#]+):/,YI="select",XI="link",QI="rel",JI="href",ZI="stylesheet",eA="style",tA="script",nA="ngNonBindable",sA="ngProjectAs";function Bm(t){let e=null,n=null,s=null,r=!1,i="";t.attrs.forEach(l=>{let c=l.name.toLowerCase();c==YI?e=l.value:c==JI?n=l.value:c==QI?s=l.value:l.name==nA?r=!0:l.name==sA&&l.value.length>0&&(i=l.value)}),e=rA(e);let o=t.name.toLowerCase(),a=yt.OTHER;return tc(o)?a=yt.NG_CONTENT:o==eA?a=yt.STYLE:o==tA?a=yt.SCRIPT:o==XI&&s==ZI&&(a=yt.STYLESHEET),new cu(a,e,n,r,i)}var yt;(function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"})(yt||(yt={}));var cu=class{constructor(e,n,s,r,i){this.type=e,this.selectAttr=n,this.hrefAttr=s,this.nonBindable=r,this.projectAs=i}};function rA(t){return t===null||t.length===0?"*":t}var iA=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,oA=/^track\s+([\S\s]*)/,aA=/^(as\s)+(.*)/,Xu=/^else[^\S\r\n]+if/,lA=/^let\s+([\S\s]*)/,bf=/(\s*)(\S+)(\s*)/,uu=new Set(["$index","$first","$last","$even","$odd","$count"]);function Nf(t){return t==="empty"}function Df(t){return t==="else"||Xu.test(t)}function cA(t,e,n,s){let r=dA(e),i=[],o=_f(t,r,s);o!==null&&i.push(new Mn(o.expression,ye(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let f of e)if(Xu.test(f.name)){let d=_f(f,r,s);if(d!==null){let y=ye(n,f.children,f.children);i.push(new Mn(d.expression,y,d.expressionAlias,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}}else if(f.name==="else"){let d=ye(n,f.children,f.children);i.push(new Mn(null,d,null,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}let a=i.length>0?i[0].startSourceSpan:t.startSourceSpan,l=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,c=t.sourceSpan,p=i[i.length-1];return p!==void 0&&(c=new G(a.start,p.sourceSpan.end)),{node:new qs(i,c,t.startSourceSpan,l,t.nameSpan),errors:r}}function uA(t,e,n,s){let r=[],i=hA(t,r,s),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new K(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new K(l.sourceSpan,"@empty block cannot have parameters")):a=new Wr(ye(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new K(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(i!==null)if(i.trackBy===null)r.push(new K(t.sourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,c=new G(t.sourceSpan.start,l?.end??t.sourceSpan.end);o=new on(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,ye(n,t.children,t.children),a,c,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:r}}function pA(t,e,n){let s=mA(t),r=t.parameters.length>0?oo(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],a=null;for(let l of t.children){if(!(l instanceof kt))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new na(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?oo(l.parameters[0],n):null,p=new qi(c,ye(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=p:i.push(p)}return a!==null&&i.push(a),{node:new Gr(r,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:s}}function hA(t,e,n){if(t.parameters.length===0)return e.push(new K(t.sourceSpan,"@for loop does not have an expression")),null;let[s,...r]=t.parameters,i=gA(s,e)?.match(iA);if(!i||i[2].trim().length===0)return e.push(new K(s.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=i,l=s.expression.split(" ")[0],c=new G(s.sourceSpan.start,s.sourceSpan.start.moveBy(l.length)),p={itemName:new xt(o,"$implicit",c,c),trackBy:null,expression:oo(s,n,a),context:{}};for(let f of r){let d=f.expression.match(lA);if(d!==null){let v=new G(f.sourceSpan.start.moveBy(d[0].length-d[1].length),f.sourceSpan.end);fA(f.sourceSpan,d[1],v,p.context,e);continue}let y=f.expression.match(oA);if(y!==null){if(p.trackBy!==null)e.push(new K(f.sourceSpan,'@for loop can only have one "track" expression'));else{let v=oo(f,n,y[1]),T=new G(f.sourceSpan.start,f.sourceSpan.start.moveBy(5));p.trackBy={expression:v,keywordSpan:T}}continue}e.push(new K(f.sourceSpan,`Unrecognized @for loop paramater "${f.expression}"`))}for(let f of uu)if(!p.context.hasOwnProperty(f)){let d=new G(t.startSourceSpan.end,t.startSourceSpan.end);p.context[f]=new xt(f,f,d,d)}return p}function fA(t,e,n,s,r){let i=e.split(","),o=n.start;for(let a of i){let l=a.split("="),c=l.length===2?l[0].trim():"",p=l.length===2?l[1].trim():"";if(c.length===0||p.length===0)r.push(new K(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!uu.has(p))r.push(new K(t,`Unknown "let" parameter variable "${p}". The allowed variables are: ${Array.from(uu).join(", ")}`));else if(s.hasOwnProperty(p))r.push(new K(t,`Duplicate "let" parameter variable "${p}"`));else{let[,f,d]=l[0].match(bf)??[],y=f!==void 0&&l.length===2?new G(o.moveBy(f.length),o.moveBy(f.length+d.length)):n,v;if(l.length===2){let[,x,D]=l[1].match(bf)??[];v=x!==void 0?new G(o.moveBy(l[0].length+1+x.length),o.moveBy(l[0].length+1+x.length+D.length)):void 0}let T=new G(y.start,v?.end??y.end);s[p]=new xt(c,p,T,y,v)}o=o.moveBy(a.length+1)}}function dA(t){let e=[],n=!1;for(let s=0;s<t.length;s++){let r=t[s];r.name==="else"?(n?e.push(new K(r.sourceSpan,"Conditional can only have one @else block")):t.length>1&&s<t.length-1?e.push(new K(r.sourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new K(r.sourceSpan,"@else block cannot have parameters")),n=!0):Xu.test(r.name)||e.push(new K(r.sourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function mA(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new K(t.sourceSpan,"@switch block must have exactly one parameter")),e;for(let s of t.children)if(!(s instanceof so||s instanceof vs&&s.value.trim().length===0)){if(!(s instanceof kt)||s.name!=="case"&&s.name!=="default"){e.push(new K(s.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}s.name==="default"?(n?e.push(new K(s.sourceSpan,"@switch block can only have one @default block")):s.parameters.length>0&&e.push(new K(s.sourceSpan,"@default block cannot have parameters")),n=!0):s.name==="case"&&s.parameters.length!==1&&e.push(new K(s.sourceSpan,"@case block must have exactly one parameter"))}return e}function oo(t,e,n){let s,r;return typeof n=="string"?(s=Math.max(0,t.expression.lastIndexOf(n)),r=s+n.length):(s=0,r=t.expression.length),e.parseBinding(t.expression.slice(s,r),!1,t.sourceSpan,t.sourceSpan.start.offset+s)}function _f(t,e,n){if(t.parameters.length===0)return e.push(new K(t.sourceSpan,"Conditional block does not have an expression")),null;let s=oo(t.parameters[0],n),r=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],a=o.expression.match(aA);if(a===null)e.push(new K(o.sourceSpan,`Unrecognized conditional paramater "${o.expression}"`));else if(t.name!=="if")e.push(new K(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(r!==null)e.push(new K(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim(),c=o.sourceSpan.start.moveBy(a[1].length),p=new G(c,c.moveBy(l.length));r=new xt(l,l,p,p)}}return{expression:s,expressionAlias:r}}function gA(t,e){let n=t.expression,s=/^\s$/,r=0,i=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")i=a+1,r++;else{if(s.test(l))continue;break}}if(r===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,r--,r===0)break}else{if(s.test(l))continue;break}}return r!==0?(e.push(new K(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var vA=/^\d+\.?\d*(ms|s)?$/,yA=/^\s$/,Pf=new Map([[mn,gt],[kr,Ar],[Ln,Xt]]),ot;(function(t){t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport"})(ot||(ot={}));function kf({expression:t,sourceSpan:e},n,s,r){let i=t.indexOf("when"),o=new G(e.start.moveBy(i),e.start.moveBy(i+4)),a=$m(t,e);if(i===-1)r.push(new K(e,'Could not find "when" keyword in expression'));else{let l=ao(t,i+1),c=n.parseBinding(t.slice(l),!1,e,e.start.offset+l);Um("when",s,r,new Hr(c,e,a,o))}}function Rf({expression:t,sourceSpan:e},n,s,r){let i=t.indexOf("on"),o=new G(e.start.moveBy(i),e.start.moveBy(i+2)),a=$m(t,e);if(i===-1)s.push(new K(e,'Could not find "on" keyword in expression'));else{let l=ao(t,i+1);new pu(t,l,e,n,s,r,a,o).parse()}}function $m(t,e){return t.startsWith("prefetch")?new G(e.start,e.start.moveBy(8)):null}var pu=class{constructor(e,n,s,r,i,o,a,l){this.expression=e,this.start=n,this.span=s,this.triggers=r,this.errors=i,this.placeholder=o,this.prefetchSpan=a,this.onSourceSpan=l,this.index=0,this.tokens=new no().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Mt))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Ln)){this.advance();let n=this.errors.length,s=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,s),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let s=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new G(s,s.moveBy(e.strValue.length)),i=s.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=new G(o?this.span.start:s,i);try{switch(e.toString()){case ot.IDLE:this.trackTrigger("idle",EA(n,r,c,l,a));break;case ot.TIMER:this.trackTrigger("timer",SA(n,r,c,this.prefetchSpan,this.onSourceSpan));break;case ot.INTERACTION:this.trackTrigger("interaction",TA(n,r,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case ot.IMMEDIATE:this.trackTrigger("immediate",xA(n,r,c,this.prefetchSpan,this.onSourceSpan));break;case ot.HOVER:this.trackTrigger("hover",wA(n,r,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case ot.VIEWPORT:this.trackTrigger("viewport",CA(n,r,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(p){this.error(e,p.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Ln))return this.unexpectedToken(this.token()),e;this.advance();let n=[],s="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(Xt)&&n.length===0){s.length&&e.push(s);break}if(r.type===Y.Character&&Pf.has(r.numValue)&&n.push(Pf.get(r.numValue)),n.length>0&&r.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&r.isCharacter(Mt)&&s.length>0){e.push(s),s="",this.advance();continue}s+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Xt)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Mt)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){Um(e,this.triggers,this.errors,n)}error(e,n){let s=this.span.start.moveBy(this.start+e.index),r=s.moveBy(e.end-e.index);this.errors.push(new K(new G(s,r),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function Um(t,e,n,s){e[t]?n.push(new K(s.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=s}function EA(t,e,n,s,r){if(t.length>0)throw new Error(`"${ot.IDLE}" trigger cannot have parameters`);return new rc(e,n,s,r)}function SA(t,e,n,s,r){if(t.length!==1)throw new Error(`"${ot.TIMER}" trigger must have exactly one parameter`);let i=Oa(t[0]);if(i===null)throw new Error(`Could not parse time value of trigger "${ot.TIMER}"`);return new oc(i,e,n,s,r)}function xA(t,e,n,s,r){if(t.length>0)throw new Error(`"${ot.IMMEDIATE}" trigger cannot have parameters`);return new ic(e,n,s,r)}function wA(t,e,n,s,r,i){return Qu(ot.HOVER,t,i),new Zo(t[0]??null,e,n,s,r)}function TA(t,e,n,s,r,i){return Qu(ot.INTERACTION,t,i),new ea(t[0]??null,e,n,s,r)}function CA(t,e,n,s,r,i){return Qu(ot.VIEWPORT,t,i),new ta(t[0]??null,e,n,s,r)}function Qu(t,e,n){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`);if(e.length===0){if(n===null)throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(n.children.length!==1||!(n.children[0]instanceof ne))throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function ao(t,e=0){let n=!1;for(let s=e;s<t.length;s++)if(yA.test(t[s]))n=!0;else if(n)return s;return-1}function Oa(t){let e=t.match(vA);if(!e)return null;let[n,s]=e;return parseFloat(n)*(s==="s"?1e3:1)}var IA=/^prefetch\s+when\s/,AA=/^prefetch\s+on\s/,Vm=/^minimum\s/,bA=/^after\s/,NA=/^when\s/,DA=/^on\s/;function hu(t){return t==="placeholder"||t==="loading"||t==="error"}function _A(t,e,n,s){let r=[],{placeholder:i,loading:o,error:a}=PA(e,r,n),{triggers:l,prefetchTriggers:c}=LA(t.parameters,s,r,i),p=t.endSourceSpan,f=t.sourceSpan.end;if(e.length>0){let v=e[e.length-1];p=v.endSourceSpan,f=v.sourceSpan.end}let d=new G(t.sourceSpan.start,f);return{node:new Un(ye(n,t.children,t.children),l,c,i,o,a,t.nameSpan,d,t.sourceSpan,t.startSourceSpan,p,t.i18n),errors:r}}function PA(t,e,n){let s=null,r=null,i=null;for(let o of t)try{if(!hu(o.name)){e.push(new K(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":s!==null?e.push(new K(o.startSourceSpan,"@defer block can only have one @placeholder block")):s=kA(o,n);break;case"loading":r!==null?e.push(new K(o.startSourceSpan,"@defer block can only have one @loading block")):r=RA(o,n);break;case"error":i!==null?e.push(new K(o.startSourceSpan,"@defer block can only have one @error block")):i=MA(o,n);break}}catch(a){e.push(new K(o.startSourceSpan,a.message))}return{placeholder:s,loading:r,error:i}}function kA(t,e){let n=null;for(let s of t.parameters)if(Vm.test(s.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=Oa(s.expression.slice(ao(s.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');n=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${s.expression}"`);return new $i(ye(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function RA(t,e){let n=null,s=null;for(let r of t.parameters)if(bA.test(r.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=Oa(r.expression.slice(ao(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(Vm.test(r.expression)){if(s!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=Oa(r.expression.slice(ao(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');s=i}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new Ui(ye(e,t.children,t.children),n,s,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function MA(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new Vi(ye(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function LA(t,e,n,s){let r={},i={};for(let o of t)NA.test(o.expression)?kf(o,e,r,n):DA.test(o.expression)?Rf(o,r,n,s):IA.test(o.expression)?kf(o,e,i,n):AA.test(o.expression)?Rf(o,i,n,s):n.push(new K(o.sourceSpan,"Unrecognized trigger"));return{triggers:r,prefetchTriggers:i}}var OA=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Mf=1,Lf=2,Of=3,Ff=4,Bf=5,FA=6,Ei=7,Qn={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},$f="*";function BA(t,e,n){let s=new fu(e,n),r=ye(s,t,t),i=e.errors.concat(s.errors),o={nodes:r,errors:i,styleUrls:s.styleUrls,styles:s.styles,ngContentSelectors:s.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=s.commentNodes),o}var fu=class{constructor(e,n){this.bindingParser=e,this.options=n,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1,this.processedNodes=new Set}visitElement(e){let n=Gi(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let s=Bm(e);if(s.type===yt.SCRIPT)return null;if(s.type===yt.STYLE){let x=qA(e);return x!==null&&this.styles.push(x),null}else if(s.type===yt.STYLESHEET&&KI(s.hrefAttr))return this.styleUrls.push(s.hrefAttr),null;let r=Wy(e.name),i=[],o=[],a=[],l=[],c=[],p={},f=[],d=[],y=!1;for(let x of e.attrs){let D=!1,O=Uf(x.name),H=!1;if(x.i18n&&(p[x.name]=x.i18n),O.startsWith($f)){y&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",x.sourceSpan),H=!0,y=!0;let se=x.value,ae=O.substring($f.length),tt=[],nt=x.valueSpan?x.valueSpan.start.offset:x.sourceSpan.start.offset+x.name.length;this.bindingParser.parseInlineTemplateBinding(ae,se,x.sourceSpan,nt,[],f,tt,!0),d.push(...tt.map(ke=>new xt(ke.name,ke.value,ke.sourceSpan,ke.keySpan,ke.valueSpan)))}else D=this.parseAttribute(r,x,[],i,o,a,l);!D&&!H&&c.push(this.visitAttribute(x))}let v;s.nonBindable?v=ye($A,e.children).flat(1/0):v=ye(this,e.children,e.children);let T;if(s.type===yt.NG_CONTENT){e.children&&!e.children.every(O=>UA(O)||VA(O))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);let x=s.selectAttr,D=e.attrs.map(O=>this.visitAttribute(O));T=new sa(x,D,e.sourceSpan,e.i18n),this.ngContentSelectors.push(x)}else if(r){let x=this.extractAttributes(e.name,i,p);T=new ie(e.name,c,x.bound,o,[],v,l,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let x=this.extractAttributes(e.name,i,p);T=new ne(e.name,c,x.bound,o,v,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(y){let x=this.extractAttributes("ng-template",f,p),D=[];x.literal.forEach(ae=>D.push(ae)),x.bound.forEach(ae=>D.push(ae));let O=T instanceof ne?{attributes:T.attributes,inputs:T.inputs,outputs:T.outputs}:{attributes:[],inputs:[],outputs:[]},H=r&&n?void 0:e.i18n,se=T instanceof ie?null:T.name;T=new ie(se,O.attributes,O.inputs,O.outputs,D,[T],[],d,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,H)}return n&&(this.inI18nBlock=!1),T}visitAttribute(e){return new bt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Gi(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,s={},r={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(Xy)){let a=i.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);s[a]=new Sn(l,o.sourceSpan)}else r[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new Hs(s,r,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new qr(e.value||"",e.sourceSpan)),null}visitBlockParameter(){return null}visitBlock(e,n){let s=Array.isArray(n)?n.indexOf(e):-1;if(s===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=_A(e,this.findConnectedBlocks(s,n,hu),this,this.bindingParser);break;case"switch":r=pA(e,this,this.bindingParser);break;case"for":r=uA(e,this.findConnectedBlocks(s,n,Nf),this,this.bindingParser);break;case"if":r=cA(e,this.findConnectedBlocks(s,n,Df),this,this.bindingParser);break;default:let i;hu(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):Nf(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Df(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,r={node:new na(e.name,e.sourceSpan,e.nameSpan),errors:[new K(e.sourceSpan,i)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,n,s){let r=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(o instanceof vs&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof kt)||!s(o.name))break;r.push(o),this.processedNodes.add(o)}return r}extractAttributes(e,n,s){let r=[],i=[];return n.forEach(o=>{let a=s[o.name];if(o.isLiteral)i.push(new bt(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);r.push($t.fromBoundElementProperty(l,a))}}),{bound:r,literal:i}}parseAttribute(e,n,s,r,i,o,a){let l=Uf(n.name),c=n.value,p=n.sourceSpan,f=n.valueSpan?n.valueSpan.start.offset:p.start.offset;function d(D,O,H){let se=n.name.length-l.length,ae=D.start.moveBy(O.length+se),tt=ae.moveBy(H.length);return new G(ae,tt,ae,H)}let y=l.match(OA);if(y){if(y[Mf]!=null){let D=y[Ei],O=d(p,y[Mf],D);this.bindingParser.parsePropertyBinding(D,c,!1,!1,p,f,n.valueSpan,s,r,O)}else if(y[Lf])if(e){let D=y[Ei],O=d(p,y[Lf],D);this.parseVariable(D,c,p,O,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',p);else if(y[Of]){let D=y[Ei],O=d(p,y[Of],D);this.parseReference(D,c,p,O,n.valueSpan,a)}else if(y[Ff]){let D=[],O=y[Ei],H=d(p,y[Ff],O);this.bindingParser.parseEvent(O,c,!1,p,n.valueSpan||p,s,D,H),Ll(D,i)}else if(y[Bf]){let D=y[Ei],O=d(p,y[Bf],D);this.bindingParser.parsePropertyBinding(D,c,!1,!0,p,f,n.valueSpan,s,r,O),this.parseAssignmentEvent(D,c,p,n.valueSpan,s,i,O)}else if(y[FA]){let D=d(p,"",l);this.bindingParser.parseLiteralAttr(l,c,p,f,n.valueSpan,s,r,D)}return!0}let v=null;if(l.startsWith(Qn.BANANA_BOX.start)?v=Qn.BANANA_BOX:l.startsWith(Qn.PROPERTY.start)?v=Qn.PROPERTY:l.startsWith(Qn.EVENT.start)&&(v=Qn.EVENT),v!==null&&l.endsWith(v.end)&&l.length>v.start.length+v.end.length){let D=l.substring(v.start.length,l.length-v.end.length),O=d(p,v.start,D);if(v.start===Qn.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(D,c,!1,!0,p,f,n.valueSpan,s,r,O),this.parseAssignmentEvent(D,c,p,n.valueSpan,s,i,O);else if(v.start===Qn.PROPERTY.start)this.bindingParser.parsePropertyBinding(D,c,!1,!1,p,f,n.valueSpan,s,r,O);else{let H=[];this.bindingParser.parseEvent(D,c,!1,p,n.valueSpan||p,s,H,O),Ll(H,i)}return!0}let T=d(p,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,p,n.valueSpan,s,r,T,n.valueTokens??null)}_visitTextWithInterpolation(e,n,s,r){let i=Om(e),o=this.bindingParser.parseInterpolation(i,n,s);return o?new Sn(o,n,r):new Lt(i,n)}parseVariable(e,n,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',s):e.length===0&&this.reportError("Variable does not have a name",s),o.push(new xt(e,n,s,r,i))}parseReference(e,n,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',s):e.length===0?this.reportError("Reference does not have a name",s):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,s),o.push(new xn(e,n,s,r,i))}parseAssignmentEvent(e,n,s,r,i,o,a){let l=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,s,r||s,i,l,a),Ll(l,o)}reportError(e,n,s=kn.ERROR){this.errors.push(new K(n,e,s))}},du=class{visitElement(e){let n=Bm(e);if(n.type===yt.SCRIPT||n.type===yt.STYLE||n.type===yt.STYLESHEET)return null;let s=ye(this,e.children,null);return new ne(e.name,ye(this,e.attrs),[],[],s,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new bt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Lt(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let s=[new Lt(e.startSourceSpan.toString(),e.startSourceSpan),...ye(this,e.children)];return e.endSourceSpan!==null&&s.push(new Lt(e.endSourceSpan.toString(),e.endSourceSpan)),s}visitBlockParameter(e,n){return null}},$A=new du;function Uf(t){return/^data-/i.test(t)?t.substring(5):t}function Ll(t,e){e.push(...t.map(n=>Vs.fromParsedEvent(n)))}function UA(t){return t instanceof vs&&t.value.trim().length==0}function VA(t){return t instanceof so}function qA(t){return t.children.length!==1||!(t.children[0]instanceof vs)?null:t.children[0].value}var jt;(function(t){t[t.ELEMENT=0]="ELEMENT",t[t.TEMPLATE=1]="TEMPLATE"})(jt||(jt={}));function HA(){return{getUniqueId:tE(),icus:new Map}}var mu=class t{constructor(e,n,s=0,r=null,i,o){this.index=e,this.ref=n,this.level=s,this.templateIndex=r,this.meta=i,this.registry=o,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=o||HA(),this.id=this._registry.getUniqueId()}appendTag(e,n,s,r){if(n.isVoid&&r)return;let i=n.isVoid||!r?n.startName:n.closeName,o={type:e,index:s,ctx:this.id,isVoid:n.isVoid,closed:r};wi(this.placeholders,i,o)}appendBlockPart(e,n,s){let r=s?e.closeName:e.startName,i={type:jt.TEMPLATE,index:n,ctx:this.id,closed:s};wi(this.placeholders,r,i)}get icus(){return this._registry.icus}get isRoot(){return this.level===0}get isResolved(){return this._unresolvedCtxCount===0}getSerializedPlaceholders(){let e=new Map;return this.placeholders.forEach((n,s)=>e.set(s,n.map(GA))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,n){wi(this._registry.icus,e,n)}appendBoundText(e){wd(e,this.bindings.size,this.id).forEach((s,r)=>wi(this.placeholders,r,...s))}appendTemplate(e,n){this.appendTag(jt.TEMPLATE,e,n,!1),this.appendTag(jt.TEMPLATE,e,n,!0),this._unresolvedCtxCount++}appendBlock(e,n){this.appendBlockPart(e,n,!1),this.appendBlockPart(e,n,!0),this._unresolvedCtxCount++}appendElement(e,n,s){this.appendTag(jt.ELEMENT,e,n,s)}appendProjection(e,n){this.appendTag(jt.ELEMENT,e,n,!1),this.appendTag(jt.ELEMENT,e,n,!0)}forkChildContext(e,n,s){return new t(e,this.ref,this.level+1,n,s,this._registry)}reconcileChildContext(e){["start","close"].forEach(s=>{let r=e.meta[`${s}Name`],o=(this.placeholders.get(r)||[]).find(qf(this.id,e.templateIndex));o&&(o.ctx=e.id)}),e.placeholders.forEach((s,r)=>{let i=this.placeholders.get(r);if(!i){this.placeholders.set(r,s);return}let o=i.findIndex(qf(e.id,e.templateIndex));if(o>=0){let a=r.startsWith("CLOSE");if(r.endsWith("NG-TEMPLATE"))i.splice(o+(a?0:1),0,...s);else{let c=a?s.length-1:0;s[c].tmpl=i[o],i.splice(o,1,...s)}}else i.push(...s);this.placeholders.set(r,i)}),this._unresolvedCtxCount--}};function Ol(t,e,n,s){return Wa(`${s?"/":""}${t}${e}`,n)}function Vf(t,{index:e,ctx:n,isVoid:s},r){return s?Ol(t,e,n)+Ol(t,e,n,!0):Ol(t,e,n,r)}function qf(t,e){return n=>typeof n=="object"&&n.type===jt.TEMPLATE&&n.index===e&&n.ctx===t}function GA(t){let e=(s,r)=>Vf("#",s,r),n=(s,r)=>Vf("*",s,r);switch(t.type){case jt.ELEMENT:return t.closed?e(t,!0)+(t.tmpl?n(t.tmpl,!0):""):t.tmpl?n(t.tmpl)+e(t)+(t.isVoid?n(t.tmpl,!0):""):e(t);case jt.TEMPLATE:return n(t,t.closed);default:return t}}var WA="!important",Fa=2,Ba=class{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let n=null,s=e.name;switch(e.type){case 0:n=this.registerInputBasedOnName(s,e.value,e.sourceSpan);break;case 3:n=this.registerStyleInput(s,!1,e.value,e.sourceSpan,e.unit);break;case 2:n=this.registerClassInput(s,!1,e.value,e.sourceSpan);break}return!!n}registerInputBasedOnName(e,n,s){let r=null,i=e.substring(0,6),o=e==="style"||i==="style."||i==="style!";if(o||!o&&(e==="class"||i==="class."||i==="class!")){let l=e.charAt(5)!==".",c=e.slice(l?5:6);o?r=this.registerStyleInput(c,l,n,s):r=this.registerClassInput(c,l,n,s)}return r}registerStyleInput(e,n,s,r,i){if(Wf(s))return null;YA(e)||(e=Ku(e));let{property:o,hasOverrideFlag:a,suffix:l}=Gf(e);i=typeof i=="string"&&i.length!==0?i:l;let c={name:o,suffix:i,value:s,sourceSpan:r,hasOverrideFlag:a};return n?this._styleMapInput=c:((this._singleStyleInputs=this._singleStyleInputs||[]).push(c),Hf(this._stylesIndex,o)),this._lastStylingInput=c,this._firstStylingInput=this._firstStylingInput||c,this._checkForPipes(s),this.hasBindings=!0,c}registerClassInput(e,n,s,r){if(Wf(s))return null;let{property:i,hasOverrideFlag:o}=Gf(e),a={name:i,value:s,sourceSpan:r,hasOverrideFlag:o,suffix:null};return n?this._classMapInput=a:((this._singleClassInputs=this._singleClassInputs||[]).push(a),Hf(this._classesIndex,i)),this._lastStylingInput=a,this._firstStylingInput=this._firstStylingInput||a,this._checkForPipes(s),this.hasBindings=!0,a}_checkForPipes(e){e instanceof be&&e.ast instanceof wn&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=vm(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(m(1));for(let n=0;n<this._initialClassValues.length;n++)e.push(m(this._initialClassValues[n]))}if(this._initialStyleValues.length){e.push(m(2));for(let n=0;n<this._initialStyleValues.length;n+=2)e.push(m(this._initialStyleValues[n]),m(this._initialStyleValues[n+1]))}}assignHostAttrs(e,n){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),n.set("hostAttrs",q(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,n,s){let r=Fa,i=s.value.visit(e),o;return i instanceof Se?(r+=i.expressions.length,o=n?jA(i):KA(i)):o=n?u.classMap:u.styleMap,{reference:o,calls:[{supportsInterpolation:!0,sourceSpan:s.sourceSpan,allocateBindingSlots:r,params:a=>{let l=a(i);return Array.isArray(l)?l:[l]}}]}}_buildSingleInputs(e,n,s,r,i){let o=[];return n.forEach(a=>{let l=o[o.length-1],c=a.value.visit(s),p=e,f=Fa;c instanceof Se&&(f+=c.expressions.length,r&&(p=r(c)));let d={sourceSpan:a.sourceSpan,allocateBindingSlots:f,supportsInterpolation:!!r,params:y=>{let v=[];v.push(m(a.name));let T=y(c);return Array.isArray(T)?v.push(...T):v.push(T),!i&&a.suffix!==null&&v.push(m(a.suffix)),v}};l&&l.reference===p?l.calls.push(d):o.push({reference:p,calls:[d]})}),o}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(u.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(u.styleProp,this._singleStyleInputs,e,zA,!1):[]}buildUpdateLevelInstructions(e){let n=[];if(this.hasBindings){let s=this.buildStyleMapInstruction(e);s&&n.push(s);let r=this.buildClassMapInstruction(e);r&&n.push(r),n.push(...this._buildStyleInputs(e)),n.push(...this._buildClassInputs(e))}return n}};function Hf(t,e){t.has(e)||t.set(e,t.size)}function Gf(t){let e=!1,n=t.indexOf(WA);n!==-1&&(t=n>0?t.substring(0,n):"",e=!0);let s=null,r=t,i=t.lastIndexOf(".");return i>0&&(s=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:s,hasOverrideFlag:e}}function jA(t){switch(or(t)){case 1:return u.classMap;case 3:return u.classMapInterpolate1;case 5:return u.classMapInterpolate2;case 7:return u.classMapInterpolate3;case 9:return u.classMapInterpolate4;case 11:return u.classMapInterpolate5;case 13:return u.classMapInterpolate6;case 15:return u.classMapInterpolate7;case 17:return u.classMapInterpolate8;default:return u.classMapInterpolateV}}function KA(t){switch(or(t)){case 1:return u.styleMap;case 3:return u.styleMapInterpolate1;case 5:return u.styleMapInterpolate2;case 7:return u.styleMapInterpolate3;case 9:return u.styleMapInterpolate4;case 11:return u.styleMapInterpolate5;case 13:return u.styleMapInterpolate6;case 15:return u.styleMapInterpolate7;case 17:return u.styleMapInterpolate8;default:return u.styleMapInterpolateV}}function zA(t){switch(or(t)){case 1:return u.styleProp;case 3:return u.stylePropInterpolate1;case 5:return u.stylePropInterpolate2;case 7:return u.stylePropInterpolate3;case 9:return u.stylePropInterpolate4;case 11:return u.stylePropInterpolate5;case 13:return u.stylePropInterpolate6;case 15:return u.stylePropInterpolate7;case 17:return u.stylePropInterpolate8;default:return u.stylePropInterpolateV}}function YA(t){return t.startsWith("--")}function Wf(t){return t instanceof be&&(t=t.ast),t instanceof Ue}var XA="select",QA="ngProjectAs",gu=new Set(["$event"]),Bo="ng-template",Fl=new Map([["window",u.resolveWindow],["document",u.resolveDocument],["body",u.resolveBody]]),JA=[" ",`
`,"\r","	"];function Es(t,e){return ci(R(po).bitwiseAnd(m(t),null,!1),e)}function qm(t,e=null,n=null){let{type:s,name:r,target:i,phase:o,handler:a}=t;if(i&&!Fl.has(i))throw new Error(`Unexpected global target '${i}' defined for '${r}' event.
        Supported list of global targets: ${Array.from(Fl.keys())}.`);let l="$event",c=new Set,p=n===null||n.bindingLevel===0?R(rt):n.getOrCreateSharedContextVar(0),f=t.type===2?BE(n,p,a,"b",t.handlerSpan,c,gu):FE(n,p,a,"b",t.handlerSpan,c,gu),d=[],y=n?.variableDeclarations(),v=n?.restoreViewStatement();if(y&&d.push(...y),d.push(...f),v){d.unshift(v);let se=d[d.length-1];se instanceof Te?d[d.length-1]=new Te(Gs(se.value.sourceSpan,u.resetView,[se.value])):d.push(new Fe(Gs(null,u.resetView,[])))}let T=s===1?My(r,o):r,x=e&&yn(e),D=[];c.has(l)&&D.push(new ue(l,Vt));let O=rn(D,d,Ze,null,x),H=[m(T),O];return i&&H.push(m(!1),A(Fl.get(i))),H}function ZA(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}var vu=class{constructor(e,n,s,r){this.name=e,this.index=n,this.scope=s,this.visitor=r}getConstCount(){return this.visitor.getConstCount()}getVarCount(){return this.visitor.getVarCount()}},yu=class t{constructor(e,n,s=0,r,i,o,a,l,c,p,f,d,y,v=ZA()){this.constantPool=e,this.level=s,this.contextName=r,this.i18nContext=i,this.templateIndex=o,this.templateName=a,this._namespace=l,this.i18nUseExternalIds=p,this.deferBlocks=f,this.elementLocations=d,this.allDeferrableDepsFn=y,this._constants=v,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._controlFlowTempVariable=null,this._nestedTemplateFns=[],this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=At,this.visitVariable=At,this.visitTextAttribute=At,this.visitBoundAttribute=At,this.visitBoundEvent=At,this.visitDeferredTrigger=At,this.visitDeferredBlockError=At,this.visitDeferredBlockLoading=At,this.visitDeferredBlockPlaceholder=At,this.visitIfBlockBranch=At,this.visitSwitchBlockCase=At,this.visitForLoopBlockEmpty=At,this.visitUnknownBlock=At,this._bindingScope=n.nestedScope(s),this.fileBasedI18nSuffix=c.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new $a(e,()=>this.allocateDataSlot(),T=>this.allocatePureFunctionSlots(T),(T,x,D,O)=>{this._bindingScope.set(this.level,x,O),this.creationInstruction(null,u.pipe,[m(D),m(T)])})}buildTemplateFunction(e,n,s=0,r,i){this._ngContentSelectorsOffset=s,this._namespace!==u.namespaceHTML&&this.creationInstruction(null,this._namespace),n.forEach(v=>{let T=i?.[v.name];this.registerContextVariables(v.name,v.value),T&&this.registerContextVariables(T,v.value)});let o=this.i18nContext||Gi(r)&&!xi(r)&&!(lb(e)&&e[0].i18n===r),a=Bl(e);if(o&&this.i18nStart(null,r,a),Ci(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(v=>v()),this.level===0&&this._ngContentReservedSlots.length){let v=[];if(this._ngContentReservedSlots.length>1||this._ngContentReservedSlots[0]!=="*"){let T=this._ngContentReservedSlots.map(x=>x!=="*"?lo(x):x);v.push(this.constantPool.getConstLiteral(Yt(T),!0))}this.creationInstruction(null,u.projectionDef,v,!0)}o&&this.i18nEnd(null,a);let l=oa(this._creationCodeFns),c=oa(this._updateCodeFns),p=this._bindingScope.viewSnapshotStatements(),f=this._bindingScope.variableDeclarations().concat(this._tempVariables),d=l.length>0?[Es(1,p.concat(l))]:[],y=c.length>0?[Es(2,f.concat(c))]:[];return rn([new ue(po,ai),new ue(rt,null)],[...this._prefixCode,...d,...y],Ze,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}maybeRestoreView(){this._bindingScope.maybeRestoreView()}i18nTranslate(e,n={},s,r){let i=s||this.i18nGenerateMainBlockVar(),o=this.i18nGenerateClosureVar(e.id),a=pb(e,i,o,n,r);return this._constants.prepareStatements.push(...a),i}registerContextVariables(e,n){let s=this._bindingScope.freshReferenceName(),r=this.level,i=n===uc,o=R(e+s);this._bindingScope.set(r,e,a=>i&&a.bindingLevel===r&&!a.isListenerScope()?R(rt):o,1,(a,l)=>{let c;if(a.bindingLevel===r)if(a.isListenerScope()&&a.hasRestoreViewVariable())c=R(Cd),a.notifyRestoredViewContextUse();else{if(i)return[];c=R(rt)}else{let p=a.getSharedContextName(r);c=p||Eu(l)}return[o.set(i?c:c.prop(n||rE)).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(n=>this.i18n.appendBinding(n))}i18nBindProps(e){let n={};return Object.keys(e).forEach(s=>{let r=e[s];if(r instanceof Lt)n[s]=m(r.value);else{let i=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(i),i instanceof Se){let{strings:o,expressions:a}=i,{id:l,bindings:c}=this.i18n,p=eE(o,c.size,l);this.i18nAppendBindings(a),n[s]=m(p)}}}),n}i18nGenerateMainBlockVar(){return R(this.constantPool.uniqueName(Yy))}i18nGenerateClosureVar(e){let n,s=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){let r=ia("EXTERNAL_"),i=this.constantPool.uniqueName(s);n=`${r}${yn(e)}$$${i}`}else{let r=ia(s);n=this.constantPool.uniqueName(r)}return R(n)}i18nUpdateRef(e){let{icus:n,meta:s,isRoot:r,isResolved:i,isEmitted:o}=e;if(r&&i&&!o&&!xi(s)){e.isEmitted=!0;let a=e.getSerializedPlaceholders(),l={},c=a.size?vh(a):{};n.size&&n.forEach((d,y)=>{if(d.length===1)c[y]=d[0];else{let v=Wa(`${Qy}${y}`);c[y]=m(v),l[y]=q(d)}});let p=Array.from(a.values()).some(d=>d.length>1)||Object.keys(l).length,f;p&&(f=d=>{let y=[d];return Object.keys(l).length&&y.push(to(l,!0)),Gs(null,u.i18nPostprocess,y)}),this.i18nTranslate(s,c,e.ref,f)}}i18nStart(e=null,n,s){let r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,n):new mu(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,n);let{id:i,ref:o}=this.i18n,a=[m(r),this.addToConsts(o)];i>0&&a.push(m(i)),this.creationInstruction(e,s?u.i18n:u.i18nStart,a)}i18nEnd(e=null,n){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);let{index:s,bindings:r}=this.i18n;if(r.size){for(let i of r)this.updateInstructionWithAdvance(this.getConstCount()-1,e,u.i18nExp,()=>this.convertPropertyBinding(i));this.updateInstruction(e,u.i18nApply,[m(s)])}n||this.creationInstruction(e,u.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,n,s){let r=!1,i=[];if(n.forEach(o=>{let a=o.i18n,l=o.value.visit(this._valueConverter);if(this.allocateBindingSlots(l),l instanceof Se){let c=wd(a),p=vh(c);i.push(m(o.name),this.i18nTranslate(a,p)),l.expressions.forEach(f=>{r=!0,this.updateInstructionWithAdvance(e,s,u.i18nExp,()=>this.convertPropertyBinding(f))})}}),i.length>0){let o=m(this.allocateDataSlot()),a=this.addToConsts(q(i));this.creationInstruction(s,u.i18nAttributes,[o,a]),r&&this.updateInstruction(s,u.i18nApply,[o])}}getNamespaceInstruction(e){switch(e){case"math":return u.namespaceMathML;case"svg":return u.namespaceSVG;default:return u.namespaceHTML}}addNamespaceInstruction(e,n){this._namespace=e,this.creationInstruction(n.startSourceSpan,e)}interpolatedUpdateInstruction(e,n,s,r,i,o){this.updateInstructionWithAdvance(n,r.sourceSpan,e,()=>[m(s),...this.getUpdateInstructionArguments(i),...o])}visitContent(e){let n=this.allocateDataSlot(),s=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[m(n)];this._ngContentReservedSlots.push(e.selector);let i=e.attributes.filter(a=>a.name.toLowerCase()!==XA),o=this.getAttributeExpressions(e.name,i,[],[]);o.length>0?r.push(m(s),q(o)):s!==0&&r.push(m(s)),this.creationInstruction(e.sourceSpan,u.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,n)}visitElement(e){let n=this.allocateDataSlot(),s=new Ba(null);this.elementLocations.set(e,{index:n,level:this.level});let r=!1,i=Gi(e.i18n)&&!xi(e.i18n),o=[],[a,l]=ct(e.name),c=ec(e.name);for(let V of e.attributes){let{name:Be,value:U}=V;Be===iE?r=!0:Be==="style"?s.registerStyleAttr(U):Be==="class"?s.registerClassAttr(U):o.push(V)}let p=[m(n)];c||p.push(m(l));let f=[],d=[];e.inputs.forEach(V=>{s.registerBoundInput(V)||((V.type===0||V.type===5)&&V.i18n?d.push(V):f.push(V))});let y=this.getAttributeExpressions(e.name,o,f,e.outputs,s,[],d);p.push(this.addAttrsToConsts(y));let v=this.prepareRefsArray(e.references);p.push(this.addToConsts(v));let T=this._namespace,x=this.getNamespaceInstruction(a);x!==T&&this.addNamespaceInstruction(x,e),this.i18n&&this.i18n.appendElement(e.i18n,n);let D=!i&&this.i18n?!Bl(e.children):e.children.length>0,O=!s.hasBindingsWithPipes&&e.outputs.length===0&&d.length===0&&!D,H=!O&&Bl(e.children);if(O)this.creationInstruction(e.sourceSpan,c?u.elementContainer:u.element,mr(p));else{if(this.creationInstruction(e.startSourceSpan,c?u.elementContainerStart:u.elementStart,mr(p)),r&&this.creationInstruction(e.startSourceSpan,u.disableBindings),d.length>0&&this.i18nAttributesInstruction(n,d,e.startSourceSpan??e.sourceSpan),e.outputs.length>0)for(let V of e.outputs)this.creationInstruction(V.sourceSpan,V.type===2?u.twoWayListener:u.listener,this.prepareListenerParameter(e.name,V,n));i&&this.i18nStart(e.startSourceSpan,e.i18n,H)}let se=s.buildUpdateLevelInstructions(this._valueConverter),ae=se.length-1;for(let V=0;V<=ae;V++){let Be=se[V];this._bindingSlots+=this.processStylingUpdateInstruction(n,Be)}let tt=m(void 0),nt=[],ke=[];f.forEach(V=>{let Be=V.type;if(Be===4){let U=V.value.visit(this._valueConverter),me=U instanceof Je?!!U.value:!0;this.allocateBindingSlots(U),nt.push({span:V.sourceSpan,reference:u.property,paramsOrFn:$o(()=>me?this.convertPropertyBinding(U):tt,vd(V.name))})}else{if(V.i18n)return;let U=V.value.visit(this._valueConverter);if(U!==void 0){let me=[],[An,Wt]=ct(V.name),pr=Be===1,Yn=Wm(V.securityContext,pr);if(Yn||ub(e.name)&&Uu(V.name)&&(Yn=A(u.validateIframeAttribute)),Yn&&me.push(Yn),An){let fn=m(An);Yn?me.push(fn):me.push(m(null),fn)}if(this.allocateBindingSlots(U),Be===0||Be===5)U instanceof Se?this.interpolatedUpdateInstruction(zf(U),n,Wt,V,U,me):nt.push({span:V.sourceSpan,reference:Be===5?u.twoWayProperty:u.property,paramsOrFn:$o(()=>this.convertPropertyBinding(U),Wt,me)});else if(Be===1)if(U instanceof Se&&or(U)>1)this.interpolatedUpdateInstruction(ib(U),n,Wt,V,U,me);else{let fn=U instanceof Se?U.expressions[0]:U;ke.push({span:V.sourceSpan,paramsOrFn:$o(()=>this.convertPropertyBinding(fn),Wt,me)})}else this.updateInstructionWithAdvance(n,V.sourceSpan,u.classProp,()=>[m(n),m(Wt),this.convertPropertyBinding(U),...me])}}});for(let V of nt)this.updateInstructionWithAdvance(n,V.span,V.reference,V.paramsOrFn);for(let V of ke)this.updateInstructionWithAdvance(n,V.span,u.attribute,V.paramsOrFn);if(Ci(this,e.children),!i&&this.i18n&&this.i18n.appendElement(e.i18n,n,!0),!O){let V=e.endSourceSpan??e.sourceSpan;i&&this.i18nEnd(V,H),r&&this.creationInstruction(V,u.enableBindings),this.creationInstruction(V,c?u.elementContainerEnd:u.elementEnd)}}prepareEmbeddedTemplateFn(e,n,s=[],r,i){let o=this.allocateDataSlot();this.i18n&&r&&(r instanceof Vn?this.i18n.appendBlock(r,o):this.i18n.appendTemplate(r,o));let a=`${this.contextName}${n}_${o}`,l=this.constantPool.uniqueName(`${a}_Template`,!1),c=new t(this.constantPool,this._bindingScope,this.level+1,a,this.i18n,o,l,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this.deferBlocks,this.elementLocations,this.allDeferrableDepsFn,this._constants);return this._nestedTemplateFns.push(()=>{let p=c.buildTemplateFunction(e,s,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,r,i);this.constantPool.statements.push(p.toDeclStmt(l)),c._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...c._ngContentReservedSlots)}),new vu(l,o,c._bindingScope,c)}createEmbeddedTemplateFn(e,n,s,r,i=[],o,a,l){let c=this.prepareEmbeddedTemplateFn(n,s,i,l),p=[m(c.index),R(c.name),m(e),this.addAttrsToConsts(o||null)];if(a&&a.length>0){let f=this.prepareRefsArray(a);p.push(this.addToConsts(f)),p.push(A(u.templateRefExtractor))}return this.creationInstruction(r,u.templateCreate,()=>(p.splice(2,0,m(c.getConstCount()),m(c.getVarCount())),mr(p))),c.index}visitTemplate(e){let n=e.tagName?ct(e.tagName)[1]:e.tagName,s=e.tagName?"_"+yn(e.tagName):"",r=this.getAttributeExpressions(Bo,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs),i=this.createEmbeddedTemplateFn(n,e.children,s,e.sourceSpan,e.variables,r,e.references,e.i18n);if(this.templatePropertyBindings(i,e.templateAttrs),n===Bo){let[o,a]=by(e.inputs,Jy);o.length>0&&this.i18nAttributesInstruction(i,o,e.startSourceSpan??e.sourceSpan),a.length>0&&this.templatePropertyBindings(i,a);for(let l of e.outputs)this.creationInstruction(l.sourceSpan,l.type===2?u.twoWayListener:u.listener,this.prepareListenerParameter("ng_template",l,i))}}visitBoundText(e){if(this.i18n){let r=e.value.visit(this._valueConverter);this.allocateBindingSlots(r),r instanceof Se&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(r.expressions));return}let n=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,u.text,[m(n)]);let s=e.value.visit(this._valueConverter);this.allocateBindingSlots(s),s instanceof Se?this.updateInstructionWithAdvance(n,e.sourceSpan,ob(s),()=>this.getUpdateInstructionArguments(s)):Qo("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,u.text,[m(this.allocateDataSlot()),m(e.value)])}visitIcu(e){let n=!1;this.i18n||(n=!0,this.i18nStart(null,e.i18n,!0));let s=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),o=e.i18n,a=l=>{let c=Object.fromEntries(Object.entries({...r,...i}).sort()),p=co(c,!1);return Gs(null,u.i18nPostprocess,[l,to(p,!0)])};if(xi(s.meta))this.i18nTranslate(o,{},s.ref,a);else{let l=this.i18nTranslate(o,{},void 0,a);s.appendIcu(Ru(o).name,l)}return n&&this.i18nEnd(null,!0),null}visitIfBlock(e){this.allocateBindingSlots(null);let n=e.branches.map((i,o)=>{let{expression:a,expressionAlias:l,children:c,sourceSpan:p}=i,f=l!==null?[new xt(l.name,uc,l.sourceSpan,l.keySpan)]:void 0,d=null,y;if(o===0){let x=this.inferProjectionDataFromInsertionPoint(i);d=x.tagName,y=x.attrsExprs}let v=this.createEmbeddedTemplateFn(d,c,"_Conditional",p,f,y,void 0,i.i18n),T=a===null?null:a.visit(this._valueConverter);return{index:v,expression:T,alias:l}}),s=n[0].index,r=()=>{let i=null,o=l=>{if(l>n.length-1)return m(-1);let{index:c,expression:p,alias:f}=n[l];if(p===null)return m(c);let d;return f?(i=this.allocateControlFlowTempVariable(),d=i.set(this.convertPropertyBinding(p))):d=this.convertPropertyBinding(p),d.conditional(m(c),o(l+1))},a=[m(s),o(0)];return i!==null&&a.push(i),a};this.updateInstructionWithAdvance(s,e.branches[0].sourceSpan,u.conditional,r)}visitSwitchBlock(e){if(e.cases.length===0)return;let n=e.cases.map(i=>{let o=this.createEmbeddedTemplateFn(null,i.children,"_Case",i.sourceSpan,void 0,void 0,void 0,i.i18n),a=i.expression===null?null:i.expression.visit(this._valueConverter);return{index:o,expression:a}}),s=n[0].index,r=e.expression.visit(this._valueConverter);this.allocateBindingSlots(null),this.updateInstructionWithAdvance(s,e.sourceSpan,u.conditional,()=>{let i=o=>{if(o>n.length-1)return m(-1);let{index:a,expression:l}=n[o];return l===null?m(a):(o===0?this.allocateControlFlowTempVariable().set(this.convertPropertyBinding(r)):this.allocateControlFlowTempVariable()).identical(this.convertPropertyBinding(l)).conditional(m(a),i(o+1))};return[m(s),i(0)]})}visitDeferredBlock(e){let{loading:n,placeholder:s,error:r,triggers:i,prefetchTriggers:o}=e,a=this.deferBlocks.get(e);if(!a)throw new Error("Could not resolve `defer` block metadata. Block may need to be analyzed.");let l=this.createEmbeddedTemplateFn(null,e.children,"_Defer",e.sourceSpan,void 0,void 0,void 0,e.i18n),c=n?this.createEmbeddedTemplateFn(null,n.children,"_DeferLoading",n.sourceSpan,void 0,void 0,void 0,n.i18n):null,p=n?mr([m(n.minimumTime),m(n.afterTime)]):null,f=s?this.createEmbeddedTemplateFn(null,s.children,"_DeferPlaceholder",s.sourceSpan,void 0,void 0,void 0,s.i18n):null,d=s&&s.minimumTime!==null?q([m(s.minimumTime)]):null,y=r?this.createEmbeddedTemplateFn(null,r.children,"_DeferError",r.sourceSpan,void 0,void 0,void 0,r.i18n):null,v=this.allocateDataSlot(),T=`${this.contextName}_Defer_${v}_DepsFn`;this.creationInstruction(e.sourceSpan,u.defer,mr([m(v),m(l),this.allDeferrableDepsFn??this.createDeferredDepsFunction(T,a),m(c),m(f),m(y),p?.length?this.addToConsts(q(p)):bn,d?this.addToConsts(d):bn,p?.length||d?A(u.deferEnableTimerScheduling):bn])),this.allocateDataSlot(),this.createDeferTriggerInstructions(v,i,a,!1),this.createDeferTriggerInstructions(v,o,a,!0)}createDeferredDepsFunction(e,n){if(n.deps.length===0)return bn;let s=[];for(let i of n.deps)if(i.isDeferrable){let o=Oe([new ue("m",Vt)],R("m").prop(i.isDefaultImport?"default":i.symbolName)),a=new Ur(i.importPath).prop("then").callFn([o]);s.push(a)}else s.push(i.type);let r=Oe([],q(s));return this.constantPool.statements.push(r.toDeclStmt(e,Ne.Final)),R(e)}createDeferTriggerInstructions(e,n,s,r){let{when:i,idle:o,immediate:a,timer:l,hover:c,interaction:p,viewport:f}=n;if(i){let d=i.value.visit(this._valueConverter);this.allocateBindingSlots(d),this.updateInstructionWithAdvance(e,i.sourceSpan,r?u.deferPrefetchWhen:u.deferWhen,()=>this.convertPropertyBinding(d))}(o||!r&&Object.keys(n).length===0)&&this.creationInstruction(o?.sourceSpan||null,r?u.deferPrefetchOnIdle:u.deferOnIdle),a&&this.creationInstruction(a.sourceSpan,r?u.deferPrefetchOnImmediate:u.deferOnImmediate),l&&this.creationInstruction(l.sourceSpan,r?u.deferPrefetchOnTimer:u.deferOnTimer,[m(l.delay)]),c&&this.domNodeBasedTrigger("hover",c,s,r?u.deferPrefetchOnHover:u.deferOnHover),p&&this.domNodeBasedTrigger("interaction",p,s,r?u.deferPrefetchOnInteraction:u.deferOnInteraction),f&&this.domNodeBasedTrigger("viewport",f,s,r?u.deferPrefetchOnViewport:u.deferOnViewport)}domNodeBasedTrigger(e,n,s,r){let i=s.triggerElements.get(n);i&&this.creationInstruction(n.sourceSpan,r,()=>{let o=this.elementLocations.get(i);if(!o)throw new Error(`Could not determine location of reference passed into '${e}' trigger. Template may not have been fully analyzed.`);let a=Math.max(this.level-o.level,-1),l=[m(o.index)];return a!==0&&l.push(m(a)),l})}inferProjectionDataFromInsertionPoint(e){let n=null,s=null,r;for(let i of e.children)if(!(i instanceof qr)){if(n!==null){n=null;break}(i instanceof ne||i instanceof ie&&i.tagName!==null)&&(n=i)}if(n!==null){let i=n instanceof ne?n.name:n.tagName;s=i===Bo?null:i,r=this.getAttributeExpressions(Bo,n.attributes,n.inputs,[])}return{tagName:s,attrsExprs:r}}allocateDataSlot(){return this._dataIndex++}visitForLoopBlock(e){let n=this.allocateDataSlot(),{tagName:s,attrsExprs:r}=this.inferProjectionDataFromInsertionPoint(e),i=this.prepareEmbeddedTemplateFn(e.children,"_For",[e.item,e.contextVariables.$index,e.contextVariables.$count],e.i18n,{[e.contextVariables.$index.name]:this.getLevelSpecificVariableName("$index",this.level+1),[e.contextVariables.$count.name]:this.getLevelSpecificVariableName("$count",this.level+1)}),{expression:o,usesComponentInstance:a}=this.createTrackByFunction(e),l=null,c=null,p;if(e.empty!==null){let d=this.inferProjectionDataFromInsertionPoint(e.empty);c=d.tagName,p=d.attrsExprs,l=this.prepareEmbeddedTemplateFn(e.empty.children,"_ForEmpty",void 0,e.empty.i18n),this.allocateBindingSlots(null)}this.registerComputedLoopVariables(e,i.scope),this.creationInstruction(e.sourceSpan,u.repeaterCreate,()=>{let d=[m(n),R(i.name),m(i.getConstCount()),m(i.getVarCount()),m(s),this.addAttrsToConsts(r||null),o];return l!==null?d.push(m(a),R(l.name),m(l.getConstCount()),m(l.getVarCount()),m(c),this.addAttrsToConsts(p||null)):a&&d.push(m(a)),mr(d)});let f=e.expression.visit(this._valueConverter);this.updateInstructionWithAdvance(n,e.sourceSpan,u.repeater,()=>[this.convertPropertyBinding(f)])}registerComputedLoopVariables(e,n){let s=n.bindingLevel;n.set(s,e.contextVariables.$odd.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").modulo(m(2)).notIdentical(m(0))),n.set(s,e.contextVariables.$even.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").modulo(m(2)).identical(m(0))),n.set(s,e.contextVariables.$first.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").identical(m(0))),n.set(s,e.contextVariables.$last.name,(r,i)=>{let o=this.getLevelSpecificForLoopVariable(e,r,i,"$index"),a=this.getLevelSpecificForLoopVariable(e,r,i,"$count");return o.identical(a.minus(m(1)))})}getLevelSpecificVariableName(e,n){return`\u0275${e}_${n}`}getLevelSpecificForLoopVariable(e,n,s,r){let i=n.bindingLevel===s?e.contextVariables[r].name:this.getLevelSpecificVariableName(r,s);return n.get(i)}optimizeTrackByFunction(e){let n=e.contextVariables.$index.name,s=e.item.name,r=e.trackBy.ast;if(r instanceof le&&r.receiver instanceof de&&r.name===n)return{expression:A(u.repeaterTrackByIndex),usesComponentInstance:!1};if(r instanceof le&&r.receiver instanceof de&&r.name===s)return{expression:A(u.repeaterTrackByIdentity),usesComponentInstance:!1};if(r instanceof wt&&r.receiver instanceof le&&r.receiver.receiver instanceof de&&r.args.length===2){let i=r.args[0]instanceof le&&r.args[0].receiver instanceof de&&r.args[0].name===n,o=r.args[1]instanceof le&&r.args[1].receiver instanceof de&&r.args[1].name===s;if(i&&o)return{expression:(this.level===0?R(rt):new De(u.componentInstance).callFn([])).prop(r.receiver.name),usesComponentInstance:!1}}return null}createTrackByFunction(e){let n=this.optimizeTrackByFunction(e);if(n!==null)return n;let s=e.contextVariables,r=new Su(this._bindingScope,{[s.$index.name]:"$index",[e.item.name]:"$item",[s.$count.name]:s.$count.name,[s.$first.name]:s.$first.name,[s.$last.name]:s.$last.name,[s.$even.name]:s.$even.name,[s.$odd.name]:s.$odd.name}),i=[new ue("$index"),new ue("$item")],o=UE(e.trackBy.ast,r,R(rt),"track"),a=r.getComponentAccessCount()>0,l;if(!a&&o.length===1&&o[0]instanceof Fe)l=Oe(i,o[0].expr);else{if(o.length>0){let c=o[o.length-1];c instanceof Fe&&(o[o.length-1]=new Te(c.expr))}l=rn(i,o)}return{expression:this.constantPool.getSharedFunctionReference(l,"_forTrack"),usesComponentInstance:a}}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Yt(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(e,n){let s=[];for(let r of n){if(!(r instanceof $t))continue;let i=r.value.visit(this._valueConverter);if(i!==void 0)if(this.allocateBindingSlots(i),i instanceof Se){let o=[];this.interpolatedUpdateInstruction(zf(i),e,r.name,r,i,o)}else s.push({span:r.sourceSpan,paramsOrFn:$o(()=>this.convertPropertyBinding(i),r.name)})}for(let r of s)this.updateInstructionWithAdvance(e,r.span,u.property,r.paramsOrFn)}instructionFn(e,n,s,r,i=!1){e[i?"unshift":"push"]({span:n,reference:s,paramsOrFn:r})}processStylingUpdateInstruction(e,n){let s=0;if(n)for(let r of n.calls)s+=r.allocateBindingSlots,this.updateInstructionWithAdvance(e,r.sourceSpan,n.reference,()=>r.params(i=>r.supportsInterpolation&&i instanceof Se?this.getUpdateInstructionArguments(i):this.convertPropertyBinding(i)));return s}creationInstruction(e,n,s,r){this.instructionFn(this._creationCodeFns,e,n,s||[],r)}updateInstructionWithAdvance(e,n,s,r){this.addAdvanceInstructionIfNecessary(e,n),this.updateInstruction(n,s,r)}updateInstruction(e,n,s){this.instructionFn(this._updateCodeFns,e,n,s||[])}addAdvanceInstructionIfNecessary(e,n){if(e!==this._currentIndex){let s=e-this._currentIndex;if(s<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,n,u.advance,s>1?[m(s)]:[]),this._currentIndex=e}}allocatePureFunctionSlots(e){let n=this._pureFunctionSlots;return this._pureFunctionSlots+=e,n}allocateBindingSlots(e){this._bindingSlots+=e instanceof Se?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=this.level===0?R(rt):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){let n=Hd(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),s=n.currValExpr;return this._tempVariables.push(...n.stmts),s}getUpdateInstructionArguments(e){let{args:n,stmts:s}=VE(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...s),n}allocateControlFlowTempVariable(){if(this._controlFlowTempVariable===null){let e=`${this.contextName}_contFlowTmp`;this._tempVariables.push(new Ke(e)),this._controlFlowTempVariable=R(e)}return this._controlFlowTempVariable}getAttributeExpressions(e,n,s,r,i,o=[],a=[]){let l=new Set,c=[],p;for(let d of n)if(d.name===QA&&(p=d),d.i18n){let{i18nVarRefsCache:y}=this._constants,v;y.has(d.i18n)?v=y.get(d.i18n):(v=this.i18nTranslate(d.i18n),y.set(d.i18n,v)),c.push(m(d.name),v)}else c.push(...Kf(d.name),ab(e,d));p&&c.push(...rb(p));function f(d,y){typeof d=="string"?l.has(d)||(c.push(...Kf(d)),y!==void 0&&c.push(y),l.add(d)):c.push(m(d))}if(i&&i.populateInitialStylingAttrs(c),s.length||r.length){let d=c.length;for(let y=0;y<s.length;y++){let v=s[y];v.type!==4&&v.type!==1&&f(v.name)}for(let y=0;y<r.length;y++){let v=r[y];v.type!==1&&f(v.name)}c.length!==d&&c.splice(d,0,m(3))}return o.length&&(c.push(m(4)),o.forEach(d=>f(d.name))),a.length&&(c.push(m(6)),a.forEach(d=>f(d.name))),c}addToConsts(e){if(ku(e))return bn;let n=this._constants.constExpressions;for(let s=0;s<n.length;s++)if(n[s].isEquivalent(e))return m(s);return m(n.push(e)-1)}addAttrsToConsts(e){return e!==null&&e.length>0?this.addToConsts(q(e)):bn}prepareRefsArray(e){if(!e||e.length===0)return bn;let n=e.flatMap(s=>{let r=this.allocateDataSlot(),i=this._bindingScope.freshReferenceName(),o=this.level,a=R(i);return this._bindingScope.set(o,s.name,a,0,(l,c)=>{let p=c>0?[Eu(c).toStmt()]:[],f=a.set(A(u.reference).callFn([m(r)]));return p.concat(f.toConstDecl())},!0),[s.name,s.value]});return Yt(n)}prepareListenerParameter(e,n,s){return()=>{let r=n.name,i=n.type===1?Ed(r,n.phase):yn(r),o=`${this.templateName}_${e}_${i}_${s}_listener`,a=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,gu);return qm(n,o,a)}}},$a=class extends xc{constructor(e,n,s,r){super(),this.constantPool=e,this.allocateSlot=n,this.allocatePureFunctionSlots=s,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,n){let s=this.allocateSlot(),r=`PIPE:${s}`,i=this.allocatePureFunctionSlots(2+e.args.length),o=new le(e.span,e.sourceSpan,e.nameSpan,new de(e.span,e.sourceSpan),r),{identifier:a,isVarLength:l}=tb(e.args);this.definePipe(e.name,r,s,A(a));let c=[e.exp,...e.args],p=l?this.visitAll([new Xs(e.span,e.sourceSpan,c)]):this.visitAll(c),f=new wt(e.span,e.sourceSpan,o,[new Je(e.span,e.sourceSpan,s),new Je(e.span,e.sourceSpan,i),...p],null);return this._pipeBindExprs.push(f),f}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(n=>{let s=n.args[1];s.value+=e})}visitLiteralArray(e,n){return new rs(e.span,e.sourceSpan,this.visitAll(e.expressions),s=>{let r=q(s);return jf(this.constantPool,r,this.allocatePureFunctionSlots)})}visitLiteralMap(e,n){return new rs(e.span,e.sourceSpan,this.visitAll(e.values),s=>{let r=_e(s.map((i,o)=>({key:e.keys[o].key,value:i,quoted:e.keys[o].quoted})));return jf(this.constantPool,r,this.allocatePureFunctionSlots)})}},eb=[u.pipeBind1,u.pipeBind2,u.pipeBind3,u.pipeBind4];function tb(t){let e=eb[t.length];return{identifier:e||u.pipeBindV,isVarLength:!e}}var nb=[u.pureFunction0,u.pureFunction1,u.pureFunction2,u.pureFunction3,u.pureFunction4,u.pureFunction5,u.pureFunction6,u.pureFunction7,u.pureFunction8];function sb(t){let e=nb[t.length];return{identifier:e||u.pureFunctionV,isVarLength:!e}}function Eu(t){return A(u.nextContext).callFn(t>1?[m(t)]:[])}function jf(t,e,n){let{literalFactory:s,literalFactoryArguments:r}=t.getLiteralFactory(e),i=n(1+r.length),{identifier:o,isVarLength:a}=sb(r),l=[m(i),s];return a?l.push(q(r)):l.push(...r),A(o).callFn(l)}function Kf(t){let[e,n]=ct(t),s=m(n);return e?[m(0),m(e),s]:[s]}var Er="$$shared_ctx$$",Ua=class t{static createRootScope(){return new t}constructor(e=0,n=null,s){if(this.bindingLevel=e,this.parent=n,this.globals=s,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,s!==void 0)for(let r of s)this.set(0,r,R(r))}get(e){let n=this;for(;n;){let s=n.map.get(e);if(s!=null)return n!==this&&(s={retrievalLevel:s.retrievalLevel,lhs:s.lhs,declareLocalCallback:s.declareLocalCallback,declare:!1,priority:s.priority},this.map.set(e,s),this.maybeGenerateSharedContextVar(s),this.maybeRestoreView()),s.declareLocalCallback&&!s.declare&&(s.declare=!0),typeof s.lhs=="function"?s.lhs(this,s.retrievalLevel):s.lhs;n=n.parent}return this.bindingLevel===0?null:this.getComponentProperty(e)}hasLocal(e){return this.map.has(e)}set(e,n,s,r=0,i,o){if(this.map.has(n)){if(o)return this;Qo(`The name ${n} is already defined in scope to be ${this.map.get(n)}`)}return this.map.set(n,{retrievalLevel:e,lhs:s,declare:!1,declareLocalCallback:i,priority:r}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){this.bindingLevel!==0&&(this.map.get(Er+0).declare=!0)}nestedScope(e,n){let s=new t(e,this,n);return e>0&&s.generateSharedContextVar(0),s}getOrCreateSharedContextVar(e){let n=Er+e;return this.map.has(n)||this.generateSharedContextVar(e),this.map.get(n).lhs}getSharedContextName(e){let n=this.map.get(Er+e);return n&&n.declare?n.lhs:null}maybeGenerateSharedContextVar(e){if(e.priority===1&&e.retrievalLevel<this.bindingLevel){let n=this.map.get(Er+e.retrievalLevel);n?n.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){let n=R(rt+this.freshReferenceName());this.map.set(Er+e,{retrievalLevel:e,lhs:n,declareLocalCallback:(s,r)=>[n.set(Eu(r)).toConstDecl()],declare:!1,priority:2})}getComponentProperty(e){let n=this.map.get(Er+0);n.declare=!0,this.maybeRestoreView();let s=typeof n.lhs=="function"?n.lhs(this,n.retrievalLevel):n.lhs;return e===uc?s:s.prop(e)}maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=R(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){if(this.restoreViewVariable){let e=Gs(null,u.restoreView,[this.restoreViewVariable]);return this.usesRestoredViewContext?R(Cd).set(e).toConstDecl():e.toStmt()}return null}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(Gs(null,u.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(n=>n.declare).sort((n,s)=>s.retrievalLevel-n.retrievalLevel||s.priority-n.priority).reduce((n,s)=>{let r=this.bindingLevel-s.retrievalLevel,i=s.declareLocalCallback(this,r-e);return e=r,n.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`${sE}${e.referenceNameIndex++}`}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}},Su=class extends Ua{constructor(e,n){super(e.bindingLevel+1,e),this.globalOverrides=n,this.componentAccessCount=0}get(e){if(this.globalOverrides.hasOwnProperty(e))return R(this.globalOverrides[e]);let n=this.parent;for(;n;){if(n.hasLocal(e))return null;n=n.parent}return this.componentAccessCount++,R("this").prop(e)}getComponentAccessCount(){return this.componentAccessCount}};function rb(t){let e=lo(t.value)[0];return[m(5),Yt(e)]}function zf(t){switch(or(t)){case 1:return u.propertyInterpolate;case 3:return u.propertyInterpolate1;case 5:return u.propertyInterpolate2;case 7:return u.propertyInterpolate3;case 9:return u.propertyInterpolate4;case 11:return u.propertyInterpolate5;case 13:return u.propertyInterpolate6;case 15:return u.propertyInterpolate7;case 17:return u.propertyInterpolate8;default:return u.propertyInterpolateV}}function ib(t){switch(or(t)){case 3:return u.attributeInterpolate1;case 5:return u.attributeInterpolate2;case 7:return u.attributeInterpolate3;case 9:return u.attributeInterpolate4;case 11:return u.attributeInterpolate5;case 13:return u.attributeInterpolate6;case 15:return u.attributeInterpolate7;case 17:return u.attributeInterpolate8;default:return u.attributeInterpolateV}}function ob(t){switch(or(t)){case 1:return u.textInterpolate;case 3:return u.textInterpolate1;case 5:return u.textInterpolate2;case 7:return u.textInterpolate3;case 9:return u.textInterpolate4;case 11:return u.textInterpolate5;case 13:return u.textInterpolate6;case 15:return u.textInterpolate7;case 17:return u.textInterpolate8;default:return u.textInterpolateV}}function Hm(t,e,n={}){let{interpolationConfig:s,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=n,o=oi(s),l=new La().parse(t,e,{leadingTriviaChars:JA,...n,tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0});if(!n.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let H={interpolationConfig:s,preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(H.commentNodes=[]),H}let c=l.rootNodes,p=new ka(s,!r,i),f=p.visitAllWithErrors(c);if(!n.alwaysAttemptHtmlToR3AstConversion&&f.errors&&f.errors.length>0){let H={interpolationConfig:s,preserveWhitespaces:r,errors:f.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(H.commentNodes=[]),H}c=f.rootNodes,r||(c=ye(new au,c),p.hasI18nMeta&&(c=ye(new ka(s,!1),c)));let{nodes:d,errors:y,styleUrls:v,styles:T,ngContentSelectors:x,commentNodes:D}=BA(c,o,{collectCommentNodes:!!n.collectCommentNodes});y.push(...l.errors,...f.errors);let O={interpolationConfig:s,preserveWhitespaces:r,errors:y.length>0?y:null,nodes:d,styleUrls:v,styles:T,ngContentSelectors:x};return n.collectCommentNodes&&(O.commentNodes=D),O}var Gm=new hn;function oi(t=Rt){return new lu(new Aa(new no),t,Gm,[])}function Wm(t,e){switch(t){case J.HTML:return A(u.sanitizeHtml);case J.SCRIPT:return A(u.sanitizeScript);case J.STYLE:return e?A(u.sanitizeStyle):null;case J.URL:return A(u.sanitizeUrl);case J.RESOURCE_URL:return A(u.sanitizeResourceUrl);default:return null}}function ab(t,e){let n=Yt(e.value);if(fm(t,e.name))switch(Gm.securityContext(t,e.name,!0)){case J.HTML:return Yo(A(u.trustConstantHtml),new Br([new $r(e.value)],[]),void 0,e.valueSpan);case J.RESOURCE_URL:return Yo(A(u.trustConstantResourceUrl),new Br([new $r(e.value)],[]),void 0,e.valueSpan);default:return n}else return n}function lb(t){return t.length===1&&t[0]instanceof ne}function cb(t){return t instanceof Lt||t instanceof Sn||t instanceof Hs}function ub(t){return t.toLowerCase()==="iframe"}function Bl(t){return t.every(cb)}function $o(t,e,n){return()=>{let s=t(),r=Array.isArray(s)?s:[s];return n&&r.push(...n),e&&r.unshift(m(e)),r}}var Yf="ngI18nClosureMode";function pb(t,e,n,s={},r){s=Object.fromEntries(Object.entries(s).sort());let i=[Td(e),ci(hb(),dm(e,t,n,s),mm(e,t,co(s,!1)))];return r&&i.push(new Fe(e.set(r(e)))),i}function hb(){return li(R(Yf)).notIdentical(m("undefined",qa)).and(R(Yf))}function fb(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function db(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(s=>{let r=s.split(",").map(i=>m(i.trim()));n.push(...r)}),e.getConstLiteral(q(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return A(u.resolveForwardRef).callFn([t.predicate.expression])}}function jm(t,e,n,s){let r=[];s!==void 0&&r.push(...s),t.isSignal&&r.push(new je(R(rt),t.propertyName)),r.push(db(t,e),m(fb(t))),t.read&&r.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return A(i).callFn(r)}var Ju=Symbol("queryAdvancePlaceholder");function Km(t){let e=[],n=0,s=()=>{n>0&&(e.unshift(A(u.queryAdvance).callFn(n===1?[]:[m(n)]).toStmt()),n=0)};for(let r=t.length-1;r>=0;r--){let i=t[r];i===Ju?n++:(s(),e.unshift(i))}return s(),e}function mb(t,e,n){let s=[],r=[],i=Id(a=>r.push(a),Mu);t.forEach(a=>{let l=jm(a,e,{signalBased:u.viewQuerySignal,nonSignal:u.viewQuery});if(s.push(l.toStmt()),a.isSignal){r.push(Ju);return}let c=i(),p=A(u.loadQuery).callFn([]),f=A(u.queryRefresh).callFn([c.set(p)]),d=R(rt).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(f.and(d).toStmt())});let o=n?`${n}_Query`:null;return rn([new ue(po,ai),new ue(rt,null)],[Es(1,s),Es(2,Km(r))],Ze,null,o)}function gb(t,e,n){let s=[],r=[],i=Id(a=>r.push(a),Mu);for(let a of t){if(s.push(jm(a,e,{nonSignal:u.contentQuery,signalBased:u.contentQuerySignal},[R("dirIndex")]).toStmt()),a.isSignal){r.push(Ju);continue}let l=i(),c=A(u.loadQuery).callFn([]),p=A(u.queryRefresh).callFn([l.set(c)]),f=R(rt).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(p.and(f).toStmt())}let o=n?`${n}_ContentQueries`:null;return rn([new ue(po,ai),new ue(rt,null),new ue("dirIndex",null)],[Es(1,s),Es(2,Km(r))],Ze,null,o)}var vb=/attr\.([^\]]+)/,zm="%COMP%",yb=`_nghost-${zm}`,Eb=`_ngcontent-${zm}`;function Ym(t,e,n){let s=new us,r=lo(t.selector);return s.set("type",t.type.value),r.length>0&&s.set("selectors",Yt(r)),t.queries.length>0&&s.set("contentQueries",gb(t.queries,e,t.name)),t.viewQueries.length&&s.set("viewQuery",mb(t.viewQueries,e,t.name)),s.set("hostBindings",bb(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,s)),s.set("inputs",yh(t.inputs,!0)),s.set("outputs",yh(t.outputs)),t.exportAs!==null&&s.set("exportAs",q(t.exportAs.map(i=>m(i)))),t.isStandalone&&s.set("standalone",m(!0)),t.isSignal&&s.set("signals",m(!0)),s}function Xm(t,e){let n=[],s=e.providers,r=e.viewProviders,i=Object.keys(e.inputs);if(s||r){let o=[s||new ht([])];r&&o.push(r),n.push(A(u.ProvidersFeature).callFn(o))}for(let o of i)if(e.inputs[o].transformFunction!==null){n.push(A(u.InputTransformsFeatureFeature));break}e.hostDirectives?.length&&n.push(A(u.HostDirectivesFeature).callFn([Rb(e.hostDirectives)])),e.usesInheritance&&n.push(A(u.InheritDefinitionFeature)),e.fullInheritance&&n.push(A(u.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(A(u.NgOnChangesFeature)),e.hasOwnProperty("template")&&e.isStandalone&&n.push(A(u.StandaloneFeature)),n.length&&t.set("features",q(n))}function Qm(t,e,n){let s=Ym(t,e,n);Xm(s,t);let r=A(u.defineDirective).callFn([s.toLiteralMap()],void 0,!0),i=Ab(t);return{expression:r,type:i,statements:[]}}function Sb(t,e,n){let s=[];for(let[i,{importPath:o,isDefaultImport:a}]of n){let l=Oe([new ue("m",Vt)],R("m").prop(a?"default":i)),c=new Ur(o).prop("then").callFn([l]);s.push(c)}let r=Oe([],q(s));return t.statements.push(r.toDeclStmt(e,Ne.Final)),R(e)}function Jm(t,e,n){let s=Ym(t,e,n);Xm(s,t);let r=t.selector&&en.parse(t.selector),i=r&&r[0];if(i){let f=i.getAttrs();f.length&&s.set("attrs",e.getConstLiteral(q(f.map(d=>d!=null?m(d):m(void 0))),!0))}let o=t.name,a=o?`${o}_Template`:null,l=null;if(t.deferBlocks.size>0&&t.deferrableTypes.size>0&&t.deferBlockDepsEmitMode===1){let f=`${o}_DeferFn`;l=Sb(e,f,t.deferrableTypes)}if(!Rm&&!t.useTemplatePipeline){let f=t.template,d=new yu(e,Ua.createRootScope(),0,o,null,null,a,u.namespaceHTML,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,new Map,l),y=d.buildTemplateFunction(f.nodes,[]),v=d.getNgContentSelectors();v&&s.set("ngContentSelectors",v),s.set("decls",m(d.getConstCount())),s.set("vars",m(d.getVarCount()));let{constExpressions:T,prepareStatements:x}=d.getConsts();if(T.length>0){let D=q(T);x.length>0&&(D=Oe([],[...x,new Te(D)])),s.set("consts",D)}s.set("template",y)}else{let f=xI(t.name,t.template.nodes,e,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,l);Cm(f,P.Tmpl);let d=EI(f,e);f.contentSelectors!==null&&s.set("ngContentSelectors",f.contentSelectors),s.set("decls",m(f.root.decls)),s.set("vars",m(f.root.vars)),f.consts.length>0&&(f.constsInitializers.length>0?s.set("consts",Oe([],[...f.constsInitializers,new Te(q(f.consts))])):s.set("consts",q(f.consts))),s.set("template",d)}if(t.declarationListEmitMode!==3&&t.declarations.length>0)s.set("dependencies",wb(q(t.declarations.map(f=>f.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let f=[t.type.value];t.rawImports&&f.push(t.rawImports),s.set("dependencies",A(u.getComponentDepsFactory).callFn(f))}if(t.encapsulation===null&&(t.encapsulation=dn.Emulated),t.styles&&t.styles.length){let d=(t.encapsulation==dn.Emulated?kb(t.styles,Eb,yb):t.styles).reduce((y,v)=>(v.trim().length>0&&y.push(e.getConstLiteral(m(v))),y),[]);d.length>0&&s.set("styles",q(d))}else t.encapsulation===dn.Emulated&&(t.encapsulation=dn.None);t.encapsulation!==dn.Emulated&&s.set("encapsulation",m(t.encapsulation)),t.animations!==null&&s.set("data",_e([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==Go.Default?s.set("changeDetection",m(t.changeDetection)):typeof t.changeDetection=="object"&&s.set("changeDetection",t.changeDetection));let c=A(u.defineComponent).callFn([s.toLiteralMap()],void 0,!0),p=xb(t);return{expression:c,type:p,statements:[]}}function xb(t){let e=Zm(t);return e.push(wu(t.template.ngContentSelectors)),e.push(Le(m(t.isStandalone))),e.push(ng(t)),t.isSignal&&e.push(Le(m(t.isSignal))),Le(A(u.ComponentDeclaration,e))}function wb(t,e){switch(e){case 0:return t;case 1:return Oe([],t);case 2:let n=t.prop("map").callFn([A(u.resolveForwardRef)]);return Oe([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function Tb(t){let e=[];for(let n of Object.getOwnPropertyNames(t)){let s=t[n];e.push(m(n),s)}return e}function Cb(t){return Le(m(t))}function xu(t){let e=Object.keys(t).map(n=>{let s=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:m(s),quoted:!0}});return _e(e)}function wu(t){return t.length>0?Le(q(t.map(e=>m(e)))):nn}function Zm(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[Ga(t.type.type,t.typeArgumentCount),e!==null?Cb(e):nn,t.exportAs!==null?wu(t.exportAs):nn,Le(Ib(t)),Le(xu(t.outputs)),wu(t.queries.map(n=>n.propertyName))]}function Ib(t){return _e(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],s=[{key:"alias",value:m(n.bindingPropertyName),quoted:!0},{key:"required",value:m(n.required),quoted:!0}];return n.isSignal&&s.push({key:"isSignal",value:m(n.isSignal),quoted:!0}),{key:e,value:_e(s),quoted:!0}}))}function Ab(t){let e=Zm(t);return e.push(nn),e.push(Le(m(t.isStandalone))),e.push(ng(t)),t.isSignal&&e.push(Le(m(t.isSignal))),Le(A(u.DirectiveDeclaration,e))}function bb(t,e,n,s,r,i,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);if(Rm||t.useTemplatePipeline){t.specialAttributes.styleAttr&&(t.attributes.style=m(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=m(t.specialAttributes.classAttr));let U=wI({componentName:i,componentSelector:r,properties:a,events:l,attributes:t.attributes},n,s);Cm(U,P.Host),o.set("hostAttrs",U.root.attributes);let me=U.root.vars;return me!==null&&me>0&&o.set("hostVars",m(me)),SI(U)}let c=0,p=()=>`${c++}`,f=R(rt),d=new Ba(f),{styleAttr:y,classAttr:v}=t.specialAttributes;y!==void 0&&d.registerStyleAttr(y),v!==void 0&&d.registerClassAttr(v);let T=[],x=[],D=[],O=e;l&&l.length&&T.push(..._b(l,i));let H=[],se=0;a&&a.forEach(U=>{d.registerInputBasedOnName(U.name,U.expression,O)?se+=Fa:(H.push(U),se++)});let ae,tt=()=>{if(!ae){let U=me=>{let An=se;return se+=me,An};ae=new $a(s,()=>Qo("Unexpected node"),U,()=>Qo("Unexpected pipe"))}return ae},nt=[],ke=[],V=[];for(let U of H){let me=U.expression.visit(tt()),An=Xf(f,me,p),{bindingName:Wt,instruction:pr,isAttribute:Yn}=Db(U),fn=n.calcPossibleSecurityContexts(r,Wt,Yn).filter(Mv=>Mv!==J.NONE),Io=null;fn.length&&(fn.length===2&&fn.indexOf(J.URL)>-1&&fn.indexOf(J.RESOURCE_URL)>-1?Io=A(u.sanitizeUrlOrResourceUrl):Io=Wm(fn[0],Yn));let hr=[m(Wt),An.currValExpr];Io?hr.push(Io):Uu(Wt)&&hr.push(A(u.validateIframeAttribute)),D.push(...An.stmts),pr===u.hostProperty?nt.push(hr):pr===u.attribute?ke.push(hr):pr===u.syntheticHostProperty?V.push(hr):x.push({reference:pr,paramsOrFn:hr,span:null})}for(let U of nt)x.push({reference:u.hostProperty,paramsOrFn:U,span:null});for(let U of ke)x.push({reference:u.attribute,paramsOrFn:U,span:null});for(let U of V)x.push({reference:u.syntheticHostProperty,paramsOrFn:U,span:null});let Be=Tb(t.attributes);if(d.assignHostAttrs(Be,o),d.hasBindings&&d.buildUpdateLevelInstructions(tt()).forEach(U=>{for(let me of U.calls){se+=Math.max(me.allocateBindingSlots-Fa,0);let{params:An,stmts:Wt}=Nb(me,f,Xf,p);D.push(...Wt),x.push({reference:U.reference,paramsOrFn:An,span:null})}}),se&&o.set("hostVars",m(se)),T.length>0||x.length>0){let U=i?`${i}_HostBindings`:null,me=[];return T.length>0&&me.push(Es(1,oa(T))),x.length>0&&me.push(Es(2,D.concat(oa(x)))),rn([new ue(po,ai),new ue(rt,null)],me,Ze,null,U)}return null}function Xf(t,e,n){return Hd(null,t,e,n())}function Nb(t,e,n,s){let r=[];return{params:t.params(o=>{let a=n(e,o,s);return Array.isArray(a.stmts)&&a.stmts.length>0&&r.push(...a.stmts),a.currValExpr}),stmts:r}}function Db(t){let e=t.name,n,s=e.match(vb);return s?(e=s[1],n=u.attribute):t.isAnimation?(e=vd(e),n=u.syntheticHostProperty):n=u.hostProperty,{bindingName:e,instruction:n,isAttribute:!!s}}function _b(t,e){let n=[],s=[],r=[];for(let i of t){let o=i.name&&yn(i.name),a=i.type===1?Ed(o,i.targetOrPhase):o,l=e&&o?`${e}_${a}_HostBindingHandler`:null,c=qm(Vs.fromParsedEvent(i),l);i.type==1?s.push(c):n.push(c)}for(let i of s)r.push({reference:u.syntheticHostListener,paramsOrFn:i,span:null});for(let i of n)r.push({reference:u.listener,paramsOrFn:i,span:null});return r}var Pb=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function eg(t){let e={},n={},s={},r={};for(let i of Object.keys(t)){let o=t[i],a=i.match(Pb);if(a===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");r.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");r.styleAttr=o;break;default:typeof o=="string"?e[i]=m(o):e[i]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");s[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:s,specialAttributes:r}}function tg(t,e){let n=oi();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function kb(t,e,n){let s=new bc;return t.map(r=>s.shimCssText(r,e,n))}function ng(t){return t.hostDirectives?.length?Le(q(t.hostDirectives.map(e=>_e([{key:"directive",value:li(e.directive.type),quoted:!1},{key:"inputs",value:xu(e.inputs||{}),quoted:!1},{key:"outputs",value:xu(e.outputs||{}),quoted:!1}])))):nn}function Rb(t){let e=[],n=!1;for(let s of t){if(!s.inputs&&!s.outputs)e.push(s.directive.type);else{let r=[{key:"directive",value:s.directive.type,quoted:!1}];if(s.inputs){let i=Qf(s.inputs);i&&r.push({key:"inputs",value:i,quoted:!1})}if(s.outputs){let i=Qf(s.outputs);i&&r.push({key:"outputs",value:i,quoted:!1})}e.push(_e(r))}s.isForwardReference&&(n=!0)}return n?new On([],[new Te(q(e))]):q(e)}function Qf(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(m(n),m(t[n]));return e.length>0?q(e):null}var Va=class{constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Binding without a template not yet supported");let n=Tu.apply(e.template),s=Mb(n),{directives:r,eagerDirectives:i,bindings:o,references:a}=Cu.apply(e.template,this.directiveMatcher),{expressions:l,symbols:c,nestingLevel:p,usedPipes:f,eagerPipes:d,deferBlocks:y}=Iu.applyWithScope(e.template,n);return new Au(e,r,i,o,a,l,c,p,s,f,d,y,n)}},Tu=class t{constructor(e,n){this.parentScope=e,this.rootNode=n,this.namedEntities=new Map,this.elementsInScope=new Set,this.childScopes=new Map,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof Un}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof ie?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Mn?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof on?(this.visitVariable(e.item),Object.values(e.contextVariables).forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof qi||e instanceof Wr||e instanceof Un||e instanceof Vi||e instanceof $i||e instanceof Ui?e.children.forEach(n=>n.visit(this)):e.forEach(n=>n.visit(this))}visitElement(e){e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},Cu=class t{constructor(e,n,s,r,i){this.matcher=e,this.directives=n,this.eagerDirectives=s,this.bindings=r,this.references=i,this.isInDeferBlock=!1}static apply(e,n){let s=new Map,r=new Map,i=new Map,o=[];return new t(n,s,o,r,i).ingest(e),{directives:s,eagerDirectives:o,bindings:r,references:i}}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let n=Lu(e),s=[];this.matcher.match(n,(i,o)=>s.push(...o)),s.length>0&&(this.directives.set(e,s),this.isInDeferBlock||this.eagerDirectives.push(...s)),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=s.find(a=>a.isComponent)||null;else if(o=s.find(a=>a.exportAs!==null&&a.exportAs.some(l=>l===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let r=(i,o)=>{let a=s.find(c=>c[o].hasBindingPropertyName(i.name)),l=a!==void 0?a:e;this.bindings.set(i,l)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof ie&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs")),e.children.forEach(i=>i.visit(this))}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(s=>s.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),Object.values(e.contextVariables).forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}},Iu=class t extends Gn{constructor(e,n,s,r,i,o,a,l,c){super(),this.bindings=e,this.symbols=n,this.usedPipes=s,this.eagerPipes=r,this.deferBlocks=i,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c,this.visitNode=p=>p.visit(this)}visit(e,n){e instanceof xe?e.visit(this,n):e.visit(this)}static applyWithScope(e,n){let s=new Map,r=new Map,i=new Map,o=new Set,a=new Set,l=e instanceof ie?e:null,c=new Set;return new t(s,r,o,a,c,i,n,l,0).ingest(e),{expressions:s,symbols:r,nestingLevel:i,usedPipes:o,eagerPipes:a,deferBlocks:c}}ingest(e){e instanceof ie?(e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e instanceof Mn?(e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e instanceof on?(this.visitNode(e.item),Object.values(e.contextVariables).forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e instanceof qi||e instanceof Wr||e instanceof Un||e instanceof Vi||e instanceof $i||e instanceof Ui?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitContent(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(n=>e.vars[n].visit(this)),Object.keys(e.placeholders).forEach(n=>e.placeholders[n].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.deferBlocks.add(e),this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}visitPropertyWrite(e,n){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof de))return;let s=this.scope.lookup(n);s!==null&&this.bindings.set(e,s)}},Au=class{constructor(e,n,s,r,i,o,a,l,c,p,f,d,y){this.target=e,this.directives=n,this.eagerDirectives=s,this.bindings=r,this.references=i,this.exprTargets=o,this.symbols=a,this.nestingLevel=l,this.scopedNodeEntities=c,this.usedPipes=p,this.eagerPipes=f,this.deferredBlocks=d,this.rootScope=y}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(s=>e.add(s))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return Array.from(this.deferredBlocks)}getDeferredTriggerTarget(e,n){if(!(n instanceof ea)&&!(n instanceof ta)&&!(n instanceof Zo))return null;let s=n.reference;if(s===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof qr)){if(i!==null)return null;o instanceof ne&&(i=o)}}return i}let r=this.findEntityInScope(e,s);if(r instanceof xn&&this.getDefinitionNodeOfSymbol(r)!==e){let i=this.getReferenceTarget(r);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,s),o=i instanceof xn?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){let s=this.rootScope.childScopes.get(n);if(s&&s.elementsInScope.has(e))return!0}return!1}findEntityInScope(e,n){let s=this.getEntitiesInScope(e);for(let r of s)if(r.name===n)return r;return null}referenceTargetToElement(e){return e instanceof ne?e:e instanceof ie?null:this.referenceTargetToElement(e.node)}};function Mb(t){let e=new Map;function n(i){if(e.has(i.rootNode))return e.get(i.rootNode);let o=i.namedEntities,a;return i.parentScope!==null?a=new Map([...n(i.parentScope),...o]):a=new Map(o),e.set(i.rootNode,a),a}let s=[t];for(;s.length>0;){let i=s.pop();for(let o of i.childScopes.values())s.push(o);n(i)}let r=new Map;for(let[i,o]of e)r.set(i,new Set(o.values()));return r}var bu=class{},tl=!1,Nu=class{constructor(e=new dc){this.jitEvaluator=e,this.FactoryTarget=at,this.ResourceLoader=bu,this.elementSchemaRegistry=new hn}compilePipe(e,n,s){let r={name:s.name,type:$e(s.type),typeArgumentCount:0,deps:null,pipeName:s.pipeName,pure:s.pure,isStandalone:s.isStandalone},i=yc(r);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,s){let r=Qb(s),i=yc(r);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,s){let{expression:r,statements:i}=pc({name:s.name,type:$e(s.type),typeArgumentCount:s.typeArgumentCount,providedIn:nd(s.providedIn),useClass:Sr(s,"useClass"),useFactory:td(s,"useFactory"),useValue:Sr(s,"useValue"),useExisting:Sr(s,"useExisting"),deps:s.deps?.map(ag)},!0);return this.jitExpression(r,e,n,i)}compileInjectableDeclaration(e,n,s){let{expression:r,statements:i}=pc({name:s.type.name,type:$e(s.type),typeArgumentCount:0,providedIn:nd(s.providedIn),useClass:Sr(s,"useClass"),useFactory:td(s,"useFactory"),useValue:Sr(s,"useValue"),useExisting:Sr(s,"useExisting"),deps:s.deps?.map(sd)},!0);return this.jitExpression(r,e,n,i)}compileInjector(e,n,s){let r={name:s.name,type:$e(s.type),providers:s.providers&&s.providers.length>0?new $(s.providers):null,imports:s.imports.map(o=>new $(o))},i=gc(r);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,s){let r=Jb(s),i=gc(r);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,s){let r={kind:gn.Global,type:$e(s.type),bootstrap:s.bootstrap.map($e),declarations:s.declarations.map($e),publicDeclarationTypes:null,imports:s.imports.map($e),includeImportTypes:!0,exports:s.exports.map($e),selectorScopeMode:Kr.Inline,containsForwardDecls:!1,schemas:s.schemas?s.schemas.map($e):null,id:s.id?new $(s.id):null},i=Vd(r);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,s){let r=kE(s);return this.jitExpression(r,e,n,[])}compileDirective(e,n,s){let r=ed(s);return this.compileDirectiveFromMeta(e,n,r)}compileDirectiveDeclaration(e,n,s){let r=this.createParseSourceSpan("Directive",s.type.name,n),i=rg(s,r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,s){let r=new Oi,i=oi(),o=Qm(s,r,i);return this.jitExpression(o.expression,e,n,r.statements)}compileComponent(e,n,s){let{template:r,interpolation:i,deferBlocks:o}=og(s.template,s.name,n,s.preserveWhitespaces,s.interpolation),a={...s,...ed(s),selector:s.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:s.declarations.map(Bb),declarationListEmitMode:0,deferBlocks:o,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,styles:[...s.styles,...r.styles],encapsulation:s.encapsulation,interpolation:i,changeDetection:s.changeDetection??null,animations:s.animations!=null?new $(s.animations):null,viewProviders:s.viewProviders!=null?new $(s.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:tl},l=`ng:///${s.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,n,s){let r=this.createParseSourceSpan("Component",s.type.name,n),i=Fb(s,r,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,s){let r=new Oi,i=oi(s.interpolation),o=Jm(s,r,i);return this.jitExpression(o.expression,e,n,r.statements)}compileFactory(e,n,s){let r=es({name:s.name,type:$e(s.type),typeArgumentCount:s.typeArgumentCount,deps:Vb(s.deps),target:s.target});return this.jitExpression(r.expression,e,n,r.statements)}compileFactoryDeclaration(e,n,s){let r=es({name:s.type.name,type:$e(s.type),typeArgumentCount:0,deps:Array.isArray(s.deps)?s.deps.map(sd):s.deps,target:s.target});return this.jitExpression(r.expression,e,n,r.statements)}createParseSourceSpan(e,n,s){return IE(e,n,s)}jitExpression(e,n,s,r){let i=[...r,new Ke("$def",e,void 0,Ne.Exported)];return this.jitEvaluator.evaluateStatements(s,i,new vc(n),!0).$def}};function Jf(t){return{...t,isSignal:t.isSignal,predicate:sg(t.predicate),read:t.read?new $(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly}}function Zf(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:sg(t.predicate),descendants:t.descendants??!1,read:t.read?new $(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function sg(t){return Array.isArray(t)?t:ir(new $(t),1)}function ed(t){let e=Xb(t.inputs||[]),n=Du(t.outputs||[]),s=t.propMetadata,r={},i={};for(let o in s)s.hasOwnProperty(o)&&s[o].forEach(a=>{jb(a)?r[o]={bindingPropertyName:a.alias||o,classPropertyName:o,required:a.required||!1,isSignal:!!a.isSignal,transformFunction:a.transform!=null?new $(a.transform):null}:Kb(a)&&(i[o]=a.alias||o)});return{...t,typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:$e(t.type),deps:null,host:{...Hb(t.propMetadata,t.typeSourceSpan,t.host),useTemplatePipeline:tl},inputs:{...e,...r},outputs:{...n,...i},queries:t.queries.map(Jf),providers:t.providers!=null?new $(t.providers):null,viewQueries:t.viewQueries.map(Jf),fullInheritance:!1,hostDirectives:ig(t)}}function rg(t,e){return{name:t.type.name,type:$e(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?zb(t.inputs):{},outputs:t.outputs??{},host:Lb(t.host),queries:(t.queries??[]).map(Zf),viewQueries:(t.viewQueries??[]).map(Zf),providers:t.providers!==void 0?new $(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:t.isStandalone??!1,isSignal:t.isSignal??!1,hostDirectives:ig(t)}}function Lb(t={}){return{attributes:Ob(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute},useTemplatePipeline:tl}}function ig(t){return t.hostDirectives?.length?t.hostDirectives.map(e=>typeof e=="function"?{directive:$e(e),inputs:null,outputs:null,isForwardReference:!1}:{directive:$e(e.directive),isForwardReference:!1,inputs:e.inputs?Du(e.inputs):null,outputs:e.outputs?Du(e.outputs):null}):null}function Ob(t){let e={};for(let n of Object.keys(t))e[n]=new $(t[n]);return e}function Fb(t,e,n){let{template:s,interpolation:r,deferBlocks:i}=og(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.interpolation),o=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":o.push($l(a));break;case"pipe":o.push(Ub(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(a=>$l(a,!0))),t.directives&&o.push(...t.directives.map(a=>$l(a))),t.pipes&&o.push(...$b(t.pipes)));return{...rg(t,e),template:s,styles:t.styles??[],declarations:o,viewProviders:t.viewProviders!==void 0?new $(t.viewProviders):null,animations:t.animations!==void 0?new $(t.animations):null,deferBlocks:i,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,changeDetection:t.changeDetection??Go.Default,encapsulation:t.encapsulation??dn.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:tl}}function Bb(t){return{...t,type:new $(t.type)}}function $l(t,e=null){return{kind:zr.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new $(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function $b(t){return t?Object.keys(t).map(e=>({kind:zr.Pipe,name:e,type:new $(t[e])})):[]}function Ub(t){return{kind:zr.Pipe,name:t.name,type:new $(t.type)}}function og(t,e,n,s,r){let i=r?Wi.fromArray(r):Rt,o=Hm(t,n,{preserveWhitespaces:s,interpolationConfig:i});if(o.errors!==null){let c=o.errors.map(p=>p.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${c}`)}let l=new Va(new is).bind({template:o.nodes});return{template:o,interpolation:i,deferBlocks:qb(l)}}function Sr(t,e){if(t.hasOwnProperty(e))return ir(new $(t[e]),0)}function td(t,e){if(t.hasOwnProperty(e))return new $(t[e])}function nd(t){let e=typeof t=="function"?new $(t):new Ce(t??null);return ir(e,0)}function Vb(t){return t==null?null:t.map(ag)}function ag(t){let e=t.attribute!=null,n=t.token===null?null:new $(t.token),s=e?new $(t.attribute):n;return lg(s,e,t.host,t.optional,t.self,t.skipSelf)}function sd(t){let e=t.attribute??!1,n=t.token===null?null:new $(t.token);return lg(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function lg(t,e,n,s,r,i){let o=e?m("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:s,self:r,skipSelf:i}}function qb(t){let e=t.getDeferBlocks(),n=new Map;for(let s of e){let r=new Map;rd(s,s.triggers,t,r),rd(s,s.prefetchTriggers,t,r),n.set(s,{deps:[],triggerElements:r})}return n}function rd(t,e,n,s){Object.keys(e).forEach(r=>{let i=e[r];s.set(i,n.getDeferredTriggerTarget(t,i))})}function Hb(t,e,n){let s=eg(n||{}),r=tg(s,e);if(r.length)throw new Error(r.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{Gb(o)?s.properties[o.hostPropertyName||i]=yd("this",i):Wb(o)&&(s.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return s}function Gb(t){return t.ngMetadataName==="HostBinding"}function Wb(t){return t.ngMetadataName==="HostListener"}function jb(t){return t.ngMetadataName==="Input"}function Kb(t){return t.ngMetadataName==="Output"}function zb(t){return Object.keys(t).reduce((e,n)=>{let s=t[n];return typeof s=="string"||Array.isArray(s)?e[n]=Yb(s):e[n]={bindingPropertyName:s.publicName,classPropertyName:n,transformFunction:s.transformFunction!==null?new $(s.transformFunction):null,required:s.isRequired,isSignal:s.isSignal},e},{})}function Yb(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new $(t[2]):null,required:!1,isSignal:!1}}function Xb(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[s,r]=cg(n);e[r]={bindingPropertyName:s,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new $(n.transform):null};return e},{})}function Du(t){return t.reduce((e,n)=>{let[s,r]=cg(n);return e[r]=s,e},{})}function cg(t){let[e,n]=t.split(":",2).map(s=>s.trim());return[n??e,e]}function Qb(t){return{name:t.type.name,type:$e(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??!1}}function Jb(t){return{name:t.type.name,type:$e(t.type),providers:t.providers!==void 0&&t.providers.length>0?new $(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new $(e)):[]}}function Zb(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new Nu}var N0=new Fi("17.2.1");var id;(function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"})(id||(id={}));var _u=class{constructor(){this.closedByParent=!1,this.implicitNamespacePrefix=null,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Kt.PARSABLE_DATA}},D0=new _u;var od;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(od||(od={}));Zb(Ti);var vN=I(require("typescript"),1),sl=I(require("typescript"),1),rl=I(require("typescript"),1),SN=I(require("typescript"),1),xN=I(require("typescript"),1),Dg=I(require("typescript"),1);var ge=I(require("typescript"),1);var wN=I(require("typescript"),1),TN=I(require("typescript"),1),ve=I(require("typescript"),1),k0=(0,wg.createRequire)(Ee);function nN(t){return vo.default.isIdentifier(t)||vo.default.isPropertyAccessExpression(t)&&vo.default.isIdentifier(t.expression)&&vo.default.isIdentifier(t.name)}var Ss;(function(t){t[t.Constructor=0]="Constructor",t[t.Getter=1]="Getter",t[t.Setter=2]="Setter",t[t.Property=3]="Property",t[t.Method=4]="Method"})(Ss||(Ss={}));var xs={};function sN(t,e,n){var s,r;if(t===null)return aN();if(!Ve.default.isTypeReferenceNode(t))return pg(t);let i=lN(t,e);if(i===null)return iN(t);let{local:o,decl:a}=i;if(a.valueDeclaration===void 0||a.flags&Ve.default.SymbolFlags.ConstEnum){let p=null;if(a.declarations!==void 0&&a.declarations.length>0&&(p=a.declarations[0]),!n||p&&[Ve.default.SyntaxKind.TypeParameter,Ve.default.SyntaxKind.TypeAliasDeclaration,Ve.default.SyntaxKind.InterfaceDeclaration].includes(p.kind))return rN(t,p)}let l=o.declarations&&o.declarations[0];if(l!==void 0){if(Ve.default.isImportClause(l)&&l.name!==void 0)return l.isTypeOnly?nl(t,l):{kind:0,expression:l.name,defaultImportStatement:l.parent};if(Ve.default.isImportSpecifier(l)){if(l.isTypeOnly)return nl(t,l);if(l.parent.parent.isTypeOnly)return nl(t,l.parent.parent);let p=(l.propertyName||l.name).text,[f,...d]=i.symbolNames,y=hg(l.parent.parent.parent);return{kind:1,valueDeclaration:(s=a.valueDeclaration)!=null?s:null,moduleName:y,importedName:p,nestedPath:d}}else if(Ve.default.isNamespaceImport(l)){if(l.parent.isTypeOnly)return nl(t,l.parent);if(i.symbolNames.length===1)return oN(t,l.parent);let[p,f,...d]=i.symbolNames,y=hg(l.parent.parent);return{kind:1,valueDeclaration:(r=a.valueDeclaration)!=null?r:null,moduleName:y,importedName:f,nestedPath:d}}}let c=Tg(t);return c!==null?{kind:0,expression:c,defaultImportStatement:null}:pg(t)}function pg(t){return{kind:2,reason:{kind:5,typeNode:t}}}function rN(t,e){return{kind:2,reason:{kind:1,typeNode:t,decl:e}}}function nl(t,e){return{kind:2,reason:{kind:2,typeNode:t,node:e}}}function iN(t){return{kind:2,reason:{kind:3,typeNode:t}}}function oN(t,e){return{kind:2,reason:{kind:4,typeNode:t,importClause:e}}}function aN(){return{kind:2,reason:{kind:0}}}function Tg(t){return Ve.default.isTypeReferenceNode(t)?Cg(t.typeName):null}function lN(t,e){let n=t.typeName,s=e.getSymbolAtLocation(n);if(s===void 0)return null;let r=s,i=n,o=[];for(;Ve.default.isQualifiedName(i);)o.unshift(i.right.text),i=i.left;if(o.unshift(i.text),i!==n){let l=e.getSymbolAtLocation(i);l!==void 0&&(r=l)}let a=s;return s.flags&Ve.default.SymbolFlags.Alias&&(a=e.getAliasedSymbol(s)),{local:r,decl:a,symbolNames:o}}function Cg(t){if(Ve.default.isQualifiedName(t)){let e=Cg(t.left);return e!==null?Ve.default.factory.createPropertyAccessExpression(e,t.right):null}else if(Ve.default.isIdentifier(t)){let e=Ve.default.setOriginalNode(Ve.default.factory.createIdentifier(t.text),t);return e.parent=t.parent,e}else return null}function hg(t){if(!Ve.default.isStringLiteral(t.moduleSpecifier))throw new Error("not a module specifier");return t.moduleSpecifier.text}function ip(t){return rp.default.isClassDeclaration(t)&&cN(t.name)}function cN(t){return t!==void 0&&rp.default.isIdentifier(t)}var op=class{constructor(t,e=!1){this.checker=t,this.isLocalCompilation=e}getDecoratorsOfDeclaration(t){let e=L.default.canHaveDecorators(t)?L.default.getDecorators(t):void 0;return e!==void 0&&e.length?e.map(n=>this._reflectDecorator(n)).filter(n=>n!==null):null}getMembersOfClass(t){return fg(t).members.map(n=>this._reflectMember(n)).filter(n=>n!==null)}getConstructorParameters(t){let e=fg(t),n=e.getSourceFile().isDeclarationFile,s=e.members.find(r=>L.default.isConstructorDeclaration(r)&&(n||r.body!==void 0));return s===void 0?null:s.parameters.map(r=>{let i=dg(r.name),o=this.getDecoratorsOfDeclaration(r),a=r.type||null,l=a;if(l&&L.default.isUnionTypeNode(l)){let p=l.types.filter(f=>!(L.default.isLiteralTypeNode(f)&&f.literal.kind===L.default.SyntaxKind.NullKeyword));p.length===1&&(l=p[0])}let c=sN(l,this.checker,this.isLocalCompilation);return{name:i,nameNode:r.name,typeValueReference:c,typeNode:a,decorators:o}})}getImportOfIdentifier(t){let e=this.getDirectImportOfIdentifier(t);return e!==null?e:L.default.isQualifiedName(t.parent)&&t.parent.right===t?this.getImportOfNamespacedIdentifier(t,pN(t.parent)):L.default.isPropertyAccessExpression(t.parent)&&t.parent.name===t?this.getImportOfNamespacedIdentifier(t,hN(t.parent)):null}getExportsOfModule(t){if(!L.default.isSourceFile(t))throw new Error("getExportsOfModule() called on non-SourceFile in TS code");let e=this.checker.getSymbolAtLocation(t);if(e===void 0)return null;let n=new Map;return this.checker.getExportsOfModule(e).forEach(s=>{let r=this.getDeclarationOfSymbol(s,null);r!==null&&n.set(s.name,r)}),n}isClass(t){return ip(t)}hasBaseClass(t){return this.getBaseClassExpression(t)!==null}getBaseClassExpression(t){if(!(L.default.isClassDeclaration(t)||L.default.isClassExpression(t))||t.heritageClauses===void 0)return null;let e=t.heritageClauses.find(s=>s.token===L.default.SyntaxKind.ExtendsKeyword);if(e===void 0)return null;let n=e.types[0];return n===void 0?null:n.expression}getDeclarationOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);return e===void 0?null:this.getDeclarationOfSymbol(e,t)}getDefinitionOfFunction(t){if(!L.default.isFunctionDeclaration(t)&&!L.default.isMethodDeclaration(t)&&!L.default.isFunctionExpression(t)&&!L.default.isArrowFunction(t))return null;let e=null;t.body!==void 0&&(e=L.default.isBlock(t.body)?Array.from(t.body.statements):[L.default.factory.createReturnStatement(t.body)]);let n=this.checker.getTypeAtLocation(t),s=this.checker.getSignaturesOfType(n,L.default.SignatureKind.Call);return{node:t,body:e,signatureCount:s.length,typeParameters:t.typeParameters===void 0?null:Array.from(t.typeParameters),parameters:t.parameters.map(r=>{let i=dg(r.name),o=r.initializer||null;return{name:i,node:r,initializer:o,type:r.type||null}})}}getGenericArityOfClass(t){return L.default.isClassDeclaration(t)?t.typeParameters!==void 0?t.typeParameters.length:0:null}getVariableValue(t){return t.initializer||null}isStaticallyExported(t){let e=t;L.default.isVariableDeclaration(t)&&L.default.isVariableDeclarationList(t.parent)&&(e=t.parent.parent);let n=L.default.canHaveModifiers(e)?L.default.getModifiers(e):void 0;return n!==void 0&&n.some(r=>r.kind===L.default.SyntaxKind.ExportKeyword)?!0:e.parent===void 0||!L.default.isSourceFile(e.parent)?!1:this.getLocalExportedDeclarationsOfSourceFile(t.getSourceFile()).has(t)}getDirectImportOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);if(e===void 0||e.declarations===void 0||e.declarations.length!==1)return null;let n=e.declarations[0],s=fN(n);return s===null||!L.default.isStringLiteral(s.moduleSpecifier)?null:{from:s.moduleSpecifier.text,name:dN(n,t),node:s}}getImportOfNamespacedIdentifier(t,e){if(e===null)return null;let n=this.checker.getSymbolAtLocation(e);if(!n||n.declarations===void 0)return null;let s=n.declarations.length===1?n.declarations[0]:null;if(!s)return null;let r=L.default.isNamespaceImport(s)?s:null;if(!r)return null;let i=r.parent.parent;return L.default.isStringLiteral(i.moduleSpecifier)?{from:i.moduleSpecifier.text,name:t.text,node:r.parent.parent}:null}getDeclarationOfSymbol(t,e){let n;if(t.valueDeclaration!==void 0?n=t.valueDeclaration:t.declarations!==void 0&&t.declarations.length>0&&(n=t.declarations[0]),n!==void 0&&L.default.isShorthandPropertyAssignment(n)){let r=this.checker.getShorthandAssignmentValueSymbol(n);return r===void 0?null:this.getDeclarationOfSymbol(r,e)}else if(n!==void 0&&L.default.isExportSpecifier(n)){let r=this.checker.getExportSpecifierLocalTargetSymbol(n);return r===void 0?null:this.getDeclarationOfSymbol(r,e)}let s=e&&this.getImportOfIdentifier(e);for(;t.flags&L.default.SymbolFlags.Alias;)t=this.checker.getAliasedSymbol(t);return t.valueDeclaration!==void 0?{node:t.valueDeclaration,viaModule:this._viaModule(t.valueDeclaration,e,s)}:t.declarations!==void 0&&t.declarations.length>0?{node:t.declarations[0],viaModule:this._viaModule(t.declarations[0],e,s)}:null}_reflectDecorator(t){let e=t.expression,n=null;if(L.default.isCallExpression(e)&&(n=Array.from(e.arguments),e=e.expression),!nN(e))return null;let s=L.default.isIdentifier(e)?e:e.name,r=this.getImportOfIdentifier(s);return{name:s.text,identifier:e,import:r,node:t,args:n}}_reflectMember(t){let e=null,n=null,s=null,r=null;if(L.default.isPropertyDeclaration(t))e=Ss.Property,n=t.initializer||null;else if(L.default.isGetAccessorDeclaration(t))e=Ss.Getter;else if(L.default.isSetAccessorDeclaration(t))e=Ss.Setter;else if(L.default.isMethodDeclaration(t))e=Ss.Method;else if(L.default.isConstructorDeclaration(t))e=Ss.Constructor;else return null;if(L.default.isConstructorDeclaration(t))s="constructor";else if(L.default.isIdentifier(t.name))s=t.name.text,r=t.name;else if(L.default.isStringLiteral(t.name))s=t.name.text,r=t.name;else return null;let i=this.getDecoratorsOfDeclaration(t),o=L.default.getModifiers(t),a=o!==void 0&&o.some(l=>l.kind===L.default.SyntaxKind.StaticKeyword);return{node:t,implementation:t,kind:e,type:t.type||null,name:s,nameNode:r,decorators:i,value:n,isStatic:a}}getLocalExportedDeclarationsOfSourceFile(t){let e=t;if(e[Zu]!==void 0)return e[Zu];let n=new Set;e[Zu]=n;let s=this.checker.getSymbolAtLocation(e);if(s===void 0||s.exports===void 0)return n;let r=s.exports.values(),i=r.next();for(;i.done!==!0;){let o=i.value;o.flags&L.default.SymbolFlags.Alias&&(o=this.checker.getAliasedSymbol(o)),o.valueDeclaration!==void 0&&o.valueDeclaration.getSourceFile()===t&&n.add(o.valueDeclaration),i=r.next()}return n}_viaModule(t,e,n){return n===null&&e!==null&&t.getSourceFile()!==e.getSourceFile()?xs:n!==null&&n.from!==null&&!n.from.startsWith(".")?n.from:null}};function ap(t){let e=new Map;return t.properties.forEach(n=>{if(L.default.isPropertyAssignment(n)){let s=uN(n.name);if(s===null)return;e.set(s,n.initializer)}else if(L.default.isShorthandPropertyAssignment(n))e.set(n.name.text,n.name);else return}),e}function fg(t){if(!L.default.isClassDeclaration(t))throw new Error(`Reflecting on a ${L.default.SyntaxKind[t.kind]} instead of a ClassDeclaration.`);return t}function dg(t){return L.default.isIdentifier(t)?t.text:null}function uN(t){return L.default.isIdentifier(t)||L.default.isStringLiteral(t)||L.default.isNumericLiteral(t)?t.text:null}function pN(t){for(;L.default.isQualifiedName(t.left);)t=t.left;return L.default.isIdentifier(t.left)?t.left:null}function hN(t){for(;L.default.isPropertyAccessExpression(t.expression);)t=t.expression;return L.default.isIdentifier(t.expression)?t.expression:null}function fN(t){let e=t.parent;for(;e&&!L.default.isSourceFile(e);){if(L.default.isImportDeclaration(e))return e;e=e.parent}return null}function dN(t,e){return L.default.isImportSpecifier(t)?(t.propertyName!==void 0?t.propertyName:t.name).text:e.text}var Zu=Symbol("LocalExportedDeclarations");function tp(t){return t.name!==void 0&&ws.default.isIdentifier(t.name)?t.name:null}function Ig(t){return mN(t)||gN(t)}function mN(t){return ws.default.isClassDeclaration(t)||ws.default.isFunctionDeclaration(t)||ws.default.isVariableDeclaration(t)}function gN(t){return ws.default.isEnumDeclaration(t)||ws.default.isTypeAliasDeclaration(t)||ws.default.isInterfaceDeclaration(t)}var It=class{constructor(t,e=null){this.node=t,this.identifiers=[],this.synthetic=!1,this._alias=null,e===xs?(this.isAmbient=!0,this.bestGuessOwningModule=null):(this.isAmbient=!1,this.bestGuessOwningModule=e);let n=tp(t);n!==null&&this.identifiers.push(n)}get ownedByModuleGuess(){return this.bestGuessOwningModule!==null?this.bestGuessOwningModule.specifier:null}get hasOwningModuleGuess(){return this.bestGuessOwningModule!==null}get debugName(){let t=tp(this.node);return t!==null?t.text:null}get alias(){return this._alias}addIdentifier(t){this.identifiers.push(t)}getIdentityIn(t){return this.identifiers.find(e=>e.getSourceFile()===t)||null}getIdentityInExpression(t){let e=t.getSourceFile();return this.identifiers.find(n=>n.getSourceFile()!==e?!1:n.pos>=t.pos&&n.end<=t.end)||null}getOriginForDiagnostics(t,e=t){let n=this.getIdentityInExpression(t);return n!==null?n:e}cloneWithAlias(t){let e=new It(this.node,this.isAmbient?xs:this.bestGuessOwningModule);return e.identifiers=[...this.identifiers],e._alias=t,e}cloneWithNoIdentifiers(){let t=new It(this.node,this.isAmbient?xs:this.bestGuessOwningModule);return t._alias=this._alias,t.identifiers=[],t}},ee;(function(t){t[t.DECORATOR_ARG_NOT_LITERAL=1001]="DECORATOR_ARG_NOT_LITERAL",t[t.DECORATOR_ARITY_WRONG=1002]="DECORATOR_ARITY_WRONG",t[t.DECORATOR_NOT_CALLED=1003]="DECORATOR_NOT_CALLED",t[t.DECORATOR_UNEXPECTED=1005]="DECORATOR_UNEXPECTED",t[t.DECORATOR_COLLISION=1006]="DECORATOR_COLLISION",t[t.VALUE_HAS_WRONG_TYPE=1010]="VALUE_HAS_WRONG_TYPE",t[t.VALUE_NOT_LITERAL=1011]="VALUE_NOT_LITERAL",t[t.INITIALIZER_API_WITH_DISALLOWED_DECORATOR=1050]="INITIALIZER_API_WITH_DISALLOWED_DECORATOR",t[t.INITIALIZER_API_DECORATOR_METADATA_COLLISION=1051]="INITIALIZER_API_DECORATOR_METADATA_COLLISION",t[t.INITIALIZER_API_NO_REQUIRED_FUNCTION=1052]="INITIALIZER_API_NO_REQUIRED_FUNCTION",t[t.INCORRECTLY_DECLARED_ON_STATIC_MEMBER=1100]="INCORRECTLY_DECLARED_ON_STATIC_MEMBER",t[t.COMPONENT_MISSING_TEMPLATE=2001]="COMPONENT_MISSING_TEMPLATE",t[t.PIPE_MISSING_NAME=2002]="PIPE_MISSING_NAME",t[t.PARAM_MISSING_TOKEN=2003]="PARAM_MISSING_TOKEN",t[t.DIRECTIVE_MISSING_SELECTOR=2004]="DIRECTIVE_MISSING_SELECTOR",t[t.UNDECORATED_PROVIDER=2005]="UNDECORATED_PROVIDER",t[t.DIRECTIVE_INHERITS_UNDECORATED_CTOR=2006]="DIRECTIVE_INHERITS_UNDECORATED_CTOR",t[t.UNDECORATED_CLASS_USING_ANGULAR_FEATURES=2007]="UNDECORATED_CLASS_USING_ANGULAR_FEATURES",t[t.COMPONENT_RESOURCE_NOT_FOUND=2008]="COMPONENT_RESOURCE_NOT_FOUND",t[t.COMPONENT_INVALID_SHADOW_DOM_SELECTOR=2009]="COMPONENT_INVALID_SHADOW_DOM_SELECTOR",t[t.COMPONENT_NOT_STANDALONE=2010]="COMPONENT_NOT_STANDALONE",t[t.COMPONENT_IMPORT_NOT_STANDALONE=2011]="COMPONENT_IMPORT_NOT_STANDALONE",t[t.COMPONENT_UNKNOWN_IMPORT=2012]="COMPONENT_UNKNOWN_IMPORT",t[t.HOST_DIRECTIVE_INVALID=2013]="HOST_DIRECTIVE_INVALID",t[t.HOST_DIRECTIVE_NOT_STANDALONE=2014]="HOST_DIRECTIVE_NOT_STANDALONE",t[t.HOST_DIRECTIVE_COMPONENT=2015]="HOST_DIRECTIVE_COMPONENT",t[t.INJECTABLE_INHERITS_INVALID_CONSTRUCTOR=2016]="INJECTABLE_INHERITS_INVALID_CONSTRUCTOR",t[t.HOST_DIRECTIVE_UNDEFINED_BINDING=2017]="HOST_DIRECTIVE_UNDEFINED_BINDING",t[t.HOST_DIRECTIVE_CONFLICTING_ALIAS=2018]="HOST_DIRECTIVE_CONFLICTING_ALIAS",t[t.HOST_DIRECTIVE_MISSING_REQUIRED_BINDING=2019]="HOST_DIRECTIVE_MISSING_REQUIRED_BINDING",t[t.CONFLICTING_INPUT_TRANSFORM=2020]="CONFLICTING_INPUT_TRANSFORM",t[t.COMPONENT_INVALID_STYLE_URLS=2021]="COMPONENT_INVALID_STYLE_URLS",t[t.COMPONENT_UNKNOWN_DEFERRED_IMPORT=2022]="COMPONENT_UNKNOWN_DEFERRED_IMPORT",t[t.SYMBOL_NOT_EXPORTED=3001]="SYMBOL_NOT_EXPORTED",t[t.IMPORT_CYCLE_DETECTED=3003]="IMPORT_CYCLE_DETECTED",t[t.IMPORT_GENERATION_FAILURE=3004]="IMPORT_GENERATION_FAILURE",t[t.CONFIG_FLAT_MODULE_NO_INDEX=4001]="CONFIG_FLAT_MODULE_NO_INDEX",t[t.CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK=4002]="CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK",t[t.CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES=4003]="CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL=4004]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK=4005]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK",t[t.HOST_BINDING_PARSE_ERROR=5001]="HOST_BINDING_PARSE_ERROR",t[t.TEMPLATE_PARSE_ERROR=5002]="TEMPLATE_PARSE_ERROR",t[t.NGMODULE_INVALID_DECLARATION=6001]="NGMODULE_INVALID_DECLARATION",t[t.NGMODULE_INVALID_IMPORT=6002]="NGMODULE_INVALID_IMPORT",t[t.NGMODULE_INVALID_EXPORT=6003]="NGMODULE_INVALID_EXPORT",t[t.NGMODULE_INVALID_REEXPORT=6004]="NGMODULE_INVALID_REEXPORT",t[t.NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC=6005]="NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC",t[t.NGMODULE_REEXPORT_NAME_COLLISION=6006]="NGMODULE_REEXPORT_NAME_COLLISION",t[t.NGMODULE_DECLARATION_NOT_UNIQUE=6007]="NGMODULE_DECLARATION_NOT_UNIQUE",t[t.NGMODULE_DECLARATION_IS_STANDALONE=6008]="NGMODULE_DECLARATION_IS_STANDALONE",t[t.NGMODULE_BOOTSTRAP_IS_STANDALONE=6009]="NGMODULE_BOOTSTRAP_IS_STANDALONE",t[t.WARN_NGMODULE_ID_UNNECESSARY=6100]="WARN_NGMODULE_ID_UNNECESSARY",t[t.SCHEMA_INVALID_ELEMENT=8001]="SCHEMA_INVALID_ELEMENT",t[t.SCHEMA_INVALID_ATTRIBUTE=8002]="SCHEMA_INVALID_ATTRIBUTE",t[t.MISSING_REFERENCE_TARGET=8003]="MISSING_REFERENCE_TARGET",t[t.MISSING_PIPE=8004]="MISSING_PIPE",t[t.WRITE_TO_READ_ONLY_VARIABLE=8005]="WRITE_TO_READ_ONLY_VARIABLE",t[t.DUPLICATE_VARIABLE_DECLARATION=8006]="DUPLICATE_VARIABLE_DECLARATION",t[t.SPLIT_TWO_WAY_BINDING=8007]="SPLIT_TWO_WAY_BINDING",t[t.MISSING_REQUIRED_INPUTS=8008]="MISSING_REQUIRED_INPUTS",t[t.ILLEGAL_FOR_LOOP_TRACK_ACCESS=8009]="ILLEGAL_FOR_LOOP_TRACK_ACCESS",t[t.INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT=8010]="INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT",t[t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION=8011]="CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION",t[t.DEFERRED_PIPE_USED_EAGERLY=8012]="DEFERRED_PIPE_USED_EAGERLY",t[t.DEFERRED_DIRECTIVE_USED_EAGERLY=8013]="DEFERRED_DIRECTIVE_USED_EAGERLY",t[t.DEFERRED_DEPENDENCY_IMPORTED_EAGERLY=8014]="DEFERRED_DEPENDENCY_IMPORTED_EAGERLY",t[t.INVALID_BANANA_IN_BOX=8101]="INVALID_BANANA_IN_BOX",t[t.NULLISH_COALESCING_NOT_NULLABLE=8102]="NULLISH_COALESCING_NOT_NULLABLE",t[t.MISSING_CONTROL_FLOW_DIRECTIVE=8103]="MISSING_CONTROL_FLOW_DIRECTIVE",t[t.TEXT_ATTRIBUTE_NOT_BINDING=8104]="TEXT_ATTRIBUTE_NOT_BINDING",t[t.MISSING_NGFOROF_LET=8105]="MISSING_NGFOROF_LET",t[t.SUFFIX_NOT_SUPPORTED=8106]="SUFFIX_NOT_SUPPORTED",t[t.OPTIONAL_CHAIN_NOT_NULLABLE=8107]="OPTIONAL_CHAIN_NOT_NULLABLE",t[t.SKIP_HYDRATION_NOT_STATIC=8108]="SKIP_HYDRATION_NOT_STATIC",t[t.INTERPOLATED_SIGNAL_NOT_INVOKED=8109]="INTERPOLATED_SIGNAL_NOT_INVOKED",t[t.INLINE_TCB_REQUIRED=8900]="INLINE_TCB_REQUIRED",t[t.INLINE_TYPE_CTOR_REQUIRED=8901]="INLINE_TYPE_CTOR_REQUIRED",t[t.INJECTABLE_DUPLICATE_PROV=9001]="INJECTABLE_DUPLICATE_PROV",t[t.SUGGEST_STRICT_TEMPLATES=10001]="SUGGEST_STRICT_TEMPLATES",t[t.SUGGEST_SUBOPTIMAL_TYPE_INFERENCE=10002]="SUGGEST_SUBOPTIMAL_TYPE_INFERENCE",t[t.LOCAL_COMPILATION_UNRESOLVED_CONST=11001]="LOCAL_COMPILATION_UNRESOLVED_CONST",t[t.LOCAL_COMPILATION_EXPRESSION_FOR_HOST_DIRECTIVE=11003]="LOCAL_COMPILATION_EXPRESSION_FOR_HOST_DIRECTIVE"})(ee||(ee={}));var yN=new Set([ee.DECORATOR_ARG_NOT_LITERAL,ee.IMPORT_CYCLE_DETECTED,ee.PARAM_MISSING_TOKEN,ee.SCHEMA_INVALID_ELEMENT,ee.SCHEMA_INVALID_ATTRIBUTE,ee.MISSING_REFERENCE_TARGET,ee.COMPONENT_INVALID_SHADOW_DOM_SELECTOR,ee.WARN_NGMODULE_ID_UNNECESSARY]);function Ag(t){return parseInt("-99"+t)}var Ts=class extends Error{constructor(t,e,n,s){super(`FatalDiagnosticError #${t}: ${n}`),this.code=t,this.node=e,this.diagnosticMessage=n,this.relatedInformation=s,this.message=null,this._isFatalDiagnosticError=!0,Object.setPrototypeOf(this,new.target.prototype)}toDiagnostic(){return lp(this.code,this.node,this.diagnosticMessage,this.relatedInformation)}};function lp(t,e,n,s){return e=sl.default.getOriginalNode(e),{category:sl.default.DiagnosticCategory.Error,code:Ag(t),file:sl.default.getOriginalNode(e).getSourceFile(),start:e.getStart(void 0,!1),length:e.getWidth(),messageText:n,relatedInformation:s}}var Ht;(function(t){t.INVALID_BANANA_IN_BOX="invalidBananaInBox",t.NULLISH_COALESCING_NOT_NULLABLE="nullishCoalescingNotNullable",t.OPTIONAL_CHAIN_NOT_NULLABLE="optionalChainNotNullable",t.MISSING_CONTROL_FLOW_DIRECTIVE="missingControlFlowDirective",t.TEXT_ATTRIBUTE_NOT_BINDING="textAttributeNotBinding",t.MISSING_NGFOROF_LET="missingNgForOfLet",t.SUFFIX_NOT_SUPPORTED="suffixNotSupported",t.SKIP_HYDRATION_NOT_STATIC="skipHydrationNotStatic",t.INTERPOLATED_SIGNAL_NOT_INVOKED="interpolatedSignalNotInvoked",t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION="controlFlowPreventingContentProjection"})(Ht||(Ht={}));var il;(function(t){t[t.None=0]="None",t[t.ForceNewImport=1]="ForceNewImport",t[t.NoAliasing=2]="NoAliasing",t[t.AllowTypeImports=4]="AllowTypeImports",t[t.AllowRelativeDtsImports=8]="AllowRelativeDtsImports",t[t.AllowAmbientReferences=16]="AllowAmbientReferences"})(il||(il={}));var bg=class{shouldImportSymbol(t,e){return!0}rewriteSymbol(t,e){return t}rewriteSpecifier(t,e){return t}};var mg=Symbol("patchedReferencedAliases");function Ng(t){EN(t)||gg();let e=t.getEmitResolver(),n=e[mg];if(n!==void 0)return n;let s=e.isReferencedAliasDeclaration;s===void 0&&gg();let r=new Set;return e.isReferencedAliasDeclaration=function(i,...o){return cp(i)&&r.has(i)?!0:s.call(e,i,...o)},e[mg]=r}function cp(t){return rl.default.isImportSpecifier(t)||rl.default.isNamespaceImport(t)||rl.default.isImportClause(t)}function EN(t){return t.getEmitResolver!==void 0}function gg(){throw Error(`Angular compiler is incompatible with this version of the TypeScript compiler.

If you recently updated TypeScript and this issue surfaces now, consider downgrading.

Please report an issue on the Angular repositories when this issue surfaces and you are using a supposedly compatible TypeScript version.`)}var O0=Symbol("DefaultImportDeclaration");var ol=class{constructor(t=new bg,e="i",n=Dg.default.factory){this.rewriter=t,this.prefix=e,this.factory=n,this.specifierToIdentifier=new Map,this.nextIndex=0}generateNamespaceImport(t){return(!this.specifierToIdentifier.has(t)||this.specifierToIdentifier.get(t)===null)&&this.specifierToIdentifier.set(t,this.factory.createIdentifier(`${this.prefix}${this.nextIndex++}`)),this.specifierToIdentifier.get(t)}generateNamedImport(t,e){let n=this.rewriter.rewriteSymbol(e,t);return this.rewriter.shouldImportSymbol(n,t)?{moduleImport:this.generateNamespaceImport(t),symbol:n}:{moduleImport:null,symbol:n}}generateSideEffectImport(t){this.specifierToIdentifier.has(t)||this.specifierToIdentifier.set(t,null)}getAllImports(t){let e=[];for(let[n,s]of this.specifierToIdentifier){let r=this.rewriter.rewriteSpecifier(n,t);e.push({specifier:r,qualifier:s})}return e}};var F0=new Map([[Ft.Minus,"-"],[Ft.Plus,"+"]]),B0=new Map([[w.And,"&&"],[w.Bigger,">"],[w.BiggerEquals,">="],[w.BitwiseAnd,"&"],[w.BitwiseOr,"|"],[w.Divide,"/"],[w.Equals,"=="],[w.Identical,"==="],[w.Lower,"<"],[w.LowerEquals,"<="],[w.Minus,"-"],[w.Modulo,"%"],[w.Multiply,"*"],[w.NotEquals,"!="],[w.NotIdentical,"!=="],[w.Or,"||"],[w.Plus,"+"],[w.NullishCoalesce,"??"]]);var ep={};function _g(t,e){return n(t);function n(i){return s(i)!==ep}function s(i){return ge.default.isImportTypeNode(i)||ge.default.isTypeReferenceNode(i)&&!r(i)?ep:ge.default.forEachChild(i,s)}function r(i){return e(i)?i.typeArguments===void 0||i.typeArguments.every(n):!1}}var Pg=class{constructor(t){this.translator=t}emitType(t){let e=n=>{let s=r=>{if(ge.default.isImportTypeNode(r))throw new Error("Unable to emit import type");if(ge.default.isTypeReferenceNode(r))return this.emitTypeReference(r);if(ge.default.isLiteralExpression(r)){let i;if(ge.default.isStringLiteral(r))i=ge.default.factory.createStringLiteral(r.text);else if(ge.default.isNumericLiteral(r))i=ge.default.factory.createNumericLiteral(r.text);else if(ge.default.isBigIntLiteral(r))i=ge.default.factory.createBigIntLiteral(r.text);else if(ge.default.isNoSubstitutionTemplateLiteral(r))i=ge.default.factory.createNoSubstitutionTemplateLiteral(r.text,r.rawText);else if(ge.default.isRegularExpressionLiteral(r))i=ge.default.factory.createRegularExpressionLiteral(r.text);else throw new Error(`Unsupported literal kind ${ge.default.SyntaxKind[r.kind]}`);return ge.default.setTextRange(i,{pos:-1,end:-1}),i}else return ge.default.visitEachChild(r,s,n)};return r=>ge.default.visitNode(r,s,ge.default.isTypeNode)};return ge.default.transform(t,[e]).transformed[0]}emitTypeReference(t){let e=this.translator(t);if(e===null)throw new Error("Unable to emit an unresolved reference");let n;return t.typeArguments!==void 0&&(n=ge.default.factory.createNodeArray(t.typeArguments.map(s=>this.emitType(s)))),ge.default.factory.updateTypeReferenceNode(t,e.typeName,n)}};var vg;(function(t){t.CLOSURE="* @pureOrBreakMyCode ",t.TERSER="@__PURE__"})(vg||(vg={}));var $0={"+":ve.default.SyntaxKind.PlusToken,"-":ve.default.SyntaxKind.MinusToken,"!":ve.default.SyntaxKind.ExclamationToken},U0={"&&":ve.default.SyntaxKind.AmpersandAmpersandToken,">":ve.default.SyntaxKind.GreaterThanToken,">=":ve.default.SyntaxKind.GreaterThanEqualsToken,"&":ve.default.SyntaxKind.AmpersandToken,"|":ve.default.SyntaxKind.BarToken,"/":ve.default.SyntaxKind.SlashToken,"==":ve.default.SyntaxKind.EqualsEqualsToken,"===":ve.default.SyntaxKind.EqualsEqualsEqualsToken,"<":ve.default.SyntaxKind.LessThanToken,"<=":ve.default.SyntaxKind.LessThanEqualsToken,"-":ve.default.SyntaxKind.MinusToken,"%":ve.default.SyntaxKind.PercentToken,"*":ve.default.SyntaxKind.AsteriskToken,"!=":ve.default.SyntaxKind.ExclamationEqualsToken,"!==":ve.default.SyntaxKind.ExclamationEqualsEqualsToken,"||":ve.default.SyntaxKind.BarBarToken,"+":ve.default.SyntaxKind.PlusToken,"??":ve.default.SyntaxKind.QuestionQuestionToken},V0={const:ve.default.NodeFlags.Const,let:ve.default.NodeFlags.Let,var:ve.default.NodeFlags.None};var kg=require("module"),X0=(0,kg.createRequire)(Ee),fi;(function(t){t[t.Unaccounted=0]="Unaccounted",t[t.Setup=1]="Setup",t[t.TypeScriptProgramCreate=2]="TypeScriptProgramCreate",t[t.Reconciliation=3]="Reconciliation",t[t.ResourceUpdate=4]="ResourceUpdate",t[t.TypeScriptDiagnostics=5]="TypeScriptDiagnostics",t[t.Analysis=6]="Analysis",t[t.Resolve=7]="Resolve",t[t.CycleDetection=8]="CycleDetection",t[t.TcbGeneration=9]="TcbGeneration",t[t.TcbUpdateProgram=10]="TcbUpdateProgram",t[t.TypeScriptEmit=11]="TypeScriptEmit",t[t.Compile=12]="Compile",t[t.TtcAutocompletion=13]="TtcAutocompletion",t[t.TtcDiagnostics=14]="TtcDiagnostics",t[t.TtcSymbol=15]="TtcSymbol",t[t.LsReferencesAndRenames=16]="LsReferencesAndRenames",t[t.LsQuickInfo=17]="LsQuickInfo",t[t.LsDefinition=18]="LsDefinition",t[t.LsCompletions=19]="LsCompletions",t[t.LsTcb=20]="LsTcb",t[t.LsDiagnostics=21]="LsDiagnostics",t[t.LsComponentLocations=22]="LsComponentLocations",t[t.LsSignatureHelp=23]="LsSignatureHelp",t[t.OutliningSpans=24]="OutliningSpans",t[t.LAST=25]="LAST",t[t.LsCodeFixes=26]="LsCodeFixes",t[t.LsCodeFixesAll=27]="LsCodeFixesAll"})(fi||(fi={}));var al;(function(t){t[t.InputDtsFile=0]="InputDtsFile",t[t.InputTsFile=1]="InputTsFile",t[t.AnalyzeComponent=2]="AnalyzeComponent",t[t.AnalyzeDirective=3]="AnalyzeDirective",t[t.AnalyzeInjectable=4]="AnalyzeInjectable",t[t.AnalyzeNgModule=5]="AnalyzeNgModule",t[t.AnalyzePipe=6]="AnalyzePipe",t[t.TraitAnalyze=7]="TraitAnalyze",t[t.TraitReuseAnalysis=8]="TraitReuseAnalysis",t[t.SourceFilePhysicalChange=9]="SourceFilePhysicalChange",t[t.SourceFileLogicalChange=10]="SourceFileLogicalChange",t[t.SourceFileReuseAnalysis=11]="SourceFileReuseAnalysis",t[t.GenerateTcb=12]="GenerateTcb",t[t.SkipGenerateTcbNoInline=13]="SkipGenerateTcbNoInline",t[t.ReuseTypeCheckFile=14]="ReuseTypeCheckFile",t[t.UpdateTypeCheckProgram=15]="UpdateTypeCheckProgram",t[t.EmitSkipSourceFile=16]="EmitSkipSourceFile",t[t.EmitSourceFile=17]="EmitSourceFile",t[t.LAST=18]="LAST"})(al||(al={}));var up;(function(t){t[t.Initial=0]="Initial",t[t.TypeScriptProgramCreate=1]="TypeScriptProgramCreate",t[t.PreAnalysis=2]="PreAnalysis",t[t.Analysis=3]="Analysis",t[t.Resolve=4]="Resolve",t[t.TtcGeneration=5]="TtcGeneration",t[t.TtcUpdateProgram=6]="TtcUpdateProgram",t[t.PreEmit=7]="PreEmit",t[t.Emit=8]="Emit",t[t.LAST=9]="LAST"})(up||(up={}));var CN=class{eventCount(){}memory(){}phase(){return fi.Unaccounted}inPhase(t,e){return e()}reset(){}},Q0=new CN;var b=I(require("typescript"),1),FN=I(require("typescript"),1);var In=I(require("typescript"),1);var UN=I(require("typescript"),1),VN=I(require("typescript"),1),qN=I(require("typescript"),1),HN=I(require("typescript"),1),GN=I(require("typescript"),1),WN=I(require("typescript"),1),jN=I(require("typescript"),1),ar=I(require("typescript"),1);var YN=I(require("typescript"),1),XN=I(require("typescript"),1);var QN=I(require("typescript"),1);var JN=I(require("typescript"),1);var ZN=I(require("typescript"),1),eD=I(require("typescript"),1);var tD=I(require("typescript"),1);var nD=I(require("typescript"),1);var sD=I(require("typescript"),1);var rD=I(require("typescript"),1),di=I(require("typescript"),1),yp=I(require("typescript"),1);var Cs=I(require("typescript"),1);var uD=I(require("typescript"),1),pD=I(require("typescript"),1);var hD=I(require("typescript"),1);var fD=I(require("typescript"),1);var dD=I(require("typescript"),1),SP=(0,Hg.createRequire)(Ee),N=class{constructor(t,e,n){this.node=t,this.reason=e,this.code=n}static fromDynamicInput(t,e){return new N(t,e,0)}static fromDynamicString(t){return new N(t,void 0,1)}static fromExternalReference(t,e){return new N(t,e,2)}static fromUnsupportedSyntax(t){return new N(t,void 0,3)}static fromUnknownIdentifier(t){return new N(t,void 0,4)}static fromInvalidExpressionType(t,e){return new N(t,e,5)}static fromComplexFunctionCall(t,e){return new N(t,e,6)}static fromDynamicType(t){return new N(t,void 0,7)}static fromSyntheticInput(t,e){return new N(t,e,8)}static fromUnknown(t){return new N(t,void 0,9)}isFromDynamicInput(){return this.code===0}isFromDynamicString(){return this.code===1}isFromExternalReference(){return this.code===2}isFromUnsupportedSyntax(){return this.code===3}isFromUnknownIdentifier(){return this.code===4}isFromInvalidExpressionType(){return this.code===5}isFromComplexFunctionCall(){return this.code===6}isFromDynamicType(){return this.code===7}isFromUnknown(){return this.code===9}accept(t){switch(this.code){case 0:return t.visitDynamicInput(this);case 1:return t.visitDynamicString(this);case 2:return t.visitExternalReference(this);case 3:return t.visitUnsupportedSyntax(this);case 4:return t.visitUnknownIdentifier(this);case 5:return t.visitInvalidExpressionType(this);case 6:return t.visitComplexFunctionCall(this);case 7:return t.visitDynamicType(this);case 8:return t.visitSyntheticInput(this);case 9:return t.visitUnknown(this)}}},pp=class{constructor(t,e){this.exports=t,this.evaluate=e}getExport(t){if(this.exports.has(t))return this.evaluate(this.exports.get(t))}getExports(){let t=new Map;return this.exports.forEach((e,n)=>{t.set(n,this.evaluate(e))}),t}},Sp=class{constructor(t,e,n){this.enumRef=t,this.name=e,this.resolved=n}},cl=class{},DN=class extends cl{constructor(t){super(),this.lhs=t}evaluate(t,e){return e.length===0?this.lhs:N.fromUnknown(t)}},_N=class extends cl{constructor(t){super(),this.lhs=t}evaluate(t,e){let n=[...this.lhs];for(let s of e)s instanceof N?n.push(N.fromDynamicInput(t,s)):Array.isArray(s)?n.push(...s):n.push(s);return n}},PN=class extends cl{constructor(t){super(),this.lhs=t}evaluate(t,e){let n=this.lhs;for(let s of e){let r=s instanceof Sp?s.resolved:s;if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"||r==null)n=n.concat(r);else return N.fromUnknown(t)}return n}},kN=class{constructor(t){this.value=t}};function Pe(t){return{op:t,literal:!0}}function Rg(t){return{op:t,literal:!1}}var Mg=new Map([[b.default.SyntaxKind.PlusToken,Pe((t,e)=>t+e)],[b.default.SyntaxKind.MinusToken,Pe((t,e)=>t-e)],[b.default.SyntaxKind.AsteriskToken,Pe((t,e)=>t*e)],[b.default.SyntaxKind.SlashToken,Pe((t,e)=>t/e)],[b.default.SyntaxKind.PercentToken,Pe((t,e)=>t%e)],[b.default.SyntaxKind.AmpersandToken,Pe((t,e)=>t&e)],[b.default.SyntaxKind.BarToken,Pe((t,e)=>t|e)],[b.default.SyntaxKind.CaretToken,Pe((t,e)=>t^e)],[b.default.SyntaxKind.LessThanToken,Pe((t,e)=>t<e)],[b.default.SyntaxKind.LessThanEqualsToken,Pe((t,e)=>t<=e)],[b.default.SyntaxKind.GreaterThanToken,Pe((t,e)=>t>e)],[b.default.SyntaxKind.GreaterThanEqualsToken,Pe((t,e)=>t>=e)],[b.default.SyntaxKind.EqualsEqualsToken,Pe((t,e)=>t==e)],[b.default.SyntaxKind.EqualsEqualsEqualsToken,Pe((t,e)=>t===e)],[b.default.SyntaxKind.ExclamationEqualsToken,Pe((t,e)=>t!=e)],[b.default.SyntaxKind.ExclamationEqualsEqualsToken,Pe((t,e)=>t!==e)],[b.default.SyntaxKind.LessThanLessThanToken,Pe((t,e)=>t<<e)],[b.default.SyntaxKind.GreaterThanGreaterThanToken,Pe((t,e)=>t>>e)],[b.default.SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Pe((t,e)=>t>>>e)],[b.default.SyntaxKind.AsteriskAsteriskToken,Pe((t,e)=>Math.pow(t,e))],[b.default.SyntaxKind.AmpersandAmpersandToken,Rg((t,e)=>t&&e)],[b.default.SyntaxKind.BarBarToken,Rg((t,e)=>t||e)]]),Lg=new Map([[b.default.SyntaxKind.TildeToken,t=>~t],[b.default.SyntaxKind.MinusToken,t=>-t],[b.default.SyntaxKind.PlusToken,t=>+t],[b.default.SyntaxKind.ExclamationToken,t=>!t]]),RN=class{constructor(t,e,n){this.host=t,this.checker=e,this.dependencyTracker=n}visit(t,e){return this.visitExpression(t,e)}visitExpression(t,e){let n;if(t.kind===b.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===b.default.SyntaxKind.FalseKeyword)return!1;if(t.kind===b.default.SyntaxKind.NullKeyword)return null;if(b.default.isStringLiteral(t))return t.text;if(b.default.isNoSubstitutionTemplateLiteral(t))return t.text;if(b.default.isTemplateExpression(t))n=this.visitTemplateExpression(t,e);else{if(b.default.isNumericLiteral(t))return parseFloat(t.text);if(b.default.isObjectLiteralExpression(t))n=this.visitObjectLiteralExpression(t,e);else if(b.default.isIdentifier(t))n=this.visitIdentifier(t,e);else if(b.default.isPropertyAccessExpression(t))n=this.visitPropertyAccessExpression(t,e);else if(b.default.isCallExpression(t))n=this.visitCallExpression(t,e);else if(b.default.isConditionalExpression(t))n=this.visitConditionalExpression(t,e);else if(b.default.isPrefixUnaryExpression(t))n=this.visitPrefixUnaryExpression(t,e);else if(b.default.isBinaryExpression(t))n=this.visitBinaryExpression(t,e);else if(b.default.isArrayLiteralExpression(t))n=this.visitArrayLiteralExpression(t,e);else if(b.default.isParenthesizedExpression(t))n=this.visitParenthesizedExpression(t,e);else if(b.default.isElementAccessExpression(t))n=this.visitElementAccessExpression(t,e);else if(b.default.isAsExpression(t))n=this.visitExpression(t.expression,e);else if(b.default.isNonNullExpression(t))n=this.visitExpression(t.expression,e);else if(this.host.isClass(t))n=this.visitDeclaration(t,e);else return N.fromUnsupportedSyntax(t)}return n instanceof N&&n.node!==t?N.fromDynamicInput(t,n):n}visitArrayLiteralExpression(t,e){let n=[];for(let s=0;s<t.elements.length;s++){let r=t.elements[s];b.default.isSpreadElement(r)?n.push(...this.visitSpreadElement(r,e)):n.push(this.visitExpression(r,e))}return n}visitObjectLiteralExpression(t,e){let n=new Map;for(let s=0;s<t.properties.length;s++){let r=t.properties[s];if(b.default.isPropertyAssignment(r)){let i=this.stringNameFromPropertyName(r.name,e);if(i===void 0)return N.fromDynamicInput(t,N.fromDynamicString(r.name));n.set(i,this.visitExpression(r.initializer,e))}else if(b.default.isShorthandPropertyAssignment(r)){let i=this.checker.getShorthandAssignmentValueSymbol(r);i===void 0||i.valueDeclaration===void 0?n.set(r.name.text,N.fromUnknown(r)):n.set(r.name.text,this.visitDeclaration(i.valueDeclaration,e))}else if(b.default.isSpreadAssignment(r)){let i=this.visitExpression(r.expression,e);if(i instanceof N)return N.fromDynamicInput(t,i);if(i instanceof Map)i.forEach((o,a)=>n.set(a,o));else if(i instanceof pp)i.getExports().forEach((o,a)=>n.set(a,o));else return N.fromDynamicInput(t,N.fromInvalidExpressionType(r,i))}else return N.fromUnknown(t)}return n}visitTemplateExpression(t,e){let n=[t.head.text];for(let s=0;s<t.templateSpans.length;s++){let r=t.templateSpans[s],i=hp(this.visit(r.expression,e),()=>N.fromDynamicString(r.expression));if(i instanceof N)return N.fromDynamicInput(t,i);n.push(`${i}`,r.literal.text)}return n.join("")}visitIdentifier(t,e){let n=this.host.getDeclarationOfIdentifier(t);if(n===null)return b.default.identifierToKeywordKind(t)===b.default.SyntaxKind.UndefinedKeyword?void 0:(this.dependencyTracker!==null&&this.host.getImportOfIdentifier(t)!==null&&this.dependencyTracker.recordDependencyAnalysisFailure(e.originatingFile),N.fromUnknownIdentifier(t));let s={...e,...fp(e,t,n)},r=this.visitDeclaration(n.node,s);if(r instanceof It)r.synthetic||r.addIdentifier(t);else if(r instanceof N)return N.fromDynamicInput(t,r);return r}visitDeclaration(t,e){return this.dependencyTracker!==null&&this.dependencyTracker.addDependency(e.originatingFile,t.getSourceFile()),this.host.isClass(t)?this.getReference(t,e):b.default.isVariableDeclaration(t)?this.visitVariableDeclaration(t,e):b.default.isParameter(t)&&e.scope.has(t)?e.scope.get(t):b.default.isExportAssignment(t)?this.visitExpression(t.expression,e):b.default.isEnumDeclaration(t)?this.visitEnumDeclaration(t,e):b.default.isSourceFile(t)?this.visitSourceFile(t,e):b.default.isBindingElement(t)?this.visitBindingElement(t,e):this.getReference(t,e)}visitVariableDeclaration(t,e){let n=this.host.getVariableValue(t);if(n!==null)return this.visitExpression(n,e);if(LN(t)){if(t.type!==void 0){let s=this.visitType(t.type,e);if(!(s instanceof N))return s}return this.getReference(t,e)}else return}visitEnumDeclaration(t,e){let n=this.getReference(t,e),s=new Map;return t.members.forEach(r=>{let i=this.stringNameFromPropertyName(r.name,e);if(i!==void 0){let o=r.initializer&&this.visit(r.initializer,e);s.set(i,new Sp(n,i,o))}}),s}visitElementAccessExpression(t,e){let n=this.visitExpression(t.expression,e);if(n instanceof N)return N.fromDynamicInput(t,n);let s=this.visitExpression(t.argumentExpression,e);return s instanceof N?N.fromDynamicInput(t,s):typeof s!="string"&&typeof s!="number"?N.fromInvalidExpressionType(t,s):this.accessHelper(t,n,s,e)}visitPropertyAccessExpression(t,e){let n=this.visitExpression(t.expression,e),s=t.name.text;return n instanceof N?N.fromDynamicInput(t,n):this.accessHelper(t,n,s,e)}visitSourceFile(t,e){let n=this.host.getExportsOfModule(t);return n===null?N.fromUnknown(t):new pp(n,s=>{let r={...e,...fp(e,t,s)};return this.visitDeclaration(s.node,r)})}accessHelper(t,e,n,s){let r=`${n}`;if(e instanceof Map)return e.has(r)?e.get(r):void 0;if(e instanceof pp)return e.getExport(r);if(Array.isArray(e))return n==="length"?e.length:n==="slice"?new DN(e):n==="concat"?new _N(e):typeof n!="number"||!Number.isInteger(n)?N.fromInvalidExpressionType(t,n):e[n];if(typeof e=="string"&&n==="concat")return new PN(e);if(e instanceof It){let i=e.node;if(this.host.isClass(i)){let o=Og(s,e.bestGuessOwningModule),a,l=this.host.getMembersOfClass(i).find(c=>c.isStatic&&c.name===r);return l!==void 0&&(l.value!==null?a=this.visitExpression(l.value,s):l.implementation!==null?a=new It(l.implementation,o):l.node&&(a=new It(l.node,o))),a}else if(Ig(i))return N.fromDynamicInput(t,N.fromExternalReference(i,e))}else{if(e instanceof N)return N.fromDynamicInput(t,e);if(e instanceof kN)return N.fromSyntheticInput(t,e)}return N.fromUnknown(t)}visitCallExpression(t,e){let n=this.visitExpression(t.expression,e);if(n instanceof N)return N.fromDynamicInput(t,n);if(n instanceof cl)return n.evaluate(t,this.evaluateFunctionArguments(t,e));if(!(n instanceof It))return N.fromInvalidExpressionType(t.expression,n);let s=this.host.getDefinitionOfFunction(n.node);if(s===null||!MN(n))return N.fromInvalidExpressionType(t.expression,n);let r=o=>{let a={};return s.body===null&&o.getSourceFile()!==t.expression.getSourceFile()&&n.bestGuessOwningModule!==null&&(a={absoluteModuleName:n.bestGuessOwningModule.specifier,resolutionContext:n.bestGuessOwningModule.resolutionContext}),this.visitFfrExpression(o,{...e,...a})};if(s.body===null&&e.foreignFunctionResolver!==void 0){let o=N.fromDynamicInput(t,N.fromExternalReference(t.expression,n));return e.foreignFunctionResolver(n,t,r,o)}let i=this.visitFunctionBody(t,s,e);if(i instanceof N&&e.foreignFunctionResolver!==void 0){let o=N.fromComplexFunctionCall(t,s);return e.foreignFunctionResolver(n,t,r,o)}return i}visitFfrExpression(t,e){let n=this.visitExpression(t,e);return n instanceof It&&(n.synthetic=!0),n}visitFunctionBody(t,e,n){if(e.body===null)return N.fromUnknown(t);if(e.body.length!==1||!b.default.isReturnStatement(e.body[0]))return N.fromComplexFunctionCall(t,e);let s=e.body[0],r=this.evaluateFunctionArguments(t,n),i=new Map,o={...n,scope:i};return e.parameters.forEach((a,l)=>{let c=r[l];a.node.dotDotDotToken!==void 0&&(c=r.slice(l)),c===void 0&&a.initializer!==null&&(c=this.visitExpression(a.initializer,o)),i.set(a.node,c)}),s.expression!==void 0?this.visitExpression(s.expression,o):void 0}visitConditionalExpression(t,e){let n=this.visitExpression(t.condition,e);return n instanceof N?N.fromDynamicInput(t,n):n?this.visitExpression(t.whenTrue,e):this.visitExpression(t.whenFalse,e)}visitPrefixUnaryExpression(t,e){let n=t.operator;if(!Lg.has(n))return N.fromUnsupportedSyntax(t);let s=Lg.get(n),r=this.visitExpression(t.operand,e);return r instanceof N?N.fromDynamicInput(t,r):s(r)}visitBinaryExpression(t,e){let n=t.operatorToken.kind;if(!Mg.has(n))return N.fromUnsupportedSyntax(t);let s=Mg.get(n),r,i;return s.literal?(r=hp(this.visitExpression(t.left,e),o=>N.fromInvalidExpressionType(t.left,o)),i=hp(this.visitExpression(t.right,e),o=>N.fromInvalidExpressionType(t.right,o))):(r=this.visitExpression(t.left,e),i=this.visitExpression(t.right,e)),r instanceof N?N.fromDynamicInput(t,r):i instanceof N?N.fromDynamicInput(t,i):s.op(r,i)}visitParenthesizedExpression(t,e){return this.visitExpression(t.expression,e)}evaluateFunctionArguments(t,e){let n=[];for(let s of t.arguments)b.default.isSpreadElement(s)?n.push(...this.visitSpreadElement(s,e)):n.push(this.visitExpression(s,e));return n}visitSpreadElement(t,e){let n=this.visitExpression(t.expression,e);return n instanceof N?[N.fromDynamicInput(t,n)]:Array.isArray(n)?n:[N.fromInvalidExpressionType(t,n)]}visitBindingElement(t,e){let n=[],s=t;for(;b.default.isBindingElement(s)||b.default.isArrayBindingPattern(s)||b.default.isObjectBindingPattern(s);)b.default.isBindingElement(s)&&n.unshift(s),s=s.parent;if(!b.default.isVariableDeclaration(s)||s.initializer===void 0)return N.fromUnknown(t);let r=this.visit(s.initializer,e);for(let i of n){let o;if(b.default.isArrayBindingPattern(i.parent))o=i.parent.elements.indexOf(i);else{let a=i.propertyName||i.name;if(b.default.isIdentifier(a))o=a.text;else return N.fromUnknown(i)}if(r=this.accessHelper(i,r,o,e),r instanceof N)return r}return r}stringNameFromPropertyName(t,e){if(b.default.isIdentifier(t)||b.default.isStringLiteral(t)||b.default.isNumericLiteral(t))return t.text;if(b.default.isComputedPropertyName(t)){let n=this.visitExpression(t.expression,e);return typeof n=="string"?n:void 0}else return}getReference(t,e){return new It(t,Og(e))}visitType(t,e){return b.default.isLiteralTypeNode(t)?this.visitExpression(t.literal,e):b.default.isTupleTypeNode(t)?this.visitTupleType(t,e):b.default.isNamedTupleMember(t)?this.visitType(t.type,e):b.default.isTypeOperatorNode(t)&&t.operator===b.default.SyntaxKind.ReadonlyKeyword?this.visitType(t.type,e):b.default.isTypeQueryNode(t)?this.visitTypeQuery(t,e):N.fromDynamicType(t)}visitTupleType(t,e){let n=[];for(let s of t.elements)n.push(this.visitType(s,e));return n}visitTypeQuery(t,e){if(!b.default.isIdentifier(t.exprName))return N.fromUnknown(t);let n=this.host.getDeclarationOfIdentifier(t.exprName);if(n===null)return N.fromUnknownIdentifier(t.exprName);let s={...e,...fp(e,t,n)};return this.visitDeclaration(n.node,s)}};function MN(t){return b.default.isFunctionDeclaration(t.node)||b.default.isMethodDeclaration(t.node)||b.default.isFunctionExpression(t.node)}function hp(t,e){return t instanceof Sp&&(t=t.resolved),t instanceof N||t===null||t===void 0||typeof t=="string"||typeof t=="number"||typeof t=="boolean"?t:e(t)}function LN(t){if(t.parent===void 0||!b.default.isVariableDeclarationList(t.parent))return!1;let e=t.parent;if(e.parent===void 0||!b.default.isVariableStatement(e.parent))return!1;let n=e.parent,s=b.default.getModifiers(n);return s!==void 0&&s.some(r=>r.kind===b.default.SyntaxKind.DeclareKeyword)}var ON={};function fp(t,e,n){return typeof n.viaModule=="string"&&n.viaModule!==t.absoluteModuleName?{absoluteModuleName:n.viaModule,resolutionContext:e.getSourceFile().fileName}:ON}function Og(t,e=null){let n=t.absoluteModuleName;return e!==null&&(n=e.specifier),n!==null?{specifier:n,resolutionContext:t.resolutionContext}:null}var xp=class{constructor(t,e,n){this.host=t,this.checker=e,this.dependencyTracker=n}evaluate(t,e){let n=new RN(this.host,this.checker,this.dependencyTracker),s=t.getSourceFile();return n.visit(t,{originatingFile:s,absoluteModuleName:null,resolutionContext:s.fileName,scope:new Map,foreignFunctionResolver:e})}};var dp="@angular/core";function Gg(t){return t.import!==null&&t.import.from===dp}function mi(t,e,n){return n?t.name===e:Gg(t)?t.import.name===e:!1}function Wg(t,e,n){return t.filter(s=>{var r;let i=n?s.name:(r=s.import)==null?void 0:r.name;return i===void 0||!e.includes(i)?!1:n||Gg(s)})}function jg(t){for(;In.default.isAsExpression(t)||In.default.isParenthesizedExpression(t);)t=t.expression;return t}function BN(t){if(t=jg(t),!In.default.isArrowFunction(t)&&!In.default.isFunctionExpression(t))return null;let e=t.body;if(In.default.isBlock(e)){if(e.statements.length!==1)return null;let n=e.statements[0];return!In.default.isReturnStatement(n)||n.expression===void 0?null:n.expression}else return e}function $N(t,e){if(t=jg(t),!In.default.isCallExpression(t)||t.arguments.length!==1)return null;let n=In.default.isPropertyAccessExpression(t.expression)?t.expression.name:t.expression;if(!In.default.isIdentifier(n))return null;let s=BN(t.arguments[0]);if(s===null)return null;let r=e.getImportOfIdentifier(n);return r===null||r.from!=="@angular/core"||r.name!=="forwardRef"?null:s}var mp;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(mp||(mp={}));var Fg;(function(t){t[t.Selector=0]="Selector",t[t.HostDirective=1]="HostDirective"})(Fg||(Fg={}));var gp;(function(t){t[t.FULL=0]="FULL",t[t.PARTIAL=1]="PARTIAL",t[t.LOCAL=2]="LOCAL"})(gp||(gp={}));var Bg;(function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SHARED=1]="SHARED",t[t.WEAK=2]="WEAK"})(Bg||(Bg={}));var $g;(function(t){t[t.Pending=0]="Pending",t[t.Analyzed=1]="Analyzed",t[t.Resolved=2]="Resolved",t[t.Skipped=3]="Skipped"})($g||($g={}));function Kg(t=ar.default.factory,e,n,s=[]){let r=e.getAllImports(n.fileName).map(a=>a.qualifier!==null?KN(a,t):zN(a,t)),i=n.statements.filter(a=>Ug(a)),o=n.statements.filter(a=>!Ug(a));if(r.length>0){let a=t.createNotEmittedStatement(n);return t.updateSourceFile(n,t.createNodeArray([a,...i,...r,...s,...o]))}return n}function KN(t,e){let n=e.createIdentifier(t.qualifier.text),s=e.createImportClause(!1,void 0,e.createNamespaceImport(n)),r=e.createImportDeclaration(void 0,s,e.createStringLiteral(t.specifier));return ar.default.setOriginalNode(t.qualifier,r),r}function zN(t,e){return e.createImportDeclaration(void 0,void 0,ar.default.factory.createStringLiteral(t.specifier))}function Ug(t){return ar.default.isImportDeclaration(t)||ar.default.isImportEqualsDeclaration(t)||ar.default.isNamespaceImport(t)}var vp;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(vp||(vp={}));function ul(t,e,n,s){if(e.value===null||!di.default.isCallExpression(e.value))return null;let r=e.value,i=Vg(r.expression);if(i===null)return null;let o=t.find(l=>l===i.text);if(o!==void 0)return qg(o,i,s,n)?{apiName:o,call:r,isRequired:!1}:null;if(i.text!=="required"||!di.default.isPropertyAccessExpression(r.expression))return null;let a=r.expression;return i=Vg(a.expression),i===null||(o=t.find(l=>l===i.text),o===void 0||!qg(o,i,s,n))?null:{apiName:o,call:r,isRequired:!0}}function Vg(t){return di.default.isPropertyAccessExpression(t)&&di.default.isIdentifier(t.name)?t.name:di.default.isIdentifier(t)?t:null}function qg(t,e,n,s){let r=s.getImportOfIdentifier(e);if(r===null){if(!n)return!1;r={name:e.text,from:dp}}return r.name===t&&r.from===dp}function wp(t){if(!yp.default.isObjectLiteralExpression(t))throw new Ts(ee.VALUE_HAS_WRONG_TYPE,t,"Argument needs to be an object literal that is statically analyzable.");let e=ap(t),n;if(e.has("alias")){let s=e.get("alias");if(!yp.default.isStringLiteralLike(s))throw new Ts(ee.VALUE_HAS_WRONG_TYPE,s,"Alias needs to be a string that is statically analyzable.");n=s.text}return{alias:n}}function zg(t,e,n){var s;let r=ul(["input"],t,e,n);if(r===null)return null;let i=r.isRequired?r.call.arguments[0]:r.call.arguments[1],o=i!==void 0?wp(i):null,a=t.name;return{isSignal:!0,classPropertyName:a,bindingPropertyName:(s=o?.alias)!=null?s:a,required:r.isRequired,transform:null}}function Yg(t,e,n){var s;let r=ul(["model"],t,e,n);if(r===null)return null;let i=r.isRequired?r.call.arguments[0]:r.call.arguments[1],o=i!==void 0?wp(i):null,a=t.name,l=(s=o?.alias)!=null?s:a;return{call:r.call,input:{isSignal:!0,transform:null,classPropertyName:a,bindingPropertyName:l,required:r.isRequired},output:{isSignal:!1,classPropertyName:a,bindingPropertyName:l+"Change"}}}function Xg(t,e,n){var s;let r=ul(["output","\u0275output"],t,e,n);if(r===null)return null;if(r.isRequired)throw new Ts(ee.INITIALIZER_API_NO_REQUIRED_FUNCTION,r.call,'Output does not support ".required()".');let i=r.call.arguments[0],o=i!==void 0?wp(i):null,a=t.name;return{call:r.call,metadata:{isSignal:!1,classPropertyName:a,bindingPropertyName:(s=o?.alias)!=null?s:a}}}var iD=["viewChild","viewChildren","contentChild","contentChildren"],oD=t=>t!=="contentChildren";function Qg(t,e,n){let s=ul(iD,t,e,n);if(s===null)return null;let r=s.apiName==="viewChild"||s.apiName==="contentChild",i=s.call.arguments[0];if(i===void 0)throw new Ts(ee.VALUE_HAS_WRONG_TYPE,s.call,"No locator specified.");let o=s.call.arguments[1];if(o!==void 0&&!Cs.default.isObjectLiteralExpression(o))throw new Ts(ee.VALUE_HAS_WRONG_TYPE,o,"Argument needs to be an object literal.");let a=o&&ap(o),l=a?.has("read")?lD(a.get("read")):null,c=a?.has("descendants")?cD(a.get("descendants")):oD(s.apiName);return{name:s.apiName,call:s.call,metadata:{isSignal:!0,propertyName:t.name,static:!1,emitDistinctChangesOnly:!0,predicate:aD(i,e),first:r,read:l,descendants:c}}}function aD(t,e){let n=$N(t,e);return n!==null&&(t=n),Cs.default.isStringLiteralLike(t)?[t.text]:ir(new Ha.WrappedNodeExpr(t),n!==null?2:0)}function lD(t){if(Cs.default.isPropertyAccessExpression(t)&&Cs.default.isIdentifier(t.expression)||Cs.default.isIdentifier(t))return new Ha.WrappedNodeExpr(t);throw new Ts(ee.VALUE_NOT_LITERAL,t,'Query "read" option expected a literal class reference.')}function cD(t){if(t.kind===Cs.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===Cs.default.SyntaxKind.FalseKeyword)return!1;throw new Ts(ee.VALUE_HAS_WRONG_TYPE,t,'Expected "descendants" option to be a boolean literal.')}var Tp=["ViewChild","ViewChildren","ContentChild","ContentChildren"],UP=new Set(Tp);var C=I(require("typescript"),1),Is=I(require("typescript"),1),pl=I(require("typescript"),1),hl=I(require("typescript"),1),sk=(0,Zg.createRequire)(Ee);function Cp(t,e){return e||t.import!==null&&t.import.from==="@angular/core"}var ev="!Array<{type: !Function, args: (undefined|!Array<?>)}>";function tv(t,e){let n=[],s=t.expression;switch(s.kind){case C.default.SyntaxKind.Identifier:n.push(C.default.factory.createPropertyAssignment("type",s));break;case C.default.SyntaxKind.CallExpression:let r=s;if(n.push(C.default.factory.createPropertyAssignment("type",r.expression)),r.arguments.length){let i=[];for(let a of r.arguments)i.push(a);let o=C.default.factory.createArrayLiteralExpression(C.default.factory.createNodeArray(i,!0));n.push(C.default.factory.createPropertyAssignment("args",o))}break;default:e.push({file:t.getSourceFile(),start:t.getStart(),length:t.getEnd()-t.getStart(),messageText:`${C.default.SyntaxKind[t.kind]} not implemented in gathering decorator metadata.`,category:C.default.DiagnosticCategory.Error,code:0});break}return C.default.factory.createObjectLiteralExpression(n)}function mD(t,e,n,s){let r=[];for(let a of n){if(!a.type&&a.decorators.length===0){r.push(C.default.factory.createNull());continue}let l=a.type?nv(e,a.type):void 0,c=[C.default.factory.createPropertyAssignment("type",l||C.default.factory.createIdentifier("undefined"))],p=[];for(let f of a.decorators)p.push(tv(f,t));p.length&&c.push(C.default.factory.createPropertyAssignment("decorators",C.default.factory.createArrayLiteralExpression(p))),r.push(C.default.factory.createObjectLiteralExpression(c))}let i=C.default.factory.createArrowFunction(void 0,void 0,[],void 0,C.default.factory.createToken(C.default.SyntaxKind.EqualsGreaterThanToken),C.default.factory.createArrayLiteralExpression(r,!0)),o=C.default.factory.createPropertyDeclaration([C.default.factory.createToken(C.default.SyntaxKind.StaticKeyword)],"ctorParameters",void 0,void 0,i);return s&&C.default.setSyntheticLeadingComments(o,[{kind:C.default.SyntaxKind.MultiLineCommentTrivia,text:["*"," * @type {function(): !Array<(null|{"," *   type: ?,",` *   decorators: (undefined|${ev}),`," * })>}"," * @nocollapse"," "].join(`
`),pos:-1,end:-1,hasTrailingNewLine:!0}]),o}function nv(t,e){let n=e.kind;switch(C.default.isLiteralTypeNode(e)&&(n=e.literal.kind),n){case C.default.SyntaxKind.FunctionType:case C.default.SyntaxKind.ConstructorType:return C.default.factory.createIdentifier("Function");case C.default.SyntaxKind.ArrayType:case C.default.SyntaxKind.TupleType:return C.default.factory.createIdentifier("Array");case C.default.SyntaxKind.TypePredicate:case C.default.SyntaxKind.TrueKeyword:case C.default.SyntaxKind.FalseKeyword:case C.default.SyntaxKind.BooleanKeyword:return C.default.factory.createIdentifier("Boolean");case C.default.SyntaxKind.StringLiteral:case C.default.SyntaxKind.StringKeyword:return C.default.factory.createIdentifier("String");case C.default.SyntaxKind.ObjectKeyword:return C.default.factory.createIdentifier("Object");case C.default.SyntaxKind.NumberKeyword:case C.default.SyntaxKind.NumericLiteral:return C.default.factory.createIdentifier("Number");case C.default.SyntaxKind.TypeReference:return t(e.typeName);case C.default.SyntaxKind.UnionType:let r=e.types.filter(i=>!(C.default.isLiteralTypeNode(i)&&i.literal.kind===C.default.SyntaxKind.NullKeyword));return r.length===1?nv(t,r[0]):void 0;default:return}}function gD(t,e){return e.flags&C.default.SymbolFlags.Alias&&(e=t.getAliasedSymbol(e)),(e.flags&C.default.SymbolFlags.Value&C.default.SymbolFlags.ConstEnumExcludes)!==0}function sv(t,e,n,s,r){function i(a,l){r&&C.default.setSyntheticLeadingComments(a,[{kind:C.default.SyntaxKind.MultiLineCommentTrivia,text:`* @type {${l}} `,pos:-1,end:-1,hasTrailingNewLine:!0}])}function o(a,l){let c=[];for(let[d,y]of l.entries())c.push(C.default.factory.createPropertyAssignment(d,C.default.factory.createArrayLiteralExpression(y.map(v=>tv(v,a)))));let p=C.default.factory.createObjectLiteralExpression(c,!0),f=C.default.factory.createPropertyDeclaration([C.default.factory.createToken(C.default.SyntaxKind.StaticKeyword)],"propDecorators",void 0,void 0,p);return i(f,`!Object<string, ${ev}>`),f}return a=>{let l=Ng(a);function c(v){let T=t.getSymbolAtLocation(v);if(!T||!gD(t,T)||!T.declarations||T.declarations.length===0)return;if(C.default.isQualifiedName(v)){let D=c(v.left);return D===void 0?void 0:C.default.factory.createPropertyAccessExpression(D,v.right)}let x=T.declarations[0];return cp(x)&&(l.add(x),x.name!==void 0)?C.default.setOriginalNode(C.default.factory.createIdentifier(x.name.text),x.name):C.default.setOriginalNode(C.default.factory.createIdentifier(v.text),v)}function p(v){v=C.default.visitEachChild(v,y,a);let T=[],x=[],D=e.getDecoratorsOfDeclaration(v)||[];for(let se of D){let ae=se.node;if(!Cp(se,s)){T.push(ae);continue}x.push(ae)}if(!x.length)return[void 0,v,[]];if(!v.name||!C.default.isIdentifier(v.name))return n.push({file:v.getSourceFile(),start:v.getStart(),length:v.getEnd()-v.getStart(),messageText:"Cannot process decorators for class element with non-analyzable name.",category:C.default.DiagnosticCategory.Error,code:0}),[void 0,v,[]];let O=C.default.canHaveModifiers(v)?C.default.getModifiers(v):void 0,H;return(T.length||O?.length)&&(H=C.default.setTextRange(C.default.factory.createNodeArray([...T,...O||[]]),v.modifiers)),[v.name.text,vD(v,H),x]}function f(v){v=C.default.visitEachChild(v,y,a);let T=[],x=v.parameters,D=[];for(let H of x){let se=[],ae={decorators:[],type:null},tt=e.getDecoratorsOfDeclaration(H)||[];for(let Be of tt){let U=Be.node;if(!Cp(Be,s)){se.push(U);continue}ae.decorators.push(U)}H.type&&(ae.type=H.type),D.push(ae);let nt,ke=C.default.getModifiers(H);(se.length||ke?.length)&&(nt=[...se,...ke||[]]);let V=C.default.factory.updateParameterDeclaration(H,nt,H.dotDotDotToken,H.name,H.questionToken,H.type,H.initializer);T.push(V)}return[C.default.factory.updateConstructorDeclaration(v,C.default.getModifiers(v),T,v.body),D]}function d(v){let T=[],x=new Map,D=null;for(let ae of v.members){switch(ae.kind){case C.default.SyntaxKind.PropertyDeclaration:case C.default.SyntaxKind.GetAccessor:case C.default.SyntaxKind.SetAccessor:case C.default.SyntaxKind.MethodDeclaration:{let[tt,nt,ke]=p(ae);T.push(nt),tt&&x.set(tt,ke);continue}case C.default.SyntaxKind.Constructor:{if(!ae.body)break;let[nt,ke]=f(ae);D=ke,T.push(nt);continue}default:break}T.push(C.default.visitEachChild(ae,y,a))}let H=(e.getDecoratorsOfDeclaration(v)||[]).some(ae=>Cp(ae,s));D&&(H||D.some(ae=>!!ae.decorators.length))&&T.push(mD(n,c,D,r)),x.size&&T.push(o(n,x));let se=C.default.setTextRange(C.default.factory.createNodeArray(T,v.members.hasTrailingComma),v.members);return C.default.factory.updateClassDeclaration(v,v.modifiers,v.name,v.typeParameters,v.heritageClauses,se)}function y(v){return C.default.isClassDeclaration(v)?d(v):C.default.visitEachChild(v,y,a)}return v=>C.default.visitEachChild(v,y,a)}}function vD(t,e){let n;if(C.default.isMethodDeclaration(t))n=C.default.factory.createMethodDeclaration(e,t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);else if(C.default.isPropertyDeclaration(t))n=C.default.factory.createPropertyDeclaration(e,t.name,t.questionToken,t.type,t.initializer);else if(C.default.isGetAccessor(t))n=C.default.factory.createGetAccessorDeclaration(e,t.name,t.parameters,t.type,t.body);else if(C.default.isSetAccessor(t))n=C.default.factory.createSetAccessorDeclaration(e,t.name,t.parameters,t.body);else throw new Error(`Unsupported decorated member with kind ${C.default.SyntaxKind[t.kind]}`);return C.default.setOriginalNode(n,t)}function Ip(t,e,n,s){let r=pl.default.isIdentifier(n.identifier)?n.identifier:n.identifier.expression;return t.createPropertyAccessExpression(e.generateNamespaceImport("@angular/core"),pl.default.setOriginalNode(t.createIdentifier(s),r))}function rv(t,e){return t.createAsExpression(e,t.createKeywordTypeNode(pl.default.SyntaxKind.AnyKeyword))}var yD=(t,e,n,s,r,i)=>{var o,a,l;if((o=e.getDecoratorsOfDeclaration(t))!=null&&o.some(d=>mi(d,"Input",i)))return t;let c=zg({name:t.name.text,value:(a=t.initializer)!=null?a:null},e,i);if(c===null)return t;let p={isSignal:n.createTrue(),alias:n.createStringLiteral(c.bindingPropertyName),required:c.required?n.createTrue():n.createFalse(),transform:n.createIdentifier("undefined")},f=n.createDecorator(n.createCallExpression(Ip(n,s,r,"Input"),void 0,[rv(n,n.createObjectLiteralExpression(Object.entries(p).map(([d,y])=>n.createPropertyAssignment(d,y))))]));return n.updatePropertyDeclaration(t,[f,...(l=t.modifiers)!=null?l:[]],t.name,t.questionToken,t.type,t.initializer)},ED=(t,e,n,s,r,i)=>{var o,a,l;if((o=e.getDecoratorsOfDeclaration(t))!=null&&o.some(v=>mi(v,"Input",i)||mi(v,"Output",i)))return t;let c=Yg({name:t.name.text,value:(a=t.initializer)!=null?a:null},e,i);if(c===null)return t;let p=hl.default.isIdentifier(r.identifier)?r.identifier:r.identifier.expression,f=n.createObjectLiteralExpression([n.createPropertyAssignment("isSignal",c.input.isSignal?n.createTrue():n.createFalse()),n.createPropertyAssignment("alias",n.createStringLiteral(c.input.bindingPropertyName)),n.createPropertyAssignment("required",c.input.required?n.createTrue():n.createFalse())]),d=Jg("Input",n.createAsExpression(f,n.createKeywordTypeNode(hl.default.SyntaxKind.AnyKeyword)),p,n,s),y=Jg("Output",n.createStringLiteral(c.output.bindingPropertyName),p,n,s);return n.updatePropertyDeclaration(t,[d,y,...(l=t.modifiers)!=null?l:[]],t.name,t.questionToken,t.type,t.initializer)};function Jg(t,e,n,s,r){let i=s.createPropertyAccessExpression(r.generateNamespaceImport("@angular/core"),hl.default.setOriginalNode(s.createIdentifier(t),n));return s.createDecorator(s.createCallExpression(i,void 0,[e]))}var SD=(t,e,n,s,r,i)=>{var o,a,l;if((o=e.getDecoratorsOfDeclaration(t))!=null&&o.some(f=>mi(f,"Output",i)))return t;let c=Xg({name:t.name.text,value:(a=t.initializer)!=null?a:null},e,i);if(c===null)return t;let p=n.createDecorator(n.createCallExpression(Ip(n,s,r,"Output"),void 0,[n.createStringLiteral(c.metadata.bindingPropertyName)]));return n.updatePropertyDeclaration(t,[p,...(l=t.modifiers)!=null?l:[]],t.name,t.questionToken,t.type,t.initializer)},xD={viewChild:"ViewChild",viewChildren:"ViewChildren",contentChild:"ContentChild",contentChildren:"ContentChildren"},wD=(t,e,n,s,r,i)=>{var o,a;let l=e.getDecoratorsOfDeclaration(t),c=l&&Wg(l,Tp,i);if(c!==null&&c.length>0)return t;let p=Qg({name:t.name.text,value:(o=t.initializer)!=null?o:null},e,i);if(p===null)return t;let f=p.call.arguments,d=n.createDecorator(n.createCallExpression(Ip(n,s,r,xD[p.name]),void 0,[p.call.arguments[0],rv(n,n.createObjectLiteralExpression([...f.length>1?[n.createSpreadAssignment(f[1])]:[],n.createPropertyAssignment("isSignal",n.createTrue())]))]));return n.updatePropertyDeclaration(t,[d,...(a=t.modifiers)!=null?a:[]],t.name,t.questionToken,t.type,t.initializer)},TD=["Directive","Component"],CD=[yD,SD,wD,ED];function iv(t,e){return n=>s=>{let r=new ol(void 0,void 0,n.factory);return s=Is.default.visitNode(s,ID(n,t,r,e),Is.default.isSourceFile),r.getAllImports(s.fileName).length>0&&(s=Kg(n.factory,r,s)),s}}function ID(t,e,n,s){let r=i=>{var o;if(Is.default.isClassDeclaration(i)&&i.name!==void 0){let a=(o=e.getDecoratorsOfDeclaration(i))==null?void 0:o.find(l=>TD.some(c=>mi(l,c,s)));if(a!==void 0){let l=!1,c=i.members.map(p=>{if(!Is.default.isPropertyDeclaration(p)||!Is.default.isIdentifier(p.name)&&!Is.default.isStringLiteralLike(p.name))return p;for(let f of CD){let d=f(p,e,t.factory,n,a,s);if(d!==p)return l=!0,d}return p});if(l)return t.factory.updateClassDeclaration(i,i.modifiers,i.name,i.typeParameters,i.heritageClauses,c)}}return Is.default.visitEachChild(i,r,t)};return r}function Ap(t,e=!1){let n=t.getTypeChecker(),s=new op(n),r=new xp(s,n,null),i=sv(n,s,[],e,!1),o=iv(s,e);return a=>l=>(l=o(a)(l),l=i(a)(l),l)}var ov={ngDevMode:!1,ngI18nClosureMode:!1},AD={...ov,ngJitMode:!1};var Cv=require("module");var av=require("module"),lk=(0,av.createRequire)(Ee),fl;(function(t){t[t.SingleFile=0]="SingleFile",t[t.WholeProgram=1]="WholeProgram"})(fl||(fl={}));var bp;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(bp||(bp={}));var Np;(function(t){t[t.Normal=0]="Normal",t[t.ForceDirect=1]="ForceDirect"})(Np||(Np={}));var Dp;(function(t){t[t.Reference=0]="Reference",t[t.Variable=1]="Variable"})(Dp||(Dp={}));var As;(function(t){t[t.Input=0]="Input",t[t.Output=1]="Output",t[t.Binding=2]="Binding",t[t.Reference=3]="Reference",t[t.Variable=4]="Variable",t[t.Directive=5]="Directive",t[t.Element=6]="Element",t[t.Template=7]="Template",t[t.Expression=8]="Expression",t[t.DomBinding=9]="DomBinding",t[t.Pipe=10]="Pipe"})(As||(As={}));var PD=I(require("typescript"),1);var kD=I(require("typescript"),1);var Iv=I(require("typescript"),1),RD=I(require("typescript"),1),MD=I(require("typescript"),1),LD=I(require("typescript"),1),OD=I(require("typescript"),1),FD=I(require("typescript"),1),BD=I(require("typescript"),1),$D=I(require("typescript"),1),UD=I(require("typescript"),1),VD=I(require("typescript"),1),qD=I(require("typescript"),1),HD=I(require("typescript"),1),GD=I(require("typescript"),1);var WD=I(require("typescript"),1);var KD=I(require("typescript"),1);var zD=I(require("typescript"),1);var xo=I(require("typescript"),1),XD=I(require("typescript"),1);var QD=I(require("typescript"),1),JD=I(require("typescript"),1);var Q=I(require("typescript"),1);var s_=I(require("typescript"),1);var r_=I(require("typescript"),1),Eo=I(require("typescript"),1);var l_=I(require("typescript"),1),c_=I(require("typescript"),1);var E=I(require("typescript"),1);var To=I(require("typescript"),1);var _=I(require("typescript"),1);var F_=I(require("typescript"),1);var B_=I(require("typescript"),1);var $p=I(require("typescript"),1);var Up=I(require("typescript"),1);var s0=I(require("typescript"),1),i0=I(require("typescript"),1),o0=I(require("typescript"),1),a0=I(require("typescript"),1),vR=(0,Cv.createRequire)(Ee);var Rp;(function(t){t[t.DTS=1]="DTS",t[t.JS=2]="JS",t[t.Metadata=4]="Metadata",t[t.I18nBundle=8]="I18nBundle",t[t.Codegen=16]="Codegen",t[t.Default=19]="Default",t[t.All=31]="All"})(Rp||(Rp={}));var Mp;(function(t){t.Block="block",t.Component="component",t.Constant="constant",t.Decorator="decorator",t.Directive="directive",t.Element="element",t.Enum="enum",t.Function="function",t.Interface="interface",t.NgModule="ng_module",t.Pipe="pipe",t.TypeAlias="type_alias",t.UndecoratedClass="undecorated_class"})(Mp||(Mp={}));var Lp;(function(t){t.Property="property",t.Method="method",t.Getter="getter",t.Setter="setter",t.EnumItem="enum_item"})(Lp||(Lp={}));var Op;(function(t){t.Class="class",t.Member="member",t.Parameter="parameter"})(Op||(Op={}));var Fp;(function(t){t.Abstract="abstract",t.Static="static",t.Readonly="readonly",t.Protected="protected",t.Optional="optional",t.Input="input",t.Output="output",t.Inherited="override"})(Fp||(Fp={}));var IR=Iv.default.version;var AR=Symbol("NgCyclicResult");var bR=Symbol("NgOriginalFile"),lv;(function(t){t[t.Complete=0]="Complete",t[t.Incremental=1]="Incremental"})(lv||(lv={}));var NR=Symbol("NgExtension");var cv;(function(t){t[t.Fresh=0]="Fresh",t[t.Delta=1]="Delta",t[t.Analyzed=2]="Analyzed"})(cv||(cv={}));var uv;(function(t){t[t.Analysis=0]="Analysis",t[t.TypeCheckAndEmit=1]="TypeCheckAndEmit"})(uv||(uv={}));var DR=Symbol("NgIncrementalState"),pv;(function(t){t[t.Property=0]="Property",t[t.Method=1]="Method",t[t.Element=2]="Element",t[t.Template=3]="Template",t[t.Attribute=4]="Attribute",t[t.Reference=5]="Reference",t[t.Variable=6]="Variable"})(pv||(pv={}));var jD=".$ngresource$",kR=jD+".ts";var MR=Symbol("TemplateSourceFile");var LR=Symbol("ngTemplateId"),OR=Symbol("ngNextTemplateId");var dl;(function(t){t.DIAGNOSTIC="D",t.EXPRESSION_TYPE_IDENTIFIER="T"})(dl||(dl={}));var ur;(function(t){t.DIRECTIVE="DIR",t.COMPONENT_COMPLETION="COMPCOMP",t.EVENT_PARAMETER="EP",t.VARIABLE_AS_EXPRESSION="VAE"})(ur||(ur={}));function Co(t,e){xo.default.addSyntheticTrailingComment(t,xo.default.SyntaxKind.MultiLineCommentTrivia,`${dl.EXPRESSION_TYPE_IDENTIFIER}:${e}`,!1)}var YD=`${dl.DIAGNOSTIC}:ignore`;function bs(t){xo.default.addSyntheticTrailingComment(t,xo.default.SyntaxKind.MultiLineCommentTrivia,YD,!1)}var UR=new hn;var ZD=new Set([Q.default.SyntaxKind.ParenthesizedExpression,Q.default.SyntaxKind.Identifier,Q.default.SyntaxKind.CallExpression,Q.default.SyntaxKind.NonNullExpression,Q.default.SyntaxKind.ElementAccessExpression,Q.default.SyntaxKind.PropertyAccessExpression,Q.default.SyntaxKind.ArrayLiteralExpression,Q.default.SyntaxKind.ObjectLiteralExpression,Q.default.SyntaxKind.StringLiteral,Q.default.SyntaxKind.NumericLiteral,Q.default.SyntaxKind.TrueKeyword,Q.default.SyntaxKind.FalseKeyword,Q.default.SyntaxKind.NullKeyword,Q.default.SyntaxKind.UndefinedKeyword]);function zn(t){return ZD.has(t.kind)||(t=Q.default.factory.createParenthesizedExpression(t)),Q.default.factory.createParenthesizedExpression(Q.default.factory.createAsExpression(t,Q.default.factory.createKeywordTypeNode(Q.default.SyntaxKind.AnyKeyword)))}function e_(t){let e=Q.default.factory.createPropertyAccessExpression(Q.default.factory.createIdentifier("document"),"createElement");return Q.default.factory.createCallExpression(e,void 0,[Q.default.factory.createStringLiteral(t)])}function wo(t,e){Co(e,ur.VARIABLE_AS_EXPRESSION);let n=Q.default.factory.createAsExpression(Q.default.factory.createNonNullExpression(Q.default.factory.createNull()),e),s=Q.default.factory.createVariableDeclaration(t,void 0,void 0,n);return Q.default.factory.createVariableStatement(void 0,[s])}function t_(t,e){return Q.default.factory.createTypeQueryNode(Q.default.factory.createQualifiedName(t,`ngAcceptInputType_${e}`))}function Ns(t,e){let n=Q.default.factory.createVariableDeclaration(t,void 0,void 0,e);return Q.default.factory.createVariableStatement(void 0,[n])}function hv(t,e,n=[]){let s=Q.default.factory.createPropertyAccessExpression(t,e);return Q.default.factory.createCallExpression(s,void 0,n)}function n_(t){if(t<0){let e=Q.default.factory.createNumericLiteral(Math.abs(t));return Q.default.factory.createPrefixUnaryExpression(Q.default.SyntaxKind.MinusToken,e)}return Q.default.factory.createNumericLiteral(t)}var i_=class{constructor(t,e){this.typeParameters=t,this.reflector=e}canEmit(t){return this.typeParameters===void 0?!0:this.typeParameters.every(e=>this.canEmitType(e.constraint,t)&&this.canEmitType(e.default,t))}canEmitType(t,e){return t===void 0?!0:_g(t,n=>{let s=this.resolveTypeReference(n);return s===null?!1:s instanceof It?e(s):!0})}emit(t){if(this.typeParameters===void 0)return;let e=new Pg(n=>this.translateTypeReference(n,t));return this.typeParameters.map(n=>{let s=n.constraint!==void 0?e.emitType(n.constraint):void 0,r=n.default!==void 0?e.emitType(n.default):void 0;return Eo.default.factory.updateTypeParameterDeclaration(n,n.modifiers,n.name,s,r)})}resolveTypeReference(t){let e=Eo.default.isIdentifier(t.typeName)?t.typeName:t.typeName.right,n=this.reflector.getDeclarationOfIdentifier(e);if(n===null||n.node===null)return null;if(this.isLocalTypeParameter(n.node))return t;let s=null;return typeof n.viaModule=="string"&&(s={specifier:n.viaModule,resolutionContext:t.getSourceFile().fileName}),new It(n.node,n.viaModule===xs?xs:s)}translateTypeReference(t,e){let n=this.resolveTypeReference(t);if(!(n instanceof It))return n;let s=e(n);if(s===null)return null;if(!Eo.default.isTypeReferenceNode(s))throw new Error(`Expected TypeReferenceNode for emitted reference, got ${Eo.default.SyntaxKind[s.kind]}.`);return s}isLocalTypeParameter(t){return this.typeParameters.some(e=>e===t)}},GR=[u.InputSignalBrandWriteType.moduleName],fv;(function(t){t[t.MustInline=0]="MustInline",t[t.ShouldInlineForGenericBounds=1]="ShouldInlineForGenericBounds",t[t.None=2]="None"})(fv||(fv={}));function o_(t,e,n){return new i_(t.typeParameters,e).canEmit(r=>n.canReferenceType(r))}function a_(t,e,n){return!o_(t,e,n)}function Ie(t){return To.default.factory.createParenthesizedExpression(t)}function gi(t){return To.default.factory.createParenthesizedExpression(t)}function F(t,e){let n;e instanceof He?n=`${e.start},${e.end}`:n=`${e.start.offset},${e.end.offset}`,To.default.addSyntheticTrailingComment(t,To.default.SyntaxKind.MultiLineCommentTrivia,n,!1)}var lr=_.default.factory.createAsExpression(_.default.factory.createNull(),_.default.factory.createKeywordTypeNode(_.default.SyntaxKind.AnyKeyword)),_p=_.default.factory.createIdentifier("undefined"),u_=new Map([["+",_.default.SyntaxKind.PlusToken],["-",_.default.SyntaxKind.MinusToken]]),p_=new Map([["+",_.default.SyntaxKind.PlusToken],["-",_.default.SyntaxKind.MinusToken],["<",_.default.SyntaxKind.LessThanToken],[">",_.default.SyntaxKind.GreaterThanToken],["<=",_.default.SyntaxKind.LessThanEqualsToken],[">=",_.default.SyntaxKind.GreaterThanEqualsToken],["==",_.default.SyntaxKind.EqualsEqualsToken],["===",_.default.SyntaxKind.EqualsEqualsEqualsToken],["*",_.default.SyntaxKind.AsteriskToken],["/",_.default.SyntaxKind.SlashToken],["%",_.default.SyntaxKind.PercentToken],["!=",_.default.SyntaxKind.ExclamationEqualsToken],["!==",_.default.SyntaxKind.ExclamationEqualsEqualsToken],["||",_.default.SyntaxKind.BarBarToken],["&&",_.default.SyntaxKind.AmpersandAmpersandToken],["&",_.default.SyntaxKind.AmpersandToken],["|",_.default.SyntaxKind.BarToken],["??",_.default.SyntaxKind.QuestionQuestionToken]]);function h_(t,e,n){return new f_(e,n).translate(t)}var f_=class{constructor(t,e){this.maybeResolve=t,this.config=e}translate(t){if(t instanceof be&&(t=t.ast),t instanceof Ue){let n=_.default.factory.createIdentifier("undefined");return F(n,t.sourceSpan),n}let e=this.maybeResolve(t);return e!==null?e:t.visit(this)}visitUnary(t){let e=this.translate(t.expr),n=u_.get(t.operator);if(n===void 0)throw new Error(`Unsupported Unary.operator: ${t.operator}`);let s=Ie(_.default.factory.createPrefixUnaryExpression(n,e));return F(s,t.sourceSpan),s}visitBinary(t){let e=Ie(this.translate(t.left)),n=Ie(this.translate(t.right)),s=p_.get(t.operation);if(s===void 0)throw new Error(`Unsupported Binary.operation: ${t.operation}`);let r=_.default.factory.createBinaryExpression(e,s,n);return F(r,t.sourceSpan),r}visitChain(t){let e=t.expressions.map(s=>this.translate(s)),n=Ie(_.default.factory.createCommaListExpression(e));return F(n,t.sourceSpan),n}visitConditional(t){let e=this.translate(t.condition),n=this.translate(t.trueExp),s=gi(this.translate(t.falseExp)),r=_.default.factory.createParenthesizedExpression(_.default.factory.createConditionalExpression(e,void 0,n,void 0,s));return F(r,t.sourceSpan),r}visitImplicitReceiver(t){throw new Error("Method not implemented.")}visitThisReceiver(t){throw new Error("Method not implemented.")}visitInterpolation(t){return t.expressions.reduce((e,n)=>_.default.factory.createBinaryExpression(e,_.default.SyntaxKind.PlusToken,gi(this.translate(n))),_.default.factory.createStringLiteral(""))}visitKeyedRead(t){let e=Ie(this.translate(t.receiver)),n=this.translate(t.key),s=_.default.factory.createElementAccessExpression(e,n);return F(s,t.sourceSpan),s}visitKeyedWrite(t){let e=Ie(this.translate(t.receiver)),n=_.default.factory.createElementAccessExpression(e,this.translate(t.key)),s=gi(this.translate(t.value)),r=Ie(_.default.factory.createBinaryExpression(n,_.default.SyntaxKind.EqualsToken,s));return F(r,t.sourceSpan),r}visitLiteralArray(t){let e=t.expressions.map(r=>this.translate(r)),n=_.default.factory.createArrayLiteralExpression(e),s=this.config.strictLiteralTypes?n:zn(n);return F(s,t.sourceSpan),s}visitLiteralMap(t){let e=t.keys.map(({key:r},i)=>{let o=this.translate(t.values[i]);return _.default.factory.createPropertyAssignment(_.default.factory.createStringLiteral(r),o)}),n=_.default.factory.createObjectLiteralExpression(e,!0),s=this.config.strictLiteralTypes?n:zn(n);return F(s,t.sourceSpan),s}visitLiteralPrimitive(t){let e;if(t.value===void 0)e=_.default.factory.createIdentifier("undefined");else if(t.value===null)e=_.default.factory.createNull();else if(typeof t.value=="string")e=_.default.factory.createStringLiteral(t.value);else if(typeof t.value=="number")e=n_(t.value);else if(typeof t.value=="boolean")e=t.value?_.default.factory.createTrue():_.default.factory.createFalse();else throw Error(`Unsupported AST value of type ${typeof t.value}`);return F(e,t.sourceSpan),e}visitNonNullAssert(t){let e=Ie(this.translate(t.expression)),n=_.default.factory.createNonNullExpression(e);return F(n,t.sourceSpan),n}visitPipe(t){throw new Error("Method not implemented.")}visitPrefixNot(t){let e=Ie(this.translate(t.expression)),n=_.default.factory.createLogicalNot(e);return F(n,t.sourceSpan),n}visitPropertyRead(t){let e=Ie(this.translate(t.receiver)),n=_.default.factory.createPropertyAccessExpression(e,t.name);F(n,t.nameSpan);let s=Ie(n);return F(s,t.sourceSpan),s}visitPropertyWrite(t){let e=Ie(this.translate(t.receiver)),n=_.default.factory.createPropertyAccessExpression(e,t.name);F(n,t.nameSpan);let s=Ie(n);F(s,t.sourceSpan);let r=gi(this.translate(t.value)),i=Ie(_.default.factory.createBinaryExpression(s,_.default.SyntaxKind.EqualsToken,r));return F(i,t.sourceSpan),i}visitSafePropertyRead(t){let e,n=Ie(this.translate(t.receiver));if(this.config.strictSafeNavigationTypes){let s=_.default.factory.createPropertyAccessExpression(_.default.factory.createNonNullExpression(n),t.name);F(s,t.nameSpan),e=_.default.factory.createParenthesizedExpression(_.default.factory.createConditionalExpression(lr,void 0,s,void 0,_p))}else if(Pp.veWillInferAnyFor(t))e=_.default.factory.createPropertyAccessExpression(zn(n),t.name);else{let s=_.default.factory.createPropertyAccessExpression(_.default.factory.createNonNullExpression(n),t.name);F(s,t.nameSpan),e=zn(s)}return F(e,t.sourceSpan),e}visitSafeKeyedRead(t){let e=Ie(this.translate(t.receiver)),n=this.translate(t.key),s;if(this.config.strictSafeNavigationTypes){let r=_.default.factory.createElementAccessExpression(_.default.factory.createNonNullExpression(e),n);F(r,t.sourceSpan),s=_.default.factory.createParenthesizedExpression(_.default.factory.createConditionalExpression(lr,void 0,r,void 0,_p))}else if(Pp.veWillInferAnyFor(t))s=_.default.factory.createElementAccessExpression(zn(e),n);else{let r=_.default.factory.createElementAccessExpression(_.default.factory.createNonNullExpression(e),n);F(r,t.sourceSpan),s=zn(r)}return F(s,t.sourceSpan),s}visitCall(t){let e=t.args.map(i=>this.translate(i)),n,s=t.receiver;if(s instanceof le){let i=this.maybeResolve(s);if(i!==null)n=i;else{let o=Ie(this.translate(s.receiver));n=_.default.factory.createPropertyAccessExpression(o,s.name),F(n,s.nameSpan)}}else n=this.translate(s);let r;return t.receiver instanceof ft||t.receiver instanceof ln?r=this.convertToSafeCall(t,n,e):r=_.default.factory.createCallExpression(n,void 0,e),F(r,t.sourceSpan),r}visitSafeCall(t){let e=t.args.map(r=>this.translate(r)),n=Ie(this.translate(t.receiver)),s=this.convertToSafeCall(t,n,e);return F(s,t.sourceSpan),s}convertToSafeCall(t,e,n){if(this.config.strictSafeNavigationTypes){let s=_.default.factory.createCallExpression(_.default.factory.createNonNullExpression(e),void 0,n);return _.default.factory.createParenthesizedExpression(_.default.factory.createConditionalExpression(lr,void 0,s,void 0,_p))}return Pp.veWillInferAnyFor(t)?_.default.factory.createCallExpression(zn(e),void 0,n):zn(_.default.factory.createCallExpression(_.default.factory.createNonNullExpression(e),void 0,n))}},ml=class{static veWillInferAnyFor(t){let e=ml.SINGLETON;return t instanceof wt?t.visit(e):t.receiver.visit(e)}visitUnary(t){return t.expr.visit(this)}visitBinary(t){return t.left.visit(this)||t.right.visit(this)}visitChain(t){return!1}visitConditional(t){return t.condition.visit(this)||t.trueExp.visit(this)||t.falseExp.visit(this)}visitCall(t){return!0}visitSafeCall(t){return!1}visitImplicitReceiver(t){return!1}visitThisReceiver(t){return!1}visitInterpolation(t){return t.expressions.some(e=>e.visit(this))}visitKeyedRead(t){return!1}visitKeyedWrite(t){return!1}visitLiteralArray(t){return!0}visitLiteralMap(t){return!0}visitLiteralPrimitive(t){return!1}visitPipe(t){return!0}visitPrefixNot(t){return t.expression.visit(this)}visitNonNullAssert(t){return t.expression.visit(this)}visitPropertyRead(t){return!1}visitPropertyWrite(t){return!1}visitSafePropertyRead(t){return!1}visitSafeKeyedRead(t){return!1}},Pp=ml;ml.SINGLETON=new ml;var Vp=class extends Gn{constructor(t,e,n){super(),this.templateId=t,this.boundTarget=e,this.oob=n}visitPropertyWrite(t,e){if(super.visitPropertyWrite(t,e),!(t.receiver instanceof de))return;let n=this.boundTarget.getExpressionTarget(t);n instanceof xt&&this.oob.illegalAssignmentToTemplateVar(this.templateId,t,n)}static visit(t,e,n,s){t.visit(new Vp(e,n,s))}},dv;(function(t){t[t.UseEmitter=0]="UseEmitter",t[t.CopyClassNodes=1]="CopyClassNodes",t[t.FallbackToAny=2]="FallbackToAny"})(dv||(dv={}));var we=class{circularFallback(){return k_}},d_=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.element=n}get optional(){return!0}execute(){let t=this.tcb.allocateId(),e=e_(this.element.name);return F(e,this.element.startSourceSpan||this.element.sourceSpan),this.scope.addStatement(Ns(t,e)),t}},m_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.template=n,this.variable=s}get optional(){return!1}execute(){let t=this.scope.resolve(this.template),e=this.tcb.allocateId(),n=E.default.factory.createPropertyAccessExpression(t,this.variable.value||"$implicit");F(e,this.variable.keySpan);let s;return this.variable.valueSpan!==void 0?(F(n,this.variable.valueSpan),s=Ns(e,gi(n))):s=Ns(e,n),F(s.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(s),e}},g_=class extends we{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword);return this.scope.addStatement(wo(t,e)),t}},v_=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.template=n}get optional(){return!1}execute(){let t=[],e=this.tcb.boundTarget.getDirectivesOfNode(this.template);if(e!==null)for(let o of e){let a=this.scope.resolve(this.template,o),l=this.tcb.env.reference(o.ref);if(o.ngTemplateGuards.forEach(c=>{let p=this.template.inputs.find(f=>f.name===c.inputName)||this.template.templateAttrs.find(f=>f instanceof $t&&f.name===c.inputName);if(p!==void 0){let f=Gt(p.value,this.tcb,this.scope);if(bs(f),c.type==="binding")t.push(f);else{let d=hv(l,`ngTemplateGuard_${c.inputName}`,[a,f]);F(d,p.value.sourceSpan),t.push(d)}}}),o.hasNgTemplateContextGuard)if(this.tcb.env.config.applyTemplateContextGuards){let c=this.scope.resolve(this.template),p=hv(l,"ngTemplateContextGuard",[a,c]);F(p,this.template.sourceSpan),t.push(p)}else this.template.variables.length>0&&this.tcb.env.config.suggestionsForSuboptimalTypeInference&&this.tcb.oobRecorder.suboptimalTypeInference(this.tcb.id,this.template.variables)}let n=null;t.length>0&&(n=t.reduce((o,a)=>E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.AmpersandAmpersandToken,a),t.pop()));let r=cr.forNodes(this.tcb,this.scope,this.template,this.template.children,n).render();if(r.length===0)return null;let i=E.default.factory.createBlock(r);return n!==null&&(i=E.default.factory.createIfStatement(n,i)),this.scope.addStatement(i),null}},yo=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.expression=n}get optional(){return!1}execute(){let t=Gt(this.expression,this.tcb,this.scope);return this.scope.addStatement(E.default.factory.createExpressionStatement(t)),null}},Av=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=s}get optional(){return!0}execute(){let t=this.dir.ref,e=this.tcb.env.referenceType(this.dir.ref),n;if(this.dir.isGeneric===!1||t.node.typeParameters===void 0)n=e;else{if(!E.default.isTypeReferenceNode(e))throw new Error(`Expected TypeReferenceNode when referencing the type for ${this.dir.ref.debugName}`);let r=t.node.typeParameters.map(()=>E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword));n=E.default.factory.createTypeReferenceNode(e.typeName,r)}let s=this.tcb.allocateId();return Co(s,ur.DIRECTIVE),F(s,this.node.startSourceSpan||this.node.sourceSpan),this.scope.addStatement(wo(s,n)),s}},y_=class extends Av{execute(){let t=this.dir.ref;if(this.dir.isGeneric)throw new Error(`Assertion Error: expected ${t.debugName} not to be generic.`);return super.execute()}},E_=class extends Av{execute(){let t=this.dir.ref;if(t.node.typeParameters===void 0)throw new Error(`Assertion Error: expected typeParameters when creating a declaration for ${t.debugName}`);return super.execute()}},mv=class extends we{constructor(t,e,n,s,r){super(),this.tcb=t,this.scope=e,this.node=n,this.host=s,this.target=r,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=this.target instanceof ie||this.target instanceof ne?this.scope.resolve(this.target):this.scope.resolve(this.host,this.target);return this.target instanceof ne&&!this.tcb.env.config.checkTypeOfDomReferences||!this.tcb.env.config.checkTypeOfNonDomReferences?e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)):this.target instanceof ie&&(e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),e=E.default.factory.createAsExpression(e,this.tcb.env.referenceExternalType("@angular/core","TemplateRef",[Vt])),e=E.default.factory.createParenthesizedExpression(e)),F(e,this.node.sourceSpan),F(t,this.node.keySpan),this.scope.addStatement(Ns(t,e)),t}},S_=class extends we{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId();return this.scope.addStatement(Ns(t,lr)),t}},x_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=s}get optional(){return!0}execute(){let t=this.tcb.allocateId();Co(t,ur.DIRECTIVE),F(t,this.node.startSourceSpan||this.node.sourceSpan);let e=new Map,n=Nv(this.dir,this.node);for(let r of n)if(!(!this.tcb.env.config.checkTypeOfAttributes&&r.attribute instanceof bt))for(let{fieldName:i,isTwoWayBinding:o}of r.inputs){if(e.has(i))continue;let a=Dv(r.attribute,this.tcb,this.scope);e.set(i,{type:"binding",field:i,expression:a,sourceSpan:r.attribute.sourceSpan,isTwoWayBinding:o})}for(let{classPropertyName:r}of this.dir.inputs)e.has(r)||e.set(r,{type:"unset",field:r});let s=R_(this.dir,this.tcb,Array.from(e.values()));return bs(s),this.scope.addStatement(Ns(t,s)),t}circularFallback(){return new T_(this.tcb,this.scope,this.node,this.dir)}},w_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=s}get optional(){return!1}execute(){let t=null,e=Nv(this.dir,this.node),n=new Set;for(let s of e){let r=Gp(Dv(s.attribute,this.tcb,this.scope),this.tcb),i=Ie(r);for(let{fieldName:o,required:a,transformType:l,isSignal:c,isTwoWayBinding:p}of s.inputs){let f;if(a&&n.add(o),this.dir.coercedInputFields.has(o)){let d;if(l!==null)d=this.tcb.env.referenceTransplantedType(new Lr(l));else{let v=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(v))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);d=t_(v.typeName,o)}let y=this.tcb.allocateId();this.scope.addStatement(wo(y,d)),f=y}else{if(this.dir.undeclaredInputFields.has(o))continue;if(!this.tcb.env.config.honorAccessModifiersForInputBindings&&this.dir.restrictedInputFields.has(o)){t===null&&(t=this.scope.resolve(this.node,this.dir));let d=this.tcb.allocateId(),y=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(y))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);let v=E.default.factory.createIndexedAccessTypeNode(E.default.factory.createTypeQueryNode(t),E.default.factory.createLiteralTypeNode(E.default.factory.createStringLiteral(o))),T=wo(d,v);this.scope.addStatement(T),f=d}else t===null&&(t=this.scope.resolve(this.node,this.dir)),f=this.dir.stringLiteralInputFields.has(o)?E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(o)):E.default.factory.createPropertyAccessExpression(t,E.default.factory.createIdentifier(o))}if(c){let d=this.tcb.env.referenceExternalSymbol(u.InputSignalBrandWriteType.moduleName,u.InputSignalBrandWriteType.name);if(!E.default.isIdentifier(d)&&!E.default.isPropertyAccessExpression(d))throw new Error(`Expected identifier or property access for reference to ${u.InputSignalBrandWriteType.name}`);f=E.default.factory.createElementAccessExpression(f,d)}s.attribute.keySpan!==void 0&&F(f,s.attribute.keySpan),p&&this.tcb.env.config.allowSignalsInTwoWayBindings&&(i=_v(i,this.tcb)),i=E.default.factory.createBinaryExpression(f,E.default.SyntaxKind.EqualsToken,i)}F(i,s.attribute.sourceSpan),!this.tcb.env.config.checkTypeOfAttributes&&s.attribute instanceof bt&&bs(i),this.scope.addStatement(E.default.factory.createExpressionStatement(i))}return this.checkRequiredInputs(n),null}checkRequiredInputs(t){let e=[];for(let n of this.dir.inputs)n.required&&!t.has(n.classPropertyName)&&e.push(n.bindingPropertyName);e.length>0&&this.tcb.oobRecorder.missingRequiredInputs(this.tcb.id,this.node,this.dir.name,this.dir.isComponent,e)}},T_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=s}get optional(){return!1}execute(){let t=this.tcb.allocateId(),e=this.tcb.env.typeCtorFor(this.dir),n=E.default.factory.createCallExpression(e,void 0,[E.default.factory.createNonNullExpression(E.default.factory.createNull())]);return this.scope.addStatement(Ns(t,n)),t}},kp=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.element=e,this.checkElement=n,this.claimedInputs=s}get optional(){return!1}execute(){var t;this.checkElement&&this.tcb.domSchemaChecker.checkElement(this.tcb.id,this.element,this.tcb.schemas,this.tcb.hostIsStandalone);for(let e of this.element.inputs){let n=e.type===0||e.type===5;if(!(n&&this.claimedInputs.has(e.name))&&n&&e.name!=="style"&&e.name!=="class"){let s=(t=bv.get(e.name))!=null?t:e.name;this.tcb.domSchemaChecker.checkProperty(this.tcb.id,this.element,s,e.sourceSpan,this.tcb.schemas,this.tcb.hostIsStandalone)}}return null}},C_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.element=e,this.ngContentSelectors=n,this.componentName=s,this.optional=!1,this.category=t.env.config.controlFlowPreventingContentProjection==="error"?E.default.DiagnosticCategory.Error:E.default.DiagnosticCategory.Warning}execute(){let t=this.findPotentialControlFlowNodes();if(t.length>0){let e=new is;for(let n of this.ngContentSelectors)n!=="*"&&e.addSelectables(en.parse(n),n);for(let n of t)for(let s of n.children)(s instanceof ne||s instanceof ie)&&e.match(Lu(s),(r,i)=>{this.tcb.oobRecorder.controlFlowPreventingContentProjection(this.tcb.id,this.category,s,this.componentName,i,n,this.tcb.hostPreserveWhitespaces)})}return null}findPotentialControlFlowNodes(){let t=[];for(let e of this.element.children){let n=null;if(e instanceof on?(this.shouldCheck(e)&&t.push(e),e.empty!==null&&this.shouldCheck(e.empty)&&t.push(e.empty)):e instanceof qs&&(n=e.branches[0]),n===null||n.children.length<2)continue;n.children.reduce((r,i)=>((!(i instanceof Lt)||this.tcb.hostPreserveWhitespaces||i.value.trim().length>0)&&r++,r),0)>1&&t.push(n)}return t}shouldCheck(t){return t.children.length<2?!1:t.children.reduce((n,s)=>((!(s instanceof Lt)||this.tcb.hostPreserveWhitespaces||s.value.trim().length>0)&&n++,n),0)>1}},bv=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),gv=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedInputs=s}get optional(){return!1}execute(){var t;let e=null;for(let n of this.element.inputs){let s=n.type===0||n.type===5;if(s&&this.claimedInputs.has(n.name))continue;let r=Gp(Gt(n.value,this.tcb,this.scope),this.tcb);if(this.tcb.env.config.checkTypeOfDomBindings&&s)if(n.name!=="style"&&n.name!=="class"){e===null&&(e=this.scope.resolve(this.element));let i=(t=bv.get(n.name))!=null?t:n.name,o=E.default.factory.createElementAccessExpression(e,E.default.factory.createStringLiteral(i)),a=E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.EqualsToken,Ie(r));F(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else this.scope.addStatement(E.default.factory.createExpressionStatement(r));else this.scope.addStatement(E.default.factory.createExpressionStatement(r))}return null}},I_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=s}get optional(){return!1}execute(){let t=null,e=this.dir.outputs;for(let n of this.node.outputs){if(n.type===1||!e.hasBindingPropertyName(n.name))continue;if(this.tcb.env.config.checkTypeOfOutputEvents&&n.name.endsWith("Change")){let i=n.name.slice(0,-6);Pv(i,n,this.node.inputs,this.tcb)}let s=e.getByBindingPropertyName(n.name)[0].classPropertyName;t===null&&(t=this.scope.resolve(this.node,this.dir));let r=E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(s));if(F(r,n.keySpan),this.tcb.env.config.checkTypeOfOutputEvents){let i=So(n,this.tcb,this.scope,0),o=E.default.factory.createPropertyAccessExpression(r,"subscribe"),a=E.default.factory.createCallExpression(o,void 0,[i]);F(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else{this.scope.addStatement(E.default.factory.createExpressionStatement(r));let i=So(n,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(i))}Vp.visit(n.handler,this.tcb.id,this.tcb.boundTarget,this.tcb.oobRecorder)}return null}},vv=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedOutputs=s}get optional(){return!1}execute(){let t=null;for(let e of this.element.outputs)if(!this.claimedOutputs.has(e.name)){if(this.tcb.env.config.checkTypeOfOutputEvents&&e.name.endsWith("Change")){let n=e.name.slice(0,-6);if(Pv(n,e,this.element.inputs,this.tcb))continue}if(e.type===1){let n=this.tcb.env.config.checkTypeOfAnimationEvents?this.tcb.env.referenceExternalType("@angular/animations","AnimationEvent"):1,s=So(e,this.tcb,this.scope,n);this.scope.addStatement(E.default.factory.createExpressionStatement(s))}else if(this.tcb.env.config.checkTypeOfDomEvents){let n=So(e,this.tcb,this.scope,0);t===null&&(t=this.scope.resolve(this.element));let s=E.default.factory.createPropertyAccessExpression(t,"addEventListener");F(s,e.keySpan);let r=E.default.factory.createCallExpression(s,void 0,[E.default.factory.createStringLiteral(e.name),n]);F(r,e.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(r))}else{let n=So(e,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(n))}Vp.visit(e.handler,this.tcb.id,this.tcb.boundTarget,this.tcb.oobRecorder)}return null}},A_=class extends we{constructor(t){super(),this.scope=t,this.optional=!1}execute(){let t=E.default.factory.createThis(),e=E.default.factory.createPropertyAccessExpression(t,"");return bs(e),Co(e,ur.COMPONENT_COMPLETION),this.scope.addStatement(E.default.factory.createExpressionStatement(e)),null}},b_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.initializer=n,this.variable=s}get optional(){return!1}execute(){let t=this.tcb.allocateId();F(t,this.variable.keySpan);let e=Ns(t,gi(this.initializer));return F(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},N_=class extends we{constructor(t,e,n,s){super(),this.tcb=t,this.scope=e,this.type=n,this.variable=s,this.optional=!0}execute(){let t=this.tcb.allocateId();F(t,this.variable.keySpan);let e=wo(t,this.type);return F(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},D_=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n,this.expressionScopes=new Map}get optional(){return!1}execute(){let t=this.generateBranch(0);return t&&this.scope.addStatement(t),null}generateBranch(t){let e=this.block.branches[t];if(!e)return;if(e.expression===null){let i=cr.forNodes(this.tcb,this.scope,null,e.children,this.generateBranchGuard(t));return E.default.factory.createBlock(i.render())}let n=cr.forNodes(this.tcb,this.scope,e,[],null);n.render().forEach(i=>this.scope.addStatement(i)),this.expressionScopes.set(e,n);let s=e.expressionAlias===null?Gt(e.expression,this.tcb,n):n.resolve(e.expressionAlias),r=cr.forNodes(this.tcb,n,null,e.children,this.generateBranchGuard(t));return E.default.factory.createIfStatement(s,E.default.factory.createBlock(r.render()),this.generateBranch(t+1))}generateBranchGuard(t){let e=null;for(let n=0;n<=t;n++){let s=this.block.branches[n];if(s.expression===null)continue;if(!this.expressionScopes.has(s))throw new Error(`Could not determine expression scope of branch at index ${n}`);let r=this.expressionScopes.get(s),i;s.expressionAlias===null?(i=Gt(s.expression,this.tcb,r),bs(i)):i=r.resolve(s.expressionAlias);let o=n===t?i:E.default.factory.createPrefixUnaryExpression(E.default.SyntaxKind.ExclamationToken,E.default.factory.createParenthesizedExpression(i));e=e===null?o:E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.AmpersandAmpersandToken,o)}return e}},__=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=Gt(this.block.expression,this.tcb,this.scope);bs(t);let e=E.default.factory.createParenthesizedExpression(t),n=this.generateCase(0,e,null);return n!==void 0&&this.scope.addStatement(n),null}generateCase(t,e,n){if(t>=this.block.cases.length){if(n!==null){let o=cr.forNodes(this.tcb,this.scope,null,n.children,this.generateGuard(n,e));return E.default.factory.createBlock(o.render())}return}let s=this.block.cases[t];if(s.expression===null)return this.generateCase(t+1,e,s);let r=cr.forNodes(this.tcb,this.scope,null,s.children,this.generateGuard(s,e)),i=Gt(s.expression,this.tcb,r);return E.default.factory.createIfStatement(E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsEqualsEqualsToken,i),E.default.factory.createBlock(r.render()),this.generateCase(t+1,e,n))}generateGuard(t,e){if(t.expression!==null){let s=Gt(t.expression,this.tcb,this.scope);return bs(s),E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsEqualsEqualsToken,s)}let n=null;for(let s of this.block.cases){if(s.expression===null)continue;let r=Gt(s.expression,this.tcb,this.scope);bs(r);let i=E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.ExclamationEqualsEqualsToken,r);n===null?n=i:n=E.default.factory.createBinaryExpression(n,E.default.SyntaxKind.AmpersandAmpersandToken,i)}return n}},P_=class extends we{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=cr.forNodes(this.tcb,this.scope,this.block,this.block.children,null),e=t.resolve(this.block.item);if(!E.default.isIdentifier(e))throw new Error(`Could not resolve for loop variable ${this.block.item.name} to an identifier`);let n=E.default.factory.createVariableDeclarationList([E.default.factory.createVariableDeclaration(e)],E.default.NodeFlags.Const);F(n,this.block.item.keySpan);let s=E.default.factory.createNonNullExpression(Gt(this.block.expression,this.tcb,t)),i=new O_(this.tcb,t,this.block).translate(this.block.trackBy),o=[...t.render(),E.default.factory.createExpressionStatement(i)];return this.scope.addStatement(E.default.factory.createForOfStatement(void 0,n,s,E.default.factory.createBlock(o))),null}},k_=E.default.factory.createNonNullExpression(E.default.factory.createNull());var qp=class{constructor(t,e=null,n=null){this.tcb=t,this.parent=e,this.guard=n,this.opQueue=[],this.elementOpMap=new Map,this.directiveOpMap=new Map,this.referenceOpMap=new Map,this.templateCtxOpMap=new Map,this.varMap=new Map,this.statements=[]}static forNodes(t,e,n,s,r){let i=new qp(t,e,r);if(e===null&&t.env.config.enableTemplateTypeChecker&&i.opQueue.push(new A_(i)),n instanceof ie){let o=new Map;for(let a of n.variables){if(!o.has(a.name))o.set(a.name,a);else{let l=o.get(a.name);t.oobRecorder.duplicateTemplateVar(t.id,a,l)}this.registerVariable(i,a,new m_(t,i,n,a))}}else if(n instanceof Mn){let{expression:o,expressionAlias:a}=n;o!==null&&a!==null&&this.registerVariable(i,a,new b_(t,i,Gt(o,t,i),a))}else if(n instanceof on){let o=t.allocateId();F(o,n.item.sourceSpan),i.varMap.set(n.item,o);for(let[a,l]of Object.entries(n.contextVariables)){if(!this.forLoopContextVariableTypes.has(a))throw new Error(`Unrecognized for loop context variable ${a}`);let c=E.default.factory.createKeywordTypeNode(this.forLoopContextVariableTypes.get(a));this.registerVariable(i,l,new N_(t,i,c,l))}}for(let o of s)i.appendNode(o);return i}static registerVariable(t,e,n){let s=t.opQueue.push(n)-1;t.varMap.set(e,s)}resolve(t,e){let n=this.resolveLocal(t,e);if(n!==null){let s;if(E.default.isIdentifier(n))s=E.default.factory.createIdentifier(n.text);else if(E.default.isNonNullExpression(n))s=E.default.factory.createNonNullExpression(n.expression);else throw new Error(`Could not resolve ${t} to an Identifier or a NonNullExpression`);return E.default.setOriginalNode(s,n),s.parent=s.parent,E.default.setSyntheticTrailingComments(s,[])}else{if(this.parent!==null)return this.parent.resolve(t,e);throw new Error(`Could not resolve ${t} / ${e}`)}}addStatement(t){this.statements.push(t)}render(){for(let t=0;t<this.opQueue.length;t++){let e=!this.tcb.env.config.enableTemplateTypeChecker;this.executeOp(t,e)}return this.statements}guards(){let t=null;return this.parent!==null&&(t=this.parent.guards()),this.guard===null?t:t===null?this.guard:E.default.factory.createBinaryExpression(t,E.default.SyntaxKind.AmpersandAmpersandToken,this.guard)}resolveLocal(t,e){if(t instanceof xn&&this.referenceOpMap.has(t))return this.resolveOp(this.referenceOpMap.get(t));if(t instanceof xt&&this.varMap.has(t)){let n=this.varMap.get(t);return typeof n=="number"?this.resolveOp(n):n}else{if(t instanceof ie&&e===void 0&&this.templateCtxOpMap.has(t))return this.resolveOp(this.templateCtxOpMap.get(t));if((t instanceof ne||t instanceof ie)&&e!==void 0&&this.directiveOpMap.has(t)){let n=this.directiveOpMap.get(t);return n.has(e)?this.resolveOp(n.get(e)):null}else return t instanceof ne&&this.elementOpMap.has(t)?this.resolveOp(this.elementOpMap.get(t)):null}}resolveOp(t){let e=this.executeOp(t,!1);if(e===null)throw new Error("Error resolving operation, got null");return e}executeOp(t,e){let n=this.opQueue[t];if(!(n instanceof we))return n;if(e&&n.optional)return null;this.opQueue[t]=n.circularFallback();let s=n.execute();return this.opQueue[t]=s,s}appendNode(t){if(t instanceof ne){let e=this.opQueue.push(new d_(this.tcb,this,t))-1;this.elementOpMap.set(t,e),this.tcb.env.config.controlFlowPreventingContentProjection!=="suppress"&&this.appendContentProjectionCheckOp(t),this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t),this.appendChildren(t),this.checkAndAppendReferencesOfNode(t)}else if(t instanceof ie){this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t);let e=this.opQueue.push(new g_(this.tcb,this))-1;this.templateCtxOpMap.set(t,e),this.tcb.env.config.checkTemplateBodies?this.opQueue.push(new v_(this.tcb,this,t)):this.tcb.env.config.alwaysCheckSchemaInTemplateBodies&&this.appendDeepSchemaChecks(t.children),this.checkAndAppendReferencesOfNode(t)}else t instanceof Un?this.appendDeferredBlock(t):t instanceof qs?this.opQueue.push(new D_(this.tcb,this,t)):t instanceof Gr?this.opQueue.push(new yo(this.tcb,this,t.expression),new __(this.tcb,this,t)):t instanceof on?(this.opQueue.push(new P_(this.tcb,this,t)),t.empty&&this.appendChildren(t.empty)):t instanceof Sn?this.opQueue.push(new yo(this.tcb,this,t.value)):t instanceof Hs&&this.appendIcuExpressions(t)}appendChildren(t){for(let e of t.children)this.appendNode(e)}checkAndAppendReferencesOfNode(t){for(let e of t.references){let n=this.tcb.boundTarget.getReferenceTarget(e),s;n===null?(this.tcb.oobRecorder.missingReferenceTarget(this.tcb.id,e),s=this.opQueue.push(new S_(this.tcb,this))-1):n instanceof ie||n instanceof ne?s=this.opQueue.push(new mv(this.tcb,this,e,t,n))-1:s=this.opQueue.push(new mv(this.tcb,this,e,t,n.directive))-1,this.referenceOpMap.set(e,s)}}appendDirectivesAndInputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof ne&&(this.opQueue.push(new gv(this.tcb,this,t,e)),this.opQueue.push(new kp(this.tcb,t,!0,e)));return}else t instanceof ne&&!this.tcb.boundTarget.isDeferred(t)&&n.some(i=>i.isExplicitlyDeferred)&&this.tcb.oobRecorder.deferredComponentUsedEagerly(this.tcb.id,t);let s=new Map;for(let r of n){let i,o=this.tcb.env.reflector,a=r.ref;r.isGeneric?!a_(a.node,o,this.tcb.env)||this.tcb.env.config.useInlineTypeConstructors?i=new x_(this.tcb,this,t,r):i=new E_(this.tcb,this,t,r):i=new y_(this.tcb,this,t,r);let l=this.opQueue.push(i)-1;s.set(r,l),this.opQueue.push(new w_(this.tcb,this,t,r))}if(this.directiveOpMap.set(t,s),t instanceof ne){for(let i of n)for(let o of i.inputs.propertyNames)e.add(o);this.opQueue.push(new gv(this.tcb,this,t,e));let r=n.length===0;this.opQueue.push(new kp(this.tcb,t,r,e))}}appendOutputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof ne&&this.opQueue.push(new vv(this.tcb,this,t,e));return}for(let s of n)this.opQueue.push(new I_(this.tcb,this,t,s));if(t instanceof ne){for(let s of n)for(let r of s.outputs.propertyNames)e.add(r);this.opQueue.push(new vv(this.tcb,this,t,e))}}appendDeepSchemaChecks(t){for(let e of t)if(e instanceof ne||e instanceof ie){if(e instanceof ne){let n=new Set,s=this.tcb.boundTarget.getDirectivesOfNode(e),r;if(s===null||s.length===0)r=!1;else{r=!0;for(let i of s)for(let o of i.inputs.propertyNames)n.add(o)}this.opQueue.push(new kp(this.tcb,e,!r,n))}this.appendDeepSchemaChecks(e.children)}}appendIcuExpressions(t){for(let e of Object.values(t.vars))this.opQueue.push(new yo(this.tcb,this,e.value));for(let e of Object.values(t.placeholders))e instanceof Sn&&this.opQueue.push(new yo(this.tcb,this,e.value))}appendContentProjectionCheckOp(t){var e;let n=((e=this.tcb.boundTarget.getDirectivesOfNode(t))==null?void 0:e.find(s=>s.isComponent))||null;if(n!==null&&n.ngContentSelectors!==null&&n.ngContentSelectors.length>0){let s=n.ngContentSelectors;(s.length>1||s.length===1&&s[0]!=="*")&&this.opQueue.push(new C_(this.tcb,t,s,n.name))}}appendDeferredBlock(t){this.appendDeferredTriggers(t,t.triggers),this.appendDeferredTriggers(t,t.prefetchTriggers),this.appendChildren(t),t.placeholder!==null&&this.appendChildren(t.placeholder),t.loading!==null&&this.appendChildren(t.loading),t.error!==null&&this.appendChildren(t.error)}appendDeferredTriggers(t,e){e.when!==void 0&&this.opQueue.push(new yo(this.tcb,this,e.when.value)),e.hover!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.hover),e.interaction!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.interaction),e.viewport!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.viewport)}appendReferenceBasedDeferredTrigger(t,e){this.tcb.boundTarget.getDeferredTriggerTarget(t,e)===null&&this.tcb.oobRecorder.inaccessibleDeferredTriggerElement(this.tcb.id,e)}},cr=qp;qp.forLoopContextVariableTypes=new Map([["$first",E.default.SyntaxKind.BooleanKeyword],["$last",E.default.SyntaxKind.BooleanKeyword],["$even",E.default.SyntaxKind.BooleanKeyword],["$odd",E.default.SyntaxKind.BooleanKeyword],["$index",E.default.SyntaxKind.NumberKeyword],["$count",E.default.SyntaxKind.NumberKeyword]]);function Gt(t,e,n){return new Hp(e,n).translate(t)}var Hp=class{constructor(t,e){this.tcb=t,this.scope=e}translate(t){return h_(t,e=>this.resolve(e),this.tcb.env.config)}resolve(t){if(t instanceof le&&t.receiver instanceof de)return this.resolveTarget(t);if(t instanceof an&&t.receiver instanceof de){let e=this.resolveTarget(t);if(e===null)return null;let n=this.translate(t.value),s=E.default.factory.createParenthesizedExpression(E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsToken,n));return F(s,t.sourceSpan),s}else{if(t instanceof de)return E.default.factory.createThis();if(t instanceof wn){let e=this.translate(t.exp),n=this.tcb.getPipeByName(t.name),s;n===null?(this.tcb.oobRecorder.missingPipe(this.tcb.id,t),s=lr):n.isExplicitlyDeferred&&this.tcb.boundTarget.getEagerlyUsedPipes().includes(t.name)?(this.tcb.oobRecorder.deferredPipeUsedEagerly(this.tcb.id,t),s=lr):s=this.tcb.env.pipeInst(n.ref);let r=t.args.map(a=>this.translate(a)),i=E.default.factory.createPropertyAccessExpression(s,"transform");F(i,t.nameSpan),this.tcb.env.config.checkTypeOfPipes||(i=E.default.factory.createAsExpression(i,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)));let o=E.default.factory.createCallExpression(i,void 0,[e,...r]);return F(o,t.sourceSpan),o}else if((t instanceof wt||t instanceof cn)&&(t.receiver instanceof le||t.receiver instanceof ft)){if(t.receiver.receiver instanceof de&&!(t.receiver.receiver instanceof Zt)&&t.receiver.name==="$any"&&t.args.length===1){let i=this.translate(t.args[0]),o=E.default.factory.createAsExpression(i,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),a=E.default.factory.createParenthesizedExpression(o);return F(a,t.sourceSpan),a}let e=this.resolveTarget(t);if(e===null)return null;let n=Ie(e);F(n,t.receiver.nameSpan);let s=t.args.map(i=>this.translate(i)),r=E.default.factory.createCallExpression(n,void 0,s);return F(r,t.sourceSpan),r}else return null}}resolveTarget(t){let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.scope.resolve(e);return F(n,t.sourceSpan),n}};function R_(t,e,n){let s=e.env.typeCtorFor(t),r=n.map(i=>{let o=E.default.factory.createStringLiteral(i.field);if(i.type==="binding"){let a=Gp(i.expression,e);i.isTwoWayBinding&&e.env.config.allowSignalsInTwoWayBindings&&(a=_v(a,e));let l=E.default.factory.createPropertyAssignment(o,Ie(a));return F(l,i.sourceSpan),l}else return E.default.factory.createPropertyAssignment(o,lr)});return E.default.factory.createCallExpression(s,void 0,[E.default.factory.createObjectLiteralExpression(r)])}function Nv(t,e){let n=[],s=r=>{if(r instanceof $t&&r.type!==0&&r.type!==5)return;let i=t.inputs.getByBindingPropertyName(r.name);i!==null&&n.push({attribute:r,inputs:i.map(o=>{var a;return{fieldName:o.classPropertyName,required:o.required,transformType:((a=o.transform)==null?void 0:a.type)||null,isSignal:o.isSignal,isTwoWayBinding:r instanceof $t&&r.type===5}})})};return e.inputs.forEach(s),e.attributes.forEach(s),e instanceof ie&&e.templateAttrs.forEach(s),n}function Dv(t,e,n){return t instanceof $t?Gt(t.value,e,n):E.default.factory.createStringLiteral(t.value)}function Gp(t,e){return e.env.config.checkTypeOfInputBindings?e.env.config.strictNullInputBindings||E.default.isObjectLiteralExpression(t)||E.default.isArrayLiteralExpression(t)?t:E.default.factory.createNonNullExpression(t):zn(t)}function _v(t,e){let n=e.env.referenceExternalSymbol(u.unwrapWritableSignal.moduleName,u.unwrapWritableSignal.name);return E.default.factory.createCallExpression(n,void 0,[t])}var Bp="$event";function So(t,e,n,s){let r=M_(t.handler,e,n),i;s===0?i=void 0:s===1?i=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword):i=s;let o=n.guards(),a=E.default.factory.createExpressionStatement(r);o!==null&&(a=E.default.factory.createIfStatement(o,a));let l=E.default.factory.createParameterDeclaration(void 0,void 0,Bp,void 0,i);return Co(l,ur.EVENT_PARAMETER),E.default.factory.createArrowFunction(void 0,void 0,[l],E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword),void 0,E.default.factory.createBlock([a]))}function M_(t,e,n){return new L_(e,n).translate(t)}function Pv(t,e,n,s){let r=n.find(a=>a.name===t);if(r===void 0||r.sourceSpan!==e.sourceSpan)return!1;let i=s.boundTarget.getConsumerOfBinding(r),o=s.boundTarget.getConsumerOfBinding(e);return o===null||i.ref===void 0||o instanceof ie?!1:o instanceof ne?(s.oobRecorder.splitTwoWayBinding(s.id,r,e,i.ref.node,o),!0):o.ref!==i.ref?(s.oobRecorder.splitTwoWayBinding(s.id,r,e,i.ref.node,o.ref.node),!0):!1}var L_=class extends Hp{resolve(t){if(t instanceof le&&t.receiver instanceof de&&!(t.receiver instanceof Zt)&&t.name===Bp){let e=E.default.factory.createIdentifier(Bp);return F(e,t.nameSpan),e}return super.resolve(t)}},O_=class extends Hp{constructor(t,e,n){super(t,e),this.block=n}resolve(t){if(t instanceof le&&t.receiver instanceof de){let e=this.tcb.boundTarget.getExpressionTarget(t);e!==null&&e!==this.block.item&&e!==this.block.contextVariables.$index&&this.tcb.oobRecorder.illegalForLoopTrackAccess(this.tcb.id,this.block,t)}return super.resolve(t)}};var yv;(function(t){t[t.InlineOps=0]="InlineOps",t[t.Error=1]="Error"})(yv||(yv={}));var JR=new hn;var Ds=class{run(t,e,n){return new $_(t,e,this).getDiagnostics(n)}},$_=class extends Gn{constructor(t,e,n){super(),this.ctx=t,this.component=e,this.check=n,this.diagnostics=[]}visit(t,e){this.diagnostics.push(...this.check.visitNode(this.ctx,this.component,t)),t.visit(this)}visitAllNodes(t){for(let e of t)this.visit(e)}visitAst(t){t instanceof be&&(t=t.ast),this.visit(t)}visitElement(t){this.visitAllNodes(t.attributes),this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitTemplate(t){this.visitAllNodes(t.attributes),t.tagName==="ng-template"&&(this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.templateAttrs)),this.visitAllNodes(t.variables),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitContent(t){}visitVariable(t){}visitReference(t){}visitTextAttribute(t){}visitUnknownBlock(t){}visitBoundAttribute(t){this.visitAst(t.value)}visitBoundEvent(t){this.visitAst(t.handler)}visitText(t){}visitBoundText(t){this.visitAst(t.value)}visitIcu(t){}visitDeferredBlock(t){t.visitAll(this)}visitDeferredTrigger(t){t instanceof Hr&&this.visitAst(t.value)}visitDeferredBlockPlaceholder(t){this.visitAllNodes(t.children)}visitDeferredBlockError(t){this.visitAllNodes(t.children)}visitDeferredBlockLoading(t){this.visitAllNodes(t.children)}visitSwitchBlock(t){this.visitAst(t.expression),this.visitAllNodes(t.cases)}visitSwitchBlockCase(t){t.expression&&this.visitAst(t.expression),this.visitAllNodes(t.children)}visitForLoopBlock(t){var e;t.item.visit(this),this.visitAllNodes(Object.values(t.contextVariables)),this.visitAst(t.expression),this.visitAllNodes(t.children),(e=t.empty)==null||e.visit(this)}visitForLoopBlockEmpty(t){this.visitAllNodes(t.children)}visitIfBlock(t){this.visitAllNodes(t.branches)}visitIfBlockBranch(t){var e;t.expression&&this.visitAst(t.expression),(e=t.expressionAlias)==null||e.visit(this),this.visitAllNodes(t.children)}getDiagnostics(t){return this.diagnostics=[],this.visitAllNodes(t),this.diagnostics}},U_=class extends Ds{constructor(){super(...arguments),this.code=ee.INTERPOLATED_SIGNAL_NOT_INVOKED}visitNode(t,e,n){return n instanceof Se?n.expressions.filter(s=>s instanceof le).flatMap(s=>s instanceof le?V_(t,s,e):[]):[]}};function Ev(t){return(t?.escapedName==="WritableSignal"||t?.escapedName==="Signal"||t?.escapedName==="InputSignal"||t?.escapedName==="InputSignalWithTransform"||t?.escapedName==="ModelSignal")&&t.parent.escapedName.includes("@angular/core")}function V_(t,e,n){let s=t.templateTypeChecker.getSymbolOfNode(e,n);if(s?.kind===As.Expression&&(Ev(s.tsType.symbol)||Ev(s.tsType.aliasSymbol))){let r=t.templateTypeChecker.getTemplateMappingAtTcbLocation(s.tcbLocation),i=`${e.name} is a function and should be invoked: ${e.name}()`;return[t.makeTemplateDiagnostic(r.span,i)]}return[]}var q_={code:ee.INTERPOLATED_SIGNAL_NOT_INVOKED,name:Ht.INTERPOLATED_SIGNAL_NOT_INVOKED,create:()=>new U_},H_=class extends Ds{constructor(){super(...arguments),this.code=ee.INVALID_BANANA_IN_BOX}visitNode(t,e,n){if(!(n instanceof Vs))return[];let s=n.name;if(!s.startsWith("[")||!s.endsWith("]"))return[];let i=n.sourceSpan.toString().replace(`(${s})`,`[(${s.slice(1,-1)})]`);return[t.makeTemplateDiagnostic(n.sourceSpan,`In the two-way binding syntax the parentheses should be inside the brackets, ex. '${i}'.
        Find more at https://angular.io/guide/two-way-binding`)]}},G_={code:ee.INVALID_BANANA_IN_BOX,name:Ht.INVALID_BANANA_IN_BOX,create:()=>new H_},Sv=new Map([["ngIf",{directive:"NgIf",builtIn:"@if"}],["ngFor",{directive:"NgFor",builtIn:"@for"}],["ngSwitchCase",{directive:"NgSwitchCase",builtIn:"@switch with @case"}],["ngSwitchDefault",{directive:"NgSwitchDefault",builtIn:"@switch with @default"}]]),W_=class extends Ds{constructor(){super(...arguments),this.code=ee.MISSING_CONTROL_FLOW_DIRECTIVE}run(t,e,n){let s=t.templateTypeChecker.getDirectiveMetadata(e);return!s||!s.isStandalone?[]:super.run(t,e,n)}visitNode(t,e,n){if(!(n instanceof ie))return[];let s=n.templateAttrs.find(c=>Sv.has(c.name));if(!s)return[];let r=t.templateTypeChecker.getSymbolOfNode(n,e);if(r===null||r.directives.length>0)return[];let i=s.keySpan||s.sourceSpan,o=Sv.get(s.name),a=`The \`*${s.name}\` directive was used in the template, but neither the \`${o?.directive}\` directive nor the \`CommonModule\` was imported. Use Angular's built-in control flow ${o?.builtIn} or make sure that either the \`${o?.directive}\` directive or the \`CommonModule\` is included in the \`@Component.imports\` array of this component.`;return[t.makeTemplateDiagnostic(i,a)]}},j_={code:ee.MISSING_CONTROL_FLOW_DIRECTIVE,name:Ht.MISSING_CONTROL_FLOW_DIRECTIVE,create:t=>new W_},K_=class extends Ds{constructor(){super(...arguments),this.code=ee.MISSING_NGFOROF_LET}visitNode(t,e,n){let s=n instanceof ie;if(!(n instanceof ie))return[];if(n.templateAttrs.length===0)return[];let r=n.templateAttrs.find(a=>a.name==="ngFor");return r===void 0?[]:n.variables.length>0?[]:[t.makeTemplateDiagnostic(r.sourceSpan,"Your ngFor is missing a value. Did you forget to add the `let` keyword?")]}},z_={code:ee.MISSING_NGFOROF_LET,name:Ht.MISSING_NGFOROF_LET,create:()=>new K_},Y_=class extends Ds{constructor(){super(...arguments),this.code=ee.NULLISH_COALESCING_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof Qe)||n.operation!=="??")return[];let s=t.templateTypeChecker.getSymbolOfNode(n.left,e);if(s===null||s.kind!==As.Expression)return[];let r=s.tsType;if(r.flags&($p.default.TypeFlags.Any|$p.default.TypeFlags.Unknown))return[];if(r.getNonNullableType()!==r)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==As.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);return o===null?[]:[t.makeTemplateDiagnostic(o.span,"The left side of this nullish coalescing operation does not include 'null' or 'undefined' in its type, therefore the '??' operator can be safely removed.")]}},X_={code:ee.NULLISH_COALESCING_NOT_NULLABLE,name:Ht.NULLISH_COALESCING_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new Y_:null},Q_=class extends Ds{constructor(){super(...arguments),this.code=ee.OPTIONAL_CHAIN_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof cn)&&!(n instanceof ft)&&!(n instanceof ln))return[];let s=t.templateTypeChecker.getSymbolOfNode(n.receiver,e);if(s===null||s.kind!==As.Expression)return[];let r=s.tsType;if(r.flags&(Up.default.TypeFlags.Any|Up.default.TypeFlags.Unknown))return[];if(r.getNonNullableType()!==r)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==As.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);if(o===null)return[];let a=n instanceof ft?"the '?.' operator can be replaced with the '.' operator":"the '?.' operator can be safely removed";return[t.makeTemplateDiagnostic(o.span,`The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore ${a}.`)]}},J_={code:ee.OPTIONAL_CHAIN_NOT_NULLABLE,name:Ht.OPTIONAL_CHAIN_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new Q_:null},xv=["px","%","em"],Z_=class extends Ds{constructor(){super(...arguments),this.code=ee.SUFFIX_NOT_SUPPORTED}visitNode(t,e,n){return n instanceof $t?!n.keySpan.toString().startsWith("attr.")||!xv.some(r=>n.name.endsWith(`.${r}`))?[]:[t.makeTemplateDiagnostic(n.keySpan,`The ${xv.map(r=>`'.${r}'`).join(", ")} suffixes are only supported on style bindings.`)]:[]}},e0={code:ee.SUFFIX_NOT_SUPPORTED,name:Ht.SUFFIX_NOT_SUPPORTED,create:()=>new Z_},t0=class extends Ds{constructor(){super(...arguments),this.code=ee.TEXT_ATTRIBUTE_NOT_BINDING}visitNode(t,e,n){if(!(n instanceof bt))return[];let s=n.name;if(!s.startsWith("attr.")&&!s.startsWith("style.")&&!s.startsWith("class."))return[];let r;if(s.startsWith("attr.")){let o=s.replace("attr.","");r="Static attributes should be written without the 'attr.' prefix.",n.value&&(r+=` For example, ${o}="${n.value}".`)}else{let o=`[${s}]`,a=n.value==="true"||n.value==="false"?n.value:`'${n.value}'`;r="Attribute, style, and class bindings should be enclosed with square braces.",n.value&&(r+=` For example, '${o}="${a}"'.`)}return[t.makeTemplateDiagnostic(n.sourceSpan,r)]}},n0={code:ee.TEXT_ATTRIBUTE_NOT_BINDING,name:Ht.TEXT_ATTRIBUTE_NOT_BINDING,create:()=>new t0},wv;(function(t){t.Warning="warning",t.Error="error",t.Suppress="suppress"})(wv||(wv={}));var r0=[G_,X_,J_,j_,n0,z_,e0,q_],lM=new Set([Ht.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION,...r0.map(t=>t.name)]);var Tv;(function(t){t[t.Fresh=0]="Fresh",t[t.IncrementalTypeScript=1]="IncrementalTypeScript",t[t.IncrementalResource=2]="IncrementalResource"})(Tv||(Tv={}));var kv=require("module"),e2=(0,kv.createRequire)(Ee),Wp;(function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"})(Wp||(Wp={}));var jp="\x1B[0m",l0="\x1B[31m",c0="\x1B[33m",u0="\x1B[36m",t2=`${u0}Debug:${jp}`,n2=`${c0}Warning:${jp}`,s2=`${l0}Error:${jp}`;var M2=(0,Rv.createRequire)(Ee),W2=new Fi("17.2.1");Qp(new th);0&&(module.exports={angularJitApplicationTransform});
/*! Bundled license information:

@angular/compiler-cli/bundles/chunk-UM6JO3VZ.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   * @license Angular v17.2.1
   * (c) 2010-2022 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   *
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-CVK4HV4K.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-64JBPJBS.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-PQBKKYRL.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-KYE5EYIK.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-6VEEN3ZS.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-KMYUI7UU.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-LYJKWJUC.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/index.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
*/
